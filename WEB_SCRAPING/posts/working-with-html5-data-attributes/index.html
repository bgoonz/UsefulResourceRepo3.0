<!doctype html>
<html lang="en">
  
<!-- Mirrored from www.abeautifulsite.net/posts/working-with-html5-data-attributes/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Oct 2021 09:00:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Working with HTML5 data attributes</title>
    <meta name="description" content="A blog about everything web. Est. 2007">
    <link rel="stylesheet" href="../../css/index.css">
    <link rel="alternate" href="../../feed/feed.xml" type="application/atom+xml" title="A Beautiful Site">
    <link rel="alternate" href="../../feed/feed.json" type="application/json" title="A Beautiful Site">
    <link rel="icon" href="../../images/logos/leaf.svg" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.gstatic.com/">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
  </head>
  <body class="post-template">
    <header>
      <a href="../../index.html" class="header-link">
        <img src="../../images/logos/wordmark.svg" alt="A Beautiful Site" class="wordmark">
      </a>

      <nav class="nav">
          <a class="nav-item" href="../../index.html">
            Home
          </a>
          <a class="nav-item" href="../../tags/index.html">
            Tags
          </a>
          <a class="nav-item" href="../index.html">
            Archive
          </a>
          <a class="nav-item" href="../../about/index.html">
            About
          </a>
        <a class="nav-item" href="#search" arial-label="Search" title="Press / to search" data-site-search>
          <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
          </svg>
        </a>
      </nav>
    </header>

    <main class="content">
      
<hr>

<article class="post">
  <h1>Working with HTML5 data attributes</h1>

  <div class="post-date">
    <time datetime="2014-08-21">
      August 21, 2014
    </time>
    &bull;
    3 min read
  </div>

  

  <p>Before HTML5, working with arbitrary data sucked. To keep things valid, you had to stuff things into <code>rel</code> or <code>class</code> attributes. Some developers even created their own custom attributes. Boy, was it a mess.</p>
<p>But that all changed with the introduction of HTML5 custom data attributes. Now you can store arbitrary data in an easy, standards-compliant way.</p>
<h2 id="how-do-data-attributes-work%3F">How do data attributes work? <a class="direct-link" href="#how-do-data-attributes-work%3F">#</a></h2>
<p>A data attribute is exactly that: a custom attribute that stores data. They are always prefixed with <code>data-</code> followed by something descriptive (according to <a href="http://www.w3.org/html/wg/drafts/html/master/dom.html#custom-data-attribute">the spec</a>, only lower case letters and hyphens are allowed). An element can have any number of data attributes you want.</p>
<p>Here's an example using a list item to store data for a user:</p>
<pre><code class="language-html">&lt;li data-id=&quot;1234&quot; data-email=&quot;calvin@example.com&quot; data-age=&quot;21&quot;&gt;Calvin&lt;/li&gt;
</code></pre>
<p>Of course, this data isn't very useful to a visitor because they can't actually see it, but it's wildly useful for building web applications. Imagine a delete button in your app:</p>
<pre><code class="language-html">&lt;button type=&quot;button&quot; data-cmd=&quot;delete&quot; data-id=&quot;1234&quot;&gt;Delete&lt;/button&gt;
</code></pre>
<p>All the data you need is right there to send to your backend script. No more <code>rel</code> stuffing or parsing IDs and actions out of other attributes. Data URLs make your life easier.</p>
<h2 id="what-can-you-store%3F">What can you store? <a class="direct-link" href="#what-can-you-store%3F">#</a></h2>
<p>One thing to remember when working with data attributes is that you can't store objects in them. Well, you can if you serialize them, but we'll save that for another post.</p>
<p>For now, just know that you're pretty much limited to storing strings.</p>
<h2 id="reading%2Fwriting-data-attributes-with-javascript">Reading/writing data attributes with JavaScript <a class="direct-link" href="#reading%2Fwriting-data-attributes-with-javascript">#</a></h2>
<p>Using the delete button as an example, let's look at how we can access this data with JavaScript.</p>
<pre><code class="language-js">// Here's our button
var button = document.getElementById('your-button-id');

// Get the values
var cmd = button.getAttribute('data-cmd');
var id = button.getAttribute('data-id');

// Change the values
button.setAttribute('data-cmd', yourNewCmd);
button.setAttribute('data-id', yourNewId);
</code></pre>
<p>Pretty simple, right? Now you can pass <code>cmd</code> and <code>id</code> to your app in an AJAX request or do whatever else you need to do with it.</p>
<h2 id="reading%2Fwriting-data-attributes-with-jquery">Reading/writing data attributes with jQuery <a class="direct-link" href="#reading%2Fwriting-data-attributes-with-jquery">#</a></h2>
<p>Here's the same thing using jQuery's <a href="http://api.jquery.com/attr/"><code>.attr()</code></a> method:</p>
<pre><code class="language-js">// Get the values
var cmd = $('#your-button-id').attr('data-cmd');
var id = $('#your-button-id').attr('data-id');

// Change the values
$('#your-button-id')
    .attr('data-cmd', yourNewCmd)
    .attr('data-id', yourNewId);
</code></pre>
<p>Don't get this confused with jQuery's <a href="http://api.jquery.com/data/"><code>.data()</code></a> method. Although there is some overlap in how data attributes and <code>.data()</code> work, they're two totally different things. If you're not familiar with it, just stick with <code>.attr()</code>.</p>
<h2 id="using-the-dataset-api">Using the dataset API <a class="direct-link" href="#using-the-dataset-api">#</a></h2>
<p>HTML5 actually has an API just for working with this type of data. Alas, <a href="http://caniuse.com/#feat=dataset">IE10 and below</a> don't fully support it, but it's still worth mentioning.</p>
<p>Using the button example again, here's how to get and set data attributes using the dataset API:</p>
<pre><code class="language-js">// Here's our button
var button = document.getElementById('your-button-id');

// Get the values
var cmd = button.dataset.cmd;
var id = button.dataset.id;

// Change the values
button.dataset.cmd = yourNewCmd;
button.dataset.id = yourNewId;
</code></pre>
<p>Note how there's no <code>data</code> prefix or dashes here. Similar to the way CSS properties work in JavaScript, you'll need to use camel case notation. The dataset API converts each one so you'll always have <code>data-some-attribute-name</code> in your HTML and <code>dataset.someAttributeName</code> in your JavaScript. Magic!</p>
<h2 id="things-you-can-do-with-data-attributes">Things you can do with data attributes <a class="direct-link" href="#things-you-can-do-with-data-attributes">#</a></h2>
<p>The examples above are very basic, but you can do so much with custom data attributes. Here are a few examples off the top of my head.</p>
<h3 id="filtering">Filtering <a class="direct-link" href="#filtering">#</a></h3>
<p>Say you have a list of things and you want to filter them by keyword. Just put the keywords into a data attribute and write a short script to loop through and show/hide them accordingly.</p>
<pre><code class="language-html">&lt;input type=&quot;text&quot; id=&quot;filter&quot;&gt;

&lt;ul class=&quot;cars&quot;&gt;
    &lt;li data-models=&quot;mustang, f150, 500, fusion&quot;&gt;Ford&lt;/li&gt;
    &lt;li data-models=&quot;corvette, silverado, impala, cavalier&quot;&gt;Chevrolet&lt;/li&gt;
    ...
&lt;/ul&gt;
</code></pre>
<p>Here's a quick and dirty filter using jQuery:</p>
<pre><code>$('#filter').on('keyup', function() {
  var keyword = $(this).val().toLowerCase();
  $('.cars &gt; li').each(function() {
    $(this).toggle(keyword.length &lt; 1 || $(this).attr('data-models').indexOf(keyword) &gt; -1);
  });
});
</code></pre>
<h3 id="styling">Styling <a class="direct-link" href="#styling">#</a></h3>
<p>It's arguably better to use classes, but you can style things against data attributes too. Here's how to apply a style if the element has a certain data attribute (regardless of its value). First, the HTML:</p>
<pre><code class="language-html">&lt;span class=&quot;label&quot; data-warning&gt;
</code></pre>
<p>Now the CSS:</p>
<pre><code class="language-css">[data-warning] {
  background: red;
}
</code></pre>
<p>But what if we wanted to style it based on the data attribute's value? This will work for any <code>data-warning</code> attribute that contains the word <em>error</em>:</p>
<pre><code class="language-css">[data-warning*=error] {
    color: red;
}
</code></pre>
<h3 id="configuring">Configuring <a class="direct-link" href="#configuring">#</a></h3>
<p><a href="http://getbootstrap.com/">Bootstrap</a> uses data attributes as an HTML alternative to configuring plugins via JavaScript. Here's an example of a <a href="http://getbootstrap.com/javascript/#popovers">popover</a>:</p>
<pre><code class="language-html">&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-container=&quot;body&quot; data-toggle=&quot;popover&quot; data-placement=&quot;top&quot; data-content=&quot;Vivamus sagittis lacus vel augue laoreet rutrum faucibus.&quot;&gt;
  Popover on top
&lt;/button&gt;
</code></pre>
<h2 id="a-better-way-to-store-data">A better way to store data <a class="direct-link" href="#a-better-way-to-store-data">#</a></h2>
<p>Custom data attributes are widely used all over the web. The nice thing is that they work fine in older browsers, and they adhere to web standards moving forward. That means you can start using them today knowing that they won't stop working tomorrow.</p>
<p>I've shown you a few common ways to use custom data attributes. What other uses can you think of? Have you used them before? Let me know by commenting below!</p>


  <div class="tags">
    
  <a href="../../tags/development/index.html" class="post-tag">development</a>
  <a href="../../tags/html/index.html" class="post-tag">html</a>

  </div>
</article>

<hr>

<footer class="post-footer">
  <img src="http://0.gravatar.com/avatar/bf1b3b95fd5b096a3592247c29667b33?s=512" alt="Photo of Cory" class="avatar avatar-small">

  <p>
    Written by <a href="../../index-4.html">Cory LaViska</a>, a software engineer and UX architect responsible for
    <a href="https://shoelace.style/">Shoelace.style</a>, <a href="https://www.surrealcms.com/">Surreal&nbsp;CMS</a>, and
    other <a href="https://github.com/claviska">open source things</a>.
  </p>

  <p>
    You can follow Cory on <a href="https://twitter.com/claviska">Twitter</a> and <a href="https://github.com/claviska">GitHub</a>.
  </p>
</footer>

<hr>

<nav class="post-nav">
    <a href="../is-it-possible-to-be-an-introverted-entrepreneur/index.html" class="post-nav-previous">
      <small>Previous post</small>
      Is it possible to be an introverted entrepreneur?
    </a>
  
    <a href="../find-a-name-for-almost-any-hex-color/index.html" class="post-nav-next">
      <small>Up next</small>
      Find a name for almost any hex color
    </a>
  
</nav>

    </main>

    <div class="site-search" hidden>
      <div class="site-search-panel">
        <header class="site-search-header">
          <input type="text" placeholder="Search" class="site-search-input">
        </header>
        <div class="site-search-body">
          <ul class="site-search-results"></ul>
        </div>
      </div>
    </div>

    <script src="../../../cdn.jsdelivr.net/npm/lunr%402.3.9/lunr.min.js"></script>
    <script src="../../js/search.js"></script>

    <script defer src="../../js/greeting.js"></script>
    <script defer src="../../../cdn.jsdelivr.net/gh/PrismJS/prism%401.23.0/prism.js"></script>
    <script defer src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-bash.js"></script>
    <script defer src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-markup-templating.js"></script>
    <script defer src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-php.js"></script>
    <script defer src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-typescript.js"></script>

    <!-- Current page: /posts/working-with-html5-data-attributes/ -->
  </body>

<!-- Mirrored from www.abeautifulsite.net/posts/working-with-html5-data-attributes/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Oct 2021 09:00:10 GMT -->
</html>
