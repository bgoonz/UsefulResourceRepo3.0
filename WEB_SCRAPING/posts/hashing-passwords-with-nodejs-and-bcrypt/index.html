<!DOCTYPE html>
<html lang="en">
  <!-- Mirrored from www.abeautifulsite.net/posts/hashing-passwords-with-nodejs-and-bcrypt/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Oct 2021 09:00:03 GMT -->
  <!-- Added by HTTrack --><meta
    http-equiv="content-type"
    content="text/html;charset=utf-8"
  /><!-- /Added by HTTrack -->
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hashing Passwords with Node.js and bcrypt</title>
    <meta name="description" content="A blog about everything web. Est. 2007" />
    <link rel="stylesheet" href="../../css/index.css" />
    <link
      rel="alternate"
      href="../../feed/feed.xml"
      type="application/atom+xml"
      title="A Beautiful Site"
    />
    <link
      rel="alternate"
      href="../../feed/feed.json"
      type="application/json"
      title="A Beautiful Site"
    />
    <link rel="icon" href="../../images/logos/leaf.svg" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="post-template">
    <header>
      <a href="../../index.html" class="header-link">
        <img
          src="../../images/logos/wordmark.svg"
          alt="A Beautiful Site"
          class="wordmark"
        />
      </a>

      <nav class="nav">
        <a class="nav-item" href="../../index.html"> Home </a>
        <a class="nav-item" href="../../tags/index.html"> Tags </a>
        <a class="nav-item" href="../index.html"> Archive </a>
        <a class="nav-item" href="../../about/index.html"> About </a>
        <a
          class="nav-item"
          href="#search"
          arial-label="Search"
          title="Press / to search"
          data-site-search
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
            />
          </svg>
        </a>
      </nav>
    </header>

    <main class="content">
      <hr />

      <article class="post">
        <h1>Hashing Passwords with Node.js and bcrypt</h1>

        <div class="post-date">
          <time datetime="2017-02-08"> February 08, 2017 </time>
          &bull; 1 min read
        </div>

        <p>
          The
          <a href="https://www.npmjs.com/package/bcrypt"
            >bcrypt library on NPM</a
          >
          makes it really easy to hash and compare passwords in Node. If you're
          coming from a PHP background, these are roughly equivalent to
          <a href="http://php.net/manual/en/function.password-hash.php"
            >password_hash()</a
          >
          and
          <a href="http://php.net/manual/en/function.password-verify.php"
            >password_verify()</a
          >.
        </p>
        <p>
          Bcrypt is the de facto way to hash and store passwords. For a brief
          explanation of why we use one-way hashes instead of encryption, check
          out <a href="http://stackoverflow.com/a/326706">this answer</a> on
          StackOverflow.
        </p>
        <h2 id="installing">
          Installing <a class="direct-link" href="#installing">#</a>
        </h2>
        <p>To use the library, simply install with NPM:</p>
        <pre><code class="language-bash">npm install --save bcrypt
</code></pre>
        <p>Then include it like this:</p>
        <pre><code class="language-js">const bcrypt = require('bcrypt');
</code></pre>
        <h2 id="creating-and-verifying-a-password-hash">
          Creating and verifying a password hash
          <a class="direct-link" href="#creating-and-verifying-a-password-hash"
            >#</a
          >
        </h2>
        <p>
          Bcrypt supports both sync and async methods. The asynchronous approach
          is recommended because hashing is CPU intensive, and the synchronous
          version will block the event loop and prevent your app from handling
          other requests until it finishes.
        </p>
        <p>
          Thus, while the sync version is more convenient, it's best to stick
          with async if you're concerned about performance.
        </p>
        <h3 id="asynchronous-version">
          Asynchronous version
          <a class="direct-link" href="#asynchronous-version">#</a>
        </h3>
        <p>
          Hashing a password is as simple as this. The second argument is the
          number of rounds to use when generating a salt.
        </p>
        <pre><code class="language-js">bcrypt.hash('myPassword', 10, function(err, hash) {
  // Store hash
});
</code></pre>
        <p>To verify the password later on:</p>
        <pre><code class="language-js">bcrypt.compare('somePassword', hash, function(err, res) {
  if (res) {
   // Passwords match
  } else {
   // Passwords don't match
  }
});
</code></pre>
        <h3 id="synchronous-version">
          Synchronous version
          <a class="direct-link" href="#synchronous-version">#</a>
        </h3>
        <p>If you prefer a synchronous approach, you can do this instead:</p>
        <pre><code class="language-js">let hash = bcrypt.hashSync('myPassword', 10);

// Store hash
</code></pre>
        <p>To verify the password later on:</p>
        <pre><code class="language-js">if (bcrypt.compareSync('somePassword', hash)) {
 // Passwords match
} else {
 // Passwords don't match
}
</code></pre>
        <p>
          That's it! You've just hashed and verified your first password using
          Node.js and bcrypt!
        </p>

        <div class="tags">
          <a href="../../tags/development/index.html" class="post-tag"
            >development</a
          >
          <a href="../../tags/javascript/index.html" class="post-tag"
            >javascript</a
          >
          <a href="../../tags/node.js/index.html" class="post-tag">node.js</a>
        </div>
      </article>

      <hr />

      <footer class="post-footer">
        <img
          src="http://0.gravatar.com/avatar/bf1b3b95fd5b096a3592247c29667b33?s=512"
          alt="Photo of Cory"
          class="avatar avatar-small"
        />

        <p>
          Written by <a href="../../index-4.html">Cory LaViska</a>, a software
          engineer and UX architect responsible for
          <a href="https://shoelace.style/">Shoelace.style</a>,
          <a href="https://www.surrealcms.com/">Surreal&nbsp;CMS</a>, and other
          <a href="https://github.com/claviska">open source things</a>.
        </p>

        <p>
          You can follow Cory on
          <a href="https://twitter.com/bgooonz">Twitter</a> and
          <a href="https://github.com/claviska">GitHub</a>.
        </p>
      </footer>

      <hr />

      <nav class="post-nav">
        <a href="../using-an-orm/index.html" class="post-nav-previous">
          <small>Previous post</small>
          Using an ORM
        </a>

        <a
          href="../determining-your-apps-base-directory-in-nodejs/index.html"
          class="post-nav-next"
        >
          <small>Up next</small>
          Determining your app&#39;s base directory in Node.js
        </a>
      </nav>
    </main>

    <div class="site-search" hidden>
      <div class="site-search-panel">
        <header class="site-search-header">
          <input type="text" placeholder="Search" class="site-search-input" />
        </header>
        <div class="site-search-body">
          <ul class="site-search-results"></ul>
        </div>
      </div>
    </div>

    <script src="../../../cdn.jsdelivr.net/npm/lunr%402.3.9/lunr.min.js"></script>
    <script src="../../js/search.js"></script>

    <script defer src="../../js/greeting.js"></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/gh/PrismJS/prism%401.23.0/prism.js"
    ></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-bash.js"
    ></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-markup-templating.js"
    ></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-php.js"
    ></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-typescript.js"
    ></script>

    <!-- Current page: /posts/hashing-passwords-with-nodejs-and-bcrypt/ -->
  </body>

  <!-- Mirrored from www.abeautifulsite.net/posts/hashing-passwords-with-nodejs-and-bcrypt/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Oct 2021 09:00:03 GMT -->
</html>
