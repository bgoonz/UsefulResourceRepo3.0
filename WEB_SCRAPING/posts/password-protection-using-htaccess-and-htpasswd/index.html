<!DOCTYPE html>
<html lang="en">
  <!-- Mirrored from www.abeautifulsite.net/posts/password-protection-using-htaccess-and-htpasswd/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Oct 2021 09:00:21 GMT -->
  <!-- Added by HTTrack --><meta
    http-equiv="content-type"
    content="text/html;charset=utf-8"
  /><!-- /Added by HTTrack -->
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Password protection using .htaccess and .htpasswd</title>
    <meta name="description" content="A blog about everything web. Est. 2007" />
    <link rel="stylesheet" href="../../css/index.css" />
    <link
      rel="alternate"
      href="../../feed/feed.xml"
      type="application/atom+xml"
      title="A Beautiful Site"
    />
    <link
      rel="alternate"
      href="../../feed/feed.json"
      type="application/json"
      title="A Beautiful Site"
    />
    <link rel="icon" href="../../images/logos/leaf.svg" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="post-template">
    <header>
      <a href="../../index.html" class="header-link">
        <img
          src="../../images/logos/wordmark.svg"
          alt="A Beautiful Site"
          class="wordmark"
        />
      </a>

      <nav class="nav">
        <a class="nav-item" href="../../index.html"> Home </a>
        <a class="nav-item" href="../../tags/index.html"> Tags </a>
        <a class="nav-item" href="../index.html"> Archive </a>
        <a class="nav-item" href="../../about/index.html"> About </a>
        <a
          class="nav-item"
          href="#search"
          arial-label="Search"
          title="Press / to search"
          data-site-search
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
            />
          </svg>
        </a>
      </nav>
    </header>

    <main class="content">
      <hr />

      <article class="post">
        <h1>Password protection using .htaccess and .htpasswd</h1>

        <div class="post-date">
          <time datetime="2007-04-29"> April 29, 2007 </time>
          &bull; 2 min read
        </div>

        <div class="legacy-warning">
          <img
            src="../../images/artwork/pointer.gif"
            alt="A drawing of a cartoon man pointing upwards"
          />
          <p>
            Heads up! This post was written in 2007, so it may contain
            information that is no longer accurate. I keep posts like this
            around for historical purposes and to prevent link rot, so please
            keep this in mind as you're reading.
          </p>
          <p>â€” Cory</p>
        </div>

        <p>
          The simplest way I know to password protect files and directories
          using Apache's <code>.htaccess</code> and
          <code>.htpasswd</code> files.
        </p>
        <h2 id=".htpasswd">
          .htpasswd <a class="direct-link" href="#.htpasswd">#</a>
        </h2>
        <p>Create a text file with the following text:</p>
        <pre><code>username:password
</code></pre>
        <p>
          The usernames and passwords are stored in this file, one per line,
          separated by a colon. To allow multiple users:
        </p>
        <pre><code>firstUser:password
secondUser:password
thirdUser:password
...
</code></pre>
        <p>
          Now, for each password, you have to encrypt it using the
          <code>htpasswd</code> program (included with Apache). If you don't
          have this program, you should be able to find a
          <a href="http://www.google.com/search?q=htpasswd+generator"
            >tool on the web</a
          >
          that can do it. If you have Apache installed on your local system, I
          strongly recommend using it (You can also generate the entire file
          with this program, saving you the hassle of creating it in a text
          editor. Visit
          <a href="http://httpd.apache.org/docs/2.0/programs/htpasswd.html"
            >Apache's website</a
          >
          to learn how).
        </p>
        <h3 id="windows-users">
          Windows users <a class="direct-link" href="#windows-users">#</a>
        </h3>
        <ol>
          <li>
            Open a command prompt (Start | Run |
            <a href="http://command.com/">command.com</a>)
          </li>
          <li>
            type <code>htpasswd -nb username password</code>, replacing username
            and password with the appropriate values
          </li>
        </ol>
        <p>
          If you get an error message, you'll have to navigate to the directory
          containing htpasswd.exe (usually Apache[version]bin). If you're not
          sure where it is, do a search on your system to find it. Once you're
          in the right directory, try the command again.
        </p>
        <h3 id="linux-users">
          Linux users <a class="direct-link" href="#linux-users">#</a>
        </h3>
        <ol>
          <li>Open a terminal</li>
          <li>
            type <code>htpasswd -nb username password</code>, replacing username
            and password with the appropriate values
          </li>
        </ol>
        <p>
          The program will output something like:
          <code>username:password</code>. Copy this into your
          <code>.htpasswd</code> file and save it as
          <code>.htpasswd</code> (windows users will have to save it as
          <code>htpasswd.txt</code> and rename it to
          <code>.htpasswd</code> after uploading).
        </p>
        <h2 id=".htaccess">
          .htaccess <a class="direct-link" href="#.htaccess">#</a>
        </h2>
        <p>
          Now you're ready to write your <code>.htaccess</code> file. This will
          let Apache know that you want it to use your
          <code>.htpasswd</code> file for authentication. You can protect one or
          more directories and/or files this way. To create your
          <code>.htaccess</code> file, create a new text file:
        </p>
        <h3 id="protecting-an-entire-directory">
          Protecting an entire directory
          <a class="direct-link" href="#protecting-an-entire-directory">#</a>
        </h3>
        <pre><code class="language-apacheconf">AuthUserFile /[path]/.htpasswd
AuthType Basic
AuthName &quot;Login to access this folder&quot;
require valid-user
</code></pre>
        <h3 id="protecting-a-single-file">
          Protecting a single file
          <a class="direct-link" href="#protecting-a-single-file">#</a>
        </h3>
        <pre><code class="language-apacheconf">AuthUserFile /[path]/.htpasswd
AuthType Basic
AuthName &quot;Login to access this file&quot;
Allow From All
require valid-user
</code></pre>
        <p>
          <code>AuthUserFile</code> is the server location of the
          <code>.htpasswd</code> file you have just created. You will need to
          adjust the path according to your directory structure so that it
          points to the correct location.
          <strong>THIS IS VERY IMPORTANT!</strong>
        </p>
        <p>
          Save it as <code>.htaccess</code> (windows users will have to save it
          as <code>htaccess.txt</code> and rename it to
          <code>.htaccess</code> after uploading).
        </p>
        <h2 id="uploading">
          Uploading <a class="direct-link" href="#uploading">#</a>
        </h2>
        <p>
          Upload both of the files to the appropriate directories on your
          webserver. Open a browser and navigate to the respective URL. You
          should get a login dialog that prompts you for a username and
          password.
        </p>
        <h2 id="troubleshooting">
          Troubleshooting <a class="direct-link" href="#troubleshooting">#</a>
        </h2>
        <p>If the authentication doesn't work, I would suggest:</p>
        <ol>
          <li>
            Checking the path you set after <code>AuthUserFile</code>in
            <code>.htaccess</code>
          </li>
          <li>
            Verifying that <code>AllowOverride None</code>is not present in the
            section of your Apache config file (usually called httpd.conf) that
            corresponds to the correct host. In some cases, you may have to
            specify <code>AllowOverride All</code> before it will work (even
            though this is default setting).
          </li>
          <li>
            If you used a web-based password encryptor instead of the
            <code>htpasswd</code> program, <strong>try another one</strong>. I
            found that many would return encrypted strings that Apache could not
            authenticate for some reason.
          </li>
        </ol>
        <p>Good luck!</p>

        <div class="tags">
          <a href="../../tags/apache/index.html" class="post-tag">apache</a>
          <a href="../../tags/development/index.html" class="post-tag"
            >development</a
          >
        </div>
      </article>

      <hr />

      <footer class="post-footer">
        <img
          src="http://0.gravatar.com/avatar/bf1b3b95fd5b096a3592247c29667b33?s=512"
          alt="Photo of Cory"
          class="avatar avatar-small"
        />

        <p>
          Written by <a href="../../index-4.html">Cory LaViska</a>, a software
          engineer and UX architect responsible for
          <a href="https://shoelace.style/">Shoelace.style</a>,
          <a href="https://www.surrealcms.com/">Surreal&nbsp;CMS</a>, and other
          <a href="https://github.com/claviska">open source things</a>.
        </p>

        <p>
          You can follow Cory on
          <a href="https://twitter.com/bgooonz">Twitter</a> and
          <a href="https://github.com/claviska">GitHub</a>.
        </p>
      </footer>

      <hr />

      <nav class="post-nav">
        <a
          href="../gif-jpeg-or-png-using-images-on-the-web/index.html"
          class="post-nav-previous"
        >
          <small>Previous post</small>
          GIF, JPEG or PNG? Using images on the web
        </a>

        <a
          href="../using-javascript-to-prevent-comment-spam/index.html"
          class="post-nav-next"
        >
          <small>Up next</small>
          Using JavaScript to prevent comment spam
        </a>
      </nav>
    </main>

    <div class="site-search" hidden>
      <div class="site-search-panel">
        <header class="site-search-header">
          <input type="text" placeholder="Search" class="site-search-input" />
        </header>
        <div class="site-search-body">
          <ul class="site-search-results"></ul>
        </div>
      </div>
    </div>

    <script src="../../../cdn.jsdelivr.net/npm/lunr%402.3.9/lunr.min.js"></script>
    <script src="../../js/search.js"></script>

    <script defer src="../../js/greeting.js"></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/gh/PrismJS/prism%401.23.0/prism.js"
    ></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-bash.js"
    ></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-markup-templating.js"
    ></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-php.js"
    ></script>
    <script
      defer
      src="../../../cdn.jsdelivr.net/npm/prismjs%401.23.0/components/prism-typescript.js"
    ></script>

    <!-- Current page: /posts/password-protection-using-htaccess-and-htpasswd/ -->
  </body>

  <!-- Mirrored from www.abeautifulsite.net/posts/password-protection-using-htaccess-and-htpasswd/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 12 Oct 2021 09:00:21 GMT -->
</html>
