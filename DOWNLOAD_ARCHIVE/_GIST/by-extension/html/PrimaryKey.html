<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>PrimaryKey</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <h4 id="primary-key">Primary Key</h4>
    <h1 id="what-is-a-primary-key">What Is a Primary Key?</h1>
    <p>
      A primary key of a table is a column that uniquely identifies each row in
      the table. A primary key column has several restrictions:
    </p>
    <ul>
      <li>
        It must be unique. To identify each row, the column cannot contain
        similar values for different rows.
      </li>
      <li>It must contain a value. A primary key cannot be NULL.</li>
      <li>
        A table can only have one primary key. A table can have multiple unique
        columns, but only one primary key.
      </li>
    </ul>
    <p>
      It is usually useful to use auto-incrementing values as a primary key. For
      example, the first row gets the value 1, the second row gets the value 2,
      and so on.
    </p>
    <p>
      PostgreSQL provides a way to automatically generate sequential values for
      a column usingÂ <code>identity</code>.
    </p>
    <p>
      Going back to the table definition from the previous step, this is the
      syntax you used to declare theÂ <code>id</code>Â column:
    </p>
    <pre><code>id int generated by default as identity primary key,</code></pre>
    <p>Letâ€™s break it down:</p>
    <ul>
      <li><code>id</code>: The name of the column</li>
      <li><code>int</code>: The type of the column</li>
      <li>
        <code>generated by default as identity</code>: Create a sequence and
        automatically populate the column with the next value when new rows are
        added
      </li>
      <li>
        <code>primary key</code>: Declare the column as the primary key of the
        table
      </li>
    </ul>
    <p>
      To inspect the table and the related objects the database created for the
      primary, execute the following command in the terminal:
    </p>
    <pre><code>\d shorturl</code></pre>
    <p>In the output, notice the following:</p>
    <ul>
      <li>
        The database automatically created an index for
        theÂ <code>id</code>Â column.
      </li>
      <li>
        The database automatically marked theÂ <code>id</code>Â column as not
        null.
      </li>
    </ul>
    <p>
      ðŸ“š The relevant documentation on primary keys can be foundÂ <a
        href="https://www.postgresql.org/docs/13/ddl-constraints.html#DDL-CONSTRAINTS-PRIMARY-KEYS"
        >here</a
      >.
    </p>
    <p>
      Now that you defined a primary key, you can move on to the other columns
      in the table.
    </p>
  </body>
</html>
