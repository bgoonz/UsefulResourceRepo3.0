# fractions \-\-- Rational Numbers

::: {.module synopsis="Implements a class for working with rational numbers."} fractions :::

Purpose

: Implements a class for working with rational numbers.

The `Fraction` class implements numerical operations for rational numbers based on the API defined by `Rational` in the `numbers`{.interpreted-text role="mod"} module.

## Creating Fraction Instances

As with the `decimal`{.interpreted-text role="mod"} module, new values can be created in several ways. One easy way is to create them from separate numerator and denominator values:

::: {.literalinclude caption="" start-after="#end_pymotw_header"} fractions_create_integers.py :::

The lowest common denominator is maintained as new values are computed.

```{.sourceCode .none}
$ python3 fractions_create_integers.py

1/2 = 1/2
2/4 = 1/2
3/6 = 1/2
```

Another way to create a `Fraction` is using a string representation of `<numerator> / <denominator>`:

::: {.literalinclude caption="" start-after="#end_pymotw_header"} fractions_create_strings.py :::

The string is parsed to find the numerator and denominator values.

```{.sourceCode .none}
$ python3 fractions_create_strings.py

1/2 = 1/2
2/4 = 1/2
3/6 = 1/2
```

Strings can also use the more usual decimal or floating point notation of series of digits separated by a period. Any string that can be parsed by `float()` and that does not represent \"not a number\" (`NaN`) or an infinite value is supported.

::: {.literalinclude caption="" start-after="#end_pymotw_header"} fractions_create_strings_floats.py :::

The numerator and denominator values represented by the floating point value is computed automatically.

```{.sourceCode .none}
$ python3 fractions_create_strings_floats.py

 0.5 = 1/2
 1.5 = 3/2
 2.0 = 2
5e-1 = 1/2
```

It is also possible to create `Fraction` instances directly from other representations of rational values, such as `float` or `Decimal`.

::: {.literalinclude caption="" start-after="#end_pymotw_header"} fractions_from_float.py :::

Floating point values that cannot be expressed exactly may yield unexpected results.

```{.sourceCode .none}
$ python3 fractions_from_float.py

0.1 = 3602879701896397/36028797018963968
0.5 = 1/2
1.5 = 3/2
2.0 = 2
```

Using `Decimal` representations of the values gives the expected results.

::: {.literalinclude caption="" start-after="#end_pymotw_header"} fractions_from_decimal.py :::

The internal implementation of `Decimal` does not suffer from the precision errors of the standard floating point representation.

```{.sourceCode .none}
$ python3 fractions_from_decimal.py

0.1 = 1/10
0.5 = 1/2
1.5 = 3/2
2.0 = 2
```

## Arithmetic

Once the fractions are instantiated, they can be used in mathematical expressions.

::: {.literalinclude caption="" start-after="#end_pymotw_header"} fractions_arithmetic.py :::

All of the standard operators are supported.

```{.sourceCode .none}
$ python3 fractions_arithmetic.py

1/2 + 3/4 = 5/4
1/2 - 3/4 = -1/4
1/2 * 3/4 = 3/8
1/2 / 3/4 = 2/3
```

## Approximating Values

A useful feature of `Fraction` is the ability to convert a floating point number to an approximate rational value.

::: {.literalinclude caption="" start-after="#end_pymotw_header"} fractions_limit_denominator.py :::

The value of the fraction can be controlled by limiting the size of the denominator.

```{.sourceCode .none}
$ python3 fractions_limit_denominator.py

PI       = 3.141592653589793
No limit = 3141592653589793/1000000000000000
       1 = 3
       6 = 19/6
      11 = 22/7
      60 = 179/57
      70 = 201/64
      90 = 267/85
     100 = 311/99
```

::: {.seealso}

- `fractions`{.interpreted-text role="pydoc"}
- `decimal`{.interpreted-text role="mod"} \-- The `decimal` module provides an API for fixed and floating point math.
- `numbers`{.interpreted-text role="mod"} \-- Numeric abstract base classes.
- `Python 2 to 3 porting notes for fractions <porting-fractions>`{.interpreted-text role="ref"} :::
