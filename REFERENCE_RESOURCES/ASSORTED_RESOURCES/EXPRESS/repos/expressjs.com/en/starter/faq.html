<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>Express FAQ</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">Express FAQ</h1>
    </header>
    <h1 id="faq">FAQ</h1>
    <h2 id="how-should-i-structure-my-application">
      How should I structure my application?
    </h2>
    <p>
      There is no definitive answer to this question. The answer depends on the
      scale of your application and the team that is involved. To be as flexible
      as possible, Express makes no assumptions in terms of structure.
    </p>
    <p>
      Routes and other application-specific logic can live in as many files as
      you wish, in any directory structure you prefer. View the following
      examples for inspiration:
    </p>
    <ul>
      <li>
        <a
          href="https://github.com/expressjs/express/blob/4.13.1/examples/route-separation/index.js#L32-L47"
          >Route listings</a
        >
      </li>
      <li>
        <a
          href="https://github.com/expressjs/express/blob/4.13.1/examples/route-map/index.js#L52-L66"
          >Route map</a
        >
      </li>
      <li>
        <a href="https://github.com/expressjs/express/tree/master/examples/mvc"
          >MVC style controllers</a
        >
      </li>
    </ul>
    <p>
      Also, there are third-party extensions for Express, which simplify some of
      these patterns:
    </p>
    <ul>
      <li>
        <a href="https://github.com/expressjs/express-resource"
          >Resourceful routing</a
        >
      </li>
    </ul>
    <h2 id="how-do-i-define-models">How do I define models?</h2>
    <p>
      Express has no notion of a database. This concept is left up to
      third-party Node modules, allowing you to interface with nearly any
      database.
    </p>
    <p>
      See <a href="http://loopback.io">LoopBack</a> for an Express-based
      framework that is centered around models.
    </p>
    <h2 id="how-can-i-authenticate-users">How can I authenticate users?</h2>
    <p>
      Authentication is another opinionated area that Express does not venture
      into. You may use any authentication scheme you wish. For a simple
      username / password scheme, see
      <a href="https://github.com/expressjs/express/tree/master/examples/auth"
        >this example</a
      >.
    </p>
    <h2 id="which-template-engines-does-express-support">
      Which template engines does Express support?
    </h2>
    <p>
      Express supports any template engine that conforms with the
      <code>(path, locals, callback)</code> signature. To normalize template
      engine interfaces and caching, see the
      <a href="https://github.com/visionmedia/consolidate.js">consolidate.js</a>
      project for support. Unlisted template engines might still support the
      Express signature.
    </p>
    <p>
      For more information, see
      <a href="/%7B%7Bpage.lang%7D%7D/guide/using-template-engines.html"
        >Using template engines with Express</a
      >.
    </p>
    <h2 id="how-do-i-handle-404-responses">How do I handle 404 responses?</h2>
    <p>
      In Express, 404 responses are not the result of an error, so the
      error-handler middleware will not capture them. This behavior is because a
      404 response simply indicates the absence of additional work to do; in
      other words, Express has executed all middleware functions and routes, and
      found that none of them responded. All you need to do is add a middleware
      function at the very bottom of the stack (below all other functions) to
      handle a 404 response:
    </p>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="va">app</span>.<span class="at">use</span>(<span class="kw">function</span> (req<span class="op">,</span> res<span class="op">,</span> next) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="va">res</span>.<span class="at">status</span>(<span class="dv">404</span>).<span class="at">send</span>(<span class="st">&quot;Sorry can&#39;t find that!&quot;</span>)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="op">}</span>)</a></code></pre>
    </div>
    <p>
      Add routes dynamically at runtime on an instance of
      <code>express.Router()</code> so the routes are not superseded by a
      middleware function.
    </p>
    <h2 id="how-do-i-setup-an-error-handler">
      How do I setup an error handler?
    </h2>
    <p>
      You define error-handling middleware in the same way as other middleware,
      except with four arguments instead of three; specifically with the
      signature <code>(err, req, res, next)</code>:
    </p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">app</span>.<span class="at">use</span>(<span class="kw">function</span> (err<span class="op">,</span> req<span class="op">,</span> res<span class="op">,</span> next) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="va">console</span>.<span class="at">error</span>(<span class="va">err</span>.<span class="at">stack</span>)</a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="va">res</span>.<span class="at">status</span>(<span class="dv">500</span>).<span class="at">send</span>(<span class="st">&#39;Something broke!&#39;</span>)</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="op">}</span>)</a></code></pre>
    </div>
    <p>
      For more information, see
      <a href="/%7B%7B%20page.lang%20%7D%7D/guide/error-handling.html"
        >Error handling</a
      >.
    </p>
    <h2 id="how-do-i-render-plain-html">How do I render plain HTML?</h2>
    <p>
      You don’t! There’s no need to “render” HTML with the
      <code>res.render()</code> function. If you have a specific file, use the
      <code>res.sendFile()</code> function. If you are serving many assets from
      a directory, use the <code>express.static()</code> middleware function.
    </p>
    <h3 id="previous-more-examples">
      <a href="/%7B%7B%20page.lang%20%7D%7D/starter/examples.html"
        >Previous: More examples</a
      >
    </h3>
  </body>
</html>
