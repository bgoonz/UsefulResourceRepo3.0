<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>react-snippets</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p>
Renders an accordion menu with multiple collapsible content elements.
</p>
<ul>
<li>
Define an <code>AccordionItem</code> component, that renders a <code>&lt;button&gt;</code> which is used to update the component and notify its parent via the <code>handleClick</code> callback.
</li>
<li>
Use the <code>isCollapsed</code> prop in <code>AccordionItem</code> to determine its appearance and set an appropriate <code>className</code>.
</li>
<li>
Define an <code>Accordion</code> component that uses the <code>useState()</code> hook to initialize the value of the <code>bindIndex</code> state variable to <code>defaultIndex</code>.
</li>
<li>
Filter <code>children</code> to remove unnecessary nodes except for <code>AccordionItem</code> by identifying the function’s name.
</li>
<li>
Use <code>Array.prototype.map()</code> on the collected nodes to render the individual collapsible elements.
</li>
<li>
Define <code>changeItem</code>, which will be executed when clicking an <code>AccordionItem</code>’s <code>&lt;button&gt;</code>.
</li>
<li>
<code>changeItem</code> executes the passed callback, <code>onItemClick</code>, and updates <code>bindIndex</code> based on the clicked element.
</li>
</ul>
<div class="sourceCode" id="cb1">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb1-1" title="1"><span class="fu">.accordion-item.collapsed</span> {</a> <a class="sourceLine" id="cb1-2" title="2"> <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb1-3" title="3">}</a> <a class="sourceLine" id="cb1-4" title="4"></a> <a class="sourceLine" id="cb1-5" title="5"><span class="fu">.accordion-item.expanded</span> {</a> <a class="sourceLine" id="cb1-6" title="6"> <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a> <a class="sourceLine" id="cb1-7" title="7">}</a> <a class="sourceLine" id="cb1-8" title="8"></a> <a class="sourceLine" id="cb1-9" title="9"><span class="fu">.accordion-button</span> {</a> <a class="sourceLine" id="cb1-10" title="10"> <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a> <a class="sourceLine" id="cb1-11" title="11"> <span class="kw">width</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></a> <a class="sourceLine" id="cb1-12" title="12">}</a></p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">const</span> AccordionItem <span class="op">=</span> (<span class="op">{</span> label<span class="op">,</span> isCollapsed<span class="op">,</span> handleClick<span class="op">,</span> children <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="op">&amp;</span>lt<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5">      <span class="op">&amp;</span>lt<span class="op">;</span>button className<span class="op">=&amp;</span>quot<span class="op">;</span>accordion<span class="op">-</span>button<span class="op">&amp;</span>quot<span class="op">;</span> onClick<span class="op">={</span>handleClick<span class="op">}&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6">        <span class="op">{</span>label<span class="op">}</span></a>
<a class="sourceLine" id="cb1-7" title="7">      <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/button&amp;gt;</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="ss">      &amp;lt;div</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="ss">        className={`accordion-item ${isCollapsed </span><span class="sc">?</span><span class="ss"> &amp;quot;collapsed&amp;quot; : &amp;quot;expanded&amp;quot;}`}</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="ss">        aria-expanded={isCollapsed}</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="ss">      &amp;gt;</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="ss">        {children}</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="ss">      &amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb1-14" title="14">    <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb1-15" title="15"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="ss">};</span></a>
<a class="sourceLine" id="cb1-17" title="17"></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="ss">const Accordion = </span><span class="sc">(</span><span class="ss">{ defaultIndex, onItemClick, children }</span><span class="sc">)</span><span class="ss"> =&amp;gt; {</span></a>
<a class="sourceLine" id="cb1-19" title="19"><span class="ss">const </span><span class="sc">[bindIndex, setBindIndex]</span><span class="ss"> = React.useState</span><span class="sc">(</span><span class="ss">defaultIndex</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb1-20" title="20"></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="ss">const changeItem = </span><span class="sc">(</span><span class="ss">itemIndex</span><span class="sc">)</span><span class="ss"> =&amp;gt; {</span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="ss">if </span><span class="sc">(</span><span class="ss">typeof onItemClick === &amp;quot;function&amp;quot;</span><span class="sc">)</span><span class="ss"> onItemClick</span><span class="sc">(</span><span class="ss">itemIndex</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="ss">if </span><span class="sc">(</span><span class="ss">itemIndex !== bindIndex</span><span class="sc">)</span><span class="ss"> setBindIndex</span><span class="sc">(</span><span class="ss">itemIndex</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="ss">};</span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="ss">const items = children.filter</span><span class="sc">((</span><span class="ss">item</span><span class="sc">)</span><span class="ss"> =&amp;gt; item.type.name === &amp;quot;AccordionItem&amp;quot;</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb1-26" title="26"></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="ss">return </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="ss">&amp;lt;&amp;gt;</span></a>
<a class="sourceLine" id="cb1-29" title="29"><span class="ss">{items.map</span><span class="sc">((</span><span class="ss">{ props }</span><span class="sc">)</span><span class="ss"> =&amp;gt; </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="ss">&amp;lt;AccordionItem</span></a>
<a class="sourceLine" id="cb1-31" title="31"><span class="ss">isCollapsed={bindIndex !== props.index}</span></a>
<a class="sourceLine" id="cb1-32" title="32"><span class="ss">label={props.label}</span></a>
<a class="sourceLine" id="cb1-33" title="33"><span class="ss">handleClick={</span><span class="sc">()</span><span class="ss"> =&amp;gt; changeItem</span><span class="sc">(</span><span class="ss">props.index</span><span class="sc">)</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb1-34" title="34"><span class="ss">children={props.children}</span></a>
<a class="sourceLine" id="cb1-35" title="35"><span class="ss">/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb1-36" title="36">))<span class="op">}</span></a>
<a class="sourceLine" id="cb1-37" title="37"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb1-38" title="38"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb1-39" title="39"><span class="ss">};</span></a>
<a class="sourceLine" id="cb1-40" title="40"></a>
<a class="sourceLine" id="cb1-41" title="41"></a>
<a class="sourceLine" id="cb1-42" title="42"></a>
<a class="sourceLine" id="cb1-43" title="43"><span class="ss">&lt;hr /</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-44" title="44"></a>
<a class="sourceLine" id="cb1-45" title="45"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb1-46" title="46"></a>
<a class="sourceLine" id="cb1-47" title="47"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb1-48" title="48"><span class="vs">  &amp;lt;Accordion defaultIndex=&amp;quot;1&amp;quot; onItemClick={console.log}&amp;gt;</span></a>
<a class="sourceLine" id="cb1-49" title="49"><span class="vs">    &amp;lt;AccordionItem label=&amp;quot;A&amp;quot; index=&amp;quot;1&amp;quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb1-50" title="50"><span class="vs">      Lorem ipsum</span></a>
<a class="sourceLine" id="cb1-51" title="51"><span class="vs">    &amp;lt;/AccordionItem&amp;gt;</span></a>
<a class="sourceLine" id="cb1-52" title="52"><span class="vs">    &amp;lt;AccordionItem label=&amp;quot;B&amp;quot; index=&amp;quot;2&amp;quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb1-53" title="53"><span class="vs">      Dolor sit amet</span></a>
<a class="sourceLine" id="cb1-54" title="54"><span class="vs">    &amp;lt;/AccordionItem&amp;gt;</span></a>
<a class="sourceLine" id="cb1-55" title="55"><span class="vs">  &amp;lt;/Accordion&amp;gt;,</span></a>
<a class="sourceLine" id="cb1-56" title="56"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb1-57" title="57"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders an alert component with <code>type</code> prop.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create the <code>isShown</code> and <code>isLeaving</code> state variables and set both to <code>false</code> initially.
</li>
<li>
Define <code>timeoutId</code> to keep the timer instance for clearing on component unmount.
</li>
<li>
Use the <code>useEffect()</code> hook to update the value of <code>isShown</code> to <code>true</code> and clear the interval by using <code>timeoutId</code> when the component is unmounted.
</li>
<li>
Define a <code>closeAlert</code> function to set the component as removed from the DOM by displaying a fading out animation and set <code>isShown</code> to <code>false</code> via <code>setTimeout()</code>.
</li>
</ul>
<div class="sourceCode" id="cb4">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb4-1" title="1"><span class="im"><span class="citation" data-cites="keyframes">@keyframes</span></span> leave {</a> <a class="sourceLine" id="cb4-2" title="2"> <span class="dv">0%</span> {</a> <a class="sourceLine" id="cb4-3" title="3"> <span class="kw">opacity</span>: <span class="dv">1</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-4" title="4"> }</a> <a class="sourceLine" id="cb4-5" title="5"> <span class="dv">100%</span> {</a> <a class="sourceLine" id="cb4-6" title="6"> <span class="kw">opacity</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-7" title="7"> }</a> <a class="sourceLine" id="cb4-8" title="8">}</a> <a class="sourceLine" id="cb4-9" title="9"></a> <a class="sourceLine" id="cb4-10" title="10"><span class="fu">.alert</span> {</a> <a class="sourceLine" id="cb4-11" title="11"> <span class="kw">padding</span>: <span class="dv">0.75</span><span class="dt">rem</span> <span class="dv">0.5</span><span class="dt">rem</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-12" title="12"> <span class="kw">margin-bottom</span>: <span class="dv">0.5</span><span class="dt">rem</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-13" title="13"> <span class="kw">text-align</span>: <span class="dv">left</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-14" title="14"> <span class="kw">padding-right</span>: <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-15" title="15"> <span class="kw">border-radius</span>: <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-16" title="16"> <span class="kw">font-size</span>: <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-17" title="17"> <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-18" title="18">}</a> <a class="sourceLine" id="cb4-19" title="19"></a> <a class="sourceLine" id="cb4-20" title="20"><span class="fu">.alert.warning</span> {</a> <a class="sourceLine" id="cb4-21" title="21"> <span class="kw">color</span>: <span class="cn">#856404</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-22" title="22"> <span class="kw">background-color</span>: <span class="cn">#fff3cd</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-23" title="23"> <span class="kw">border-color</span>: <span class="cn">#ffeeba</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-24" title="24">}</a> <a class="sourceLine" id="cb4-25" title="25"></a> <a class="sourceLine" id="cb4-26" title="26"><span class="fu">.alert.error</span> {</a> <a class="sourceLine" id="cb4-27" title="27"> <span class="kw">color</span>: <span class="cn">#721c24</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-28" title="28"> <span class="kw">background-color</span>: <span class="cn">#f8d7da</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-29" title="29"> <span class="kw">border-color</span>: <span class="cn">#f5c6cb</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-30" title="30">}</a> <a class="sourceLine" id="cb4-31" title="31"></a> <a class="sourceLine" id="cb4-32" title="32"><span class="fu">.alert.leaving</span> {</a> <a class="sourceLine" id="cb4-33" title="33"> <span class="kw">animation</span>: leave <span class="dv">0.5</span><span class="dt">s</span> <span class="dv">forwards</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-34" title="34">}</a> <a class="sourceLine" id="cb4-35" title="35"></a> <a class="sourceLine" id="cb4-36" title="36"><span class="fu">.alert</span> <span class="fu">.close</span> {</a> <a class="sourceLine" id="cb4-37" title="37"> <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-38" title="38"> <span class="kw">top</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-39" title="39"> <span class="kw">right</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-40" title="40"> <span class="kw">padding</span>: <span class="dv">0</span> <span class="dv">0.75</span><span class="dt">rem</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-41" title="41"> <span class="kw">color</span>: <span class="cn">#333</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-42" title="42"> <span class="kw">border</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-43" title="43"> <span class="kw">height</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-44" title="44"> <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-45" title="45"> <span class="kw">background</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-46" title="46"> <span class="kw">font-weight</span>: <span class="dv">600</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-47" title="47"> <span class="kw">font-size</span>: <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-48" title="48">}</a> <a class="sourceLine" id="cb4-49" title="49"></a> <a class="sourceLine" id="cb4-50" title="50"><span class="fu">.alert</span> <span class="fu">.close</span><span class="in">:after</span> {</a> <a class="sourceLine" id="cb4-51" title="51"> <span class="kw">content</span>: <span class="st">“x”</span><span class="op">;</span></a> <a class="sourceLine" id="cb4-52" title="52">}</a></p>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">const</span> Alert <span class="op">=</span> (<span class="op">{</span> isDefaultShown <span class="op">=</span> <span class="kw">false</span><span class="op">,</span> timeout <span class="op">=</span> <span class="dv">250</span><span class="op">,</span> type<span class="op">,</span> message <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="kw">const</span> [isShown<span class="op">,</span> setIsShown] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(isDefaultShown)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="kw">const</span> [isLeaving<span class="op">,</span> setIsLeaving] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-5" title="5"></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="kw">let</span> timeoutId <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7"></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="at">setIsShown</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="at">clearTimeout</span>(timeoutId)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="op">};</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="op">},</span> [isDefaultShown<span class="op">,</span> timeout<span class="op">,</span> timeoutId])<span class="op">;</span></a>
<a class="sourceLine" id="cb2-14" title="14"></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="kw">const</span> closeAlert <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="at">setIsLeaving</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-17" title="17">timeoutId <span class="op">=</span> <span class="at">setTimeout</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-18" title="18"><span class="at">setIsLeaving</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-19" title="19"><span class="at">setIsShown</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-20" title="20"><span class="op">},</span> timeout)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="op">};</span></a>
<a class="sourceLine" id="cb2-22" title="22"></a>
<a class="sourceLine" id="cb2-23" title="23"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb2-24" title="24">isShown <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> (</a>
<a class="sourceLine" id="cb2-25" title="25"><span class="op">&amp;</span>lt<span class="op">;</span>div</a>
<a class="sourceLine" id="cb2-26" title="26">className<span class="op">={</span><span class="vs">`alert </span><span class="sc">${</span>type<span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>isLeaving <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>leaving<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;</span><span class="sc">}</span><span class="vs">`</span><span class="op">}</span></a>
<a class="sourceLine" id="cb2-27" title="27">role<span class="op">=&amp;</span>quot<span class="op">;</span>alert<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb2-28" title="28"><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb2-29" title="29"><span class="op">&amp;</span>lt<span class="op">;</span>button className<span class="op">=&amp;</span>quot<span class="op">;</span>close<span class="op">&amp;</span>quot<span class="op">;</span> onClick<span class="op">={</span>closeAlert<span class="op">}</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb2-30" title="30"><span class="ss">{message}</span></a>
<a class="sourceLine" id="cb2-31" title="31"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb2-32" title="32">)</a>
<a class="sourceLine" id="cb2-33" title="33">)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-34" title="34"><span class="op">};</span></a>
<a class="sourceLine" id="cb2-35" title="35"></a>
<a class="sourceLine" id="cb2-36" title="36"></a>
<a class="sourceLine" id="cb2-37" title="37"></a>
<a class="sourceLine" id="cb2-38" title="38"><span class="op">&lt;</span>hr /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-39" title="39"></a>
<a class="sourceLine" id="cb2-40" title="40"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb2-41" title="41"></a>
<a class="sourceLine" id="cb2-42" title="42"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb2-43" title="43"><span class="vs">  &amp;lt;Alert type=&amp;quot;info&amp;quot; message=&amp;quot;This is info&amp;quot; /&amp;gt;,</span></a>
<a class="sourceLine" id="cb2-44" title="44"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb2-45" title="45"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders a string as plaintext, with URLs converted to appropriate link elements.
</p>
<ul>
<li>
Use <code>String.prototype.split()</code> and <code>String.prototype.match()</code> with a regular expression to find URLs in a string.
</li>
<li>
Return matched URLs rendered as <code>&lt;a&gt;</code> elements, dealing with missing protocol prefixes if necessary.
</li>
<li>
Render the rest of the string as plaintext.
</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">const</span> AutoLink <span class="op">=</span> (<span class="op">{</span> text <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="kw">const</span> delimiter <span class="op">=</span></a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="ss">/</span><span class="sc">((?</span><span class="ss">:https</span><span class="sc">?</span><span class="ss">:</span><span class="sc">\/\/)?(?</span><span class="ss">:</span><span class="sc">(?</span><span class="ss">:</span><span class="sc">[a-z0-9]?(?</span><span class="ss">:</span><span class="sc">[a-z0-9\-]{1,61}[a-z0-9])?\.[^\.|\s])+[a-z\.]*[a-z]+|(?</span><span class="ss">:25</span><span class="sc">[0-5]|</span><span class="ss">2</span><span class="sc">[0-4][0-9]|[01]?[0-9][0-9]?)(?</span><span class="ss">:</span><span class="sc">\.(?</span><span class="ss">:25</span><span class="sc">[0-5]|</span><span class="ss">2</span><span class="sc">[0-4][0-9]|[01]?[0-9][0-9]?)){3})(?</span><span class="ss">::</span><span class="sc">\d{1,5})*[a-z0-9.,_\/~#&amp;amp;=;%+?\-\\(\\)]*)</span><span class="ss">/gi</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-5" title="5"></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb3-7" title="7"><span class="op">&amp;</span>lt<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="op">{</span><span class="va">text</span>.<span class="at">split</span>(delimiter).<span class="at">map</span>((word) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="kw">const</span> match <span class="op">=</span> <span class="va">word</span>.<span class="at">match</span>(delimiter)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="cf">if</span> (match) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="kw">const</span> url <span class="op">=</span> match[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb3-13" title="13"><span class="op">&amp;</span>lt<span class="op">;</span>a href<span class="op">={</span><span class="va">url</span>.<span class="at">startsWith</span>(<span class="op">&amp;</span>quot<span class="op">;</span>http<span class="op">&amp;</span>quot<span class="op">;</span>) <span class="op">?</span> url : <span class="vs">`http://</span><span class="sc">${</span>url<span class="sc">}</span><span class="vs">`</span><span class="op">}&amp;</span>gt<span class="op">;{</span>url<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/a&amp;gt;</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="ss">}</span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="ss">return word;</span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="ss">}</span><span class="sc">)</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="ss">&amp;lt;/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb3-19" title="19">)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="op">&amp;</span>lt<span class="op">;</span>AutoLink text<span class="op">=&amp;</span>quot<span class="op">;</span>foo bar baz http<span class="op">:</span><span class="co">//example.org bar&amp;quot; /&amp;gt;,</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>)</a>
<a class="sourceLine" id="cb4-5" title="5">)<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Renders a link formatted to call a phone number (<code>tel:</code> link).
</p>
<ul>
<li>
Use <code>phone</code> to create a <code>&lt;a&gt;</code> element with an appropriate <code>href</code> attribute.
</li>
<li>
Render the link with <code>children</code> as its content.
</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">const</span> Callto <span class="op">=</span> (<span class="op">{</span> phone<span class="op">,</span> children <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-3" title="3">  <span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>a href<span class="op">={</span><span class="vs">`tel:</span><span class="sc">${</span>phone<span class="sc">}</span><span class="vs">`</span><span class="op">}&amp;</span>gt<span class="op">;{</span>children<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/a&amp;gt;;</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="op">&amp;</span>lt<span class="op">;</span>Callto phone<span class="op">=&amp;</span>quot<span class="op">;+</span><span class="dv">302101234567</span><span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;</span>Call me<span class="op">!&amp;</span>lt<span class="op">;</span><span class="ss">/Callto&amp;gt;,</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a carousel component.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create the <code>active</code> state variable and give it a value of <code>0</code> (index of the first item).
</li>
<li>
Use the <code>useEffect()</code> hook to update the value of <code>active</code> to the index of the next item, using <code>setTimeout</code>.
</li>
<li>
Compute the <code>className</code> for each carousel item while mapping over them and applying it accordingly.
</li>
<li>
Render the carousel items using <code>React.cloneElement()</code> and pass down <code>…rest</code> along with the computed <code>className</code>.
</li>
</ul>
<div class="sourceCode" id="cb11">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb11-1" title="1"><span class="fu">.carousel</span> {</a> <a class="sourceLine" id="cb11-2" title="2"> <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></a> <a class="sourceLine" id="cb11-3" title="3">}</a> <a class="sourceLine" id="cb11-4" title="4"></a> <a class="sourceLine" id="cb11-5" title="5"><span class="fu">.carousel-item</span> {</a> <a class="sourceLine" id="cb11-6" title="6"> <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></a> <a class="sourceLine" id="cb11-7" title="7"> <span class="kw">visibility</span>: <span class="dv">hidden</span><span class="op">;</span></a> <a class="sourceLine" id="cb11-8" title="8">}</a> <a class="sourceLine" id="cb11-9" title="9"></a> <a class="sourceLine" id="cb11-10" title="10"><span class="fu">.carousel-item.visible</span> {</a> <a class="sourceLine" id="cb11-11" title="11"> <span class="kw">visibility</span>: <span class="dv">visible</span><span class="op">;</span></a> <a class="sourceLine" id="cb11-12" title="12">}</a></p>
</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw">const</span> Carousel <span class="op">=</span> (<span class="op">{</span> carouselItems<span class="op">,</span> ...<span class="at">rest</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-3" title="3">  <span class="kw">const</span> [active<span class="op">,</span> setActive] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-4" title="4">  <span class="kw">let</span> scrollInterval <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5"></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-7" title="7">scrollInterval <span class="op">=</span> <span class="at">setTimeout</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="at">setActive</span>((active <span class="op">+</span> <span class="dv">1</span>) <span class="op">%</span> <span class="va">carouselItems</span>.<span class="at">length</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="op">},</span> <span class="dv">2000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">clearTimeout</span>(scrollInterval)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-12" title="12"></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb7-14" title="14"><span class="op">&amp;</span>lt<span class="op">;</span>div className<span class="op">=&amp;</span>quot<span class="op">;</span>carousel<span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="op">{</span><span class="va">carouselItems</span>.<span class="at">map</span>((item<span class="op">,</span> index) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-16" title="16"><span class="kw">const</span> activeClass <span class="op">=</span> active <span class="op">===</span> index <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span> visible<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;;</span></a>
<a class="sourceLine" id="cb7-17" title="17"><span class="cf">return</span> <span class="va">React</span>.<span class="at">cloneElement</span>(item<span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-18" title="18">...<span class="at">rest</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-19" title="19"><span class="dt">className</span><span class="op">:</span> <span class="vs">`carousel-item</span><span class="sc">${</span>activeClass<span class="sc">}</span><span class="vs">`</span><span class="op">,</span></a>
<a class="sourceLine" id="cb7-20" title="20"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-21" title="21"><span class="op">}</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb7-22" title="22"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb7-23" title="23"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb7-24" title="24"><span class="ss">};</span></a>
<a class="sourceLine" id="cb7-25" title="25"></a>
<a class="sourceLine" id="cb7-26" title="26"></a>
<a class="sourceLine" id="cb7-27" title="27"></a>
<a class="sourceLine" id="cb7-28" title="28"><span class="ss">&lt;hr /</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb7-29" title="29"></a>
<a class="sourceLine" id="cb7-30" title="30"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb7-31" title="31"></a>
<a class="sourceLine" id="cb7-32" title="32"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb7-33" title="33"><span class="vs">  &amp;lt;Carousel</span></a>
<a class="sourceLine" id="cb7-34" title="34"><span class="vs">    carouselItems={[</span></a>
<a class="sourceLine" id="cb7-35" title="35"><span class="vs">      &amp;lt;div&amp;gt;carousel item 1&amp;lt;/div&amp;gt;,</span></a>
<a class="sourceLine" id="cb7-36" title="36"><span class="vs">      &amp;lt;div&amp;gt;carousel item 2&amp;lt;/div&amp;gt;,</span></a>
<a class="sourceLine" id="cb7-37" title="37"><span class="vs">      &amp;lt;div&amp;gt;carousel item 3&amp;lt;/div&amp;gt;,</span></a>
<a class="sourceLine" id="cb7-38" title="38"><span class="vs">    ]}</span></a>
<a class="sourceLine" id="cb7-39" title="39"><span class="vs">  /&amp;gt;,</span></a>
<a class="sourceLine" id="cb7-40" title="40"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb7-41" title="41"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders a component with collapsible content.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create the <code>isCollapsed</code> state variable with an initial value of <code>collapsed</code>.
</li>
<li>
Use the <code>&lt;button&gt;</code> to change the component’s <code>isCollapsed</code> state and the content of the component, passed down via <code>children</code>.
</li>
<li>
Determine the appearance of the content, based on <code>isCollapsed</code> and apply the appropriate <code>className</code>.
</li>
<li>
Update the value of the <code>aria-expanded</code> attribute based on <code>isCollapsed</code> to make the component accessible.
</li>
</ul>
<div class="sourceCode" id="cb14">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb14-1" title="1"><span class="fu">.collapse-button</span> {</a> <a class="sourceLine" id="cb14-2" title="2"> <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a> <a class="sourceLine" id="cb14-3" title="3"> <span class="kw">width</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></a> <a class="sourceLine" id="cb14-4" title="4">}</a> <a class="sourceLine" id="cb14-5" title="5"></a> <a class="sourceLine" id="cb14-6" title="6"><span class="fu">.collapse-content.collapsed</span> {</a> <a class="sourceLine" id="cb14-7" title="7"> <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb14-8" title="8">}</a> <a class="sourceLine" id="cb14-9" title="9"></a> <a class="sourceLine" id="cb14-10" title="10"><span class="fu">.collapsed-content.expanded</span> {</a> <a class="sourceLine" id="cb14-11" title="11"> <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a> <a class="sourceLine" id="cb14-12" title="12">}</a></p>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">const</span> Collapse <span class="op">=</span> (<span class="op">{</span> collapsed<span class="op">,</span> children <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="kw">const</span> [isCollapsed<span class="op">,</span> setIsCollapsed] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(collapsed)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-4" title="4"></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb8-6" title="6"><span class="op">&amp;</span>lt<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="op">&amp;</span>lt<span class="op">;</span>button</a>
<a class="sourceLine" id="cb8-8" title="8">className<span class="op">=&amp;</span>quot<span class="op">;</span>collapse<span class="op">-</span>button<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb8-9" title="9">onClick<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setIsCollapsed</span>(<span class="op">!</span>isCollapsed)<span class="op">}</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="op">{</span>isCollapsed <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>Show<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>Hide<span class="op">&amp;</span>quot<span class="op">;}</span> content</a>
<a class="sourceLine" id="cb8-12" title="12"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/button&amp;gt;</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="ss">&amp;lt;div</span></a>
<a class="sourceLine" id="cb8-14" title="14"><span class="ss">className={`collapse-content ${isCollapsed </span><span class="sc">?</span><span class="ss"> &amp;quot;collapsed&amp;quot; : &amp;quot;expanded&amp;quot;}`}</span></a>
<a class="sourceLine" id="cb8-15" title="15"><span class="ss">aria-expanded={isCollapsed}</span></a>
<a class="sourceLine" id="cb8-16" title="16"><span class="ss">&amp;gt;</span></a>
<a class="sourceLine" id="cb8-17" title="17"><span class="ss">{children}</span></a>
<a class="sourceLine" id="cb8-18" title="18"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb8-19" title="19"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb8-20" title="20"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb8-21" title="21"><span class="ss">};</span></a>
<a class="sourceLine" id="cb8-22" title="22"></a>
<a class="sourceLine" id="cb8-23" title="23"></a>
<a class="sourceLine" id="cb8-24" title="24"></a>
<a class="sourceLine" id="cb8-25" title="25"><span class="ss">&lt;hr /</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb8-26" title="26"></a>
<a class="sourceLine" id="cb8-27" title="27"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb8-28" title="28"></a>
<a class="sourceLine" id="cb8-29" title="29"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb8-30" title="30"><span class="vs">  &amp;lt;Collapse&amp;gt;</span></a>
<a class="sourceLine" id="cb8-31" title="31"><span class="vs">    &amp;lt;h1&amp;gt;This is a collapse&amp;lt;/h1&amp;gt;</span></a>
<a class="sourceLine" id="cb8-32" title="32"><span class="vs">    &amp;lt;p&amp;gt;Hello world!&amp;lt;/p&amp;gt;</span></a>
<a class="sourceLine" id="cb8-33" title="33"><span class="vs">  &amp;lt;/Collapse&amp;gt;,</span></a>
<a class="sourceLine" id="cb8-34" title="34"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb8-35" title="35"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders a controlled <code>&lt;input&gt;</code> element that uses a callback function to inform its parent about value updates.
</p>
<ul>
<li>
Use the <code>value</code> passed down from the parent as the controlled input field’s value.
</li>
<li>
Use the <code>onChange</code> event to fire the <code>onValueChange</code> callback and send the new value to the parent.
</li>
<li>
The parent must update the input field’s <code>value</code> prop in order for its value to change on user input.
</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">const</span> ControlledInput <span class="op">=</span> (<span class="op">{</span> value<span class="op">,</span> onValueChange<span class="op">,</span> ...<span class="at">rest</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb9-3" title="3">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb9-4" title="4">    <span class="op">&amp;</span>lt<span class="op">;</span>input</a>
<a class="sourceLine" id="cb9-5" title="5">      value<span class="op">={</span>value<span class="op">}</span></a>
<a class="sourceLine" id="cb9-6" title="6">      onChange<span class="op">={</span>(<span class="op">{</span> <span class="dt">target</span><span class="op">:</span> <span class="op">{</span> value <span class="op">}</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">onValueChange</span>(value)<span class="op">}</span></a>
<a class="sourceLine" id="cb9-7" title="7">      <span class="op">{</span>...<span class="at">rest</span><span class="op">}</span></a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="kw">const</span> Form <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="kw">const</span> [value<span class="op">,</span> setValue] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-4" title="4"></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb10-6" title="6"><span class="op">&amp;</span>lt<span class="op">;</span>ControlledInput</a>
<a class="sourceLine" id="cb10-7" title="7">type<span class="op">=&amp;</span>quot<span class="op">;</span>text<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb10-8" title="8">placeholder<span class="op">=&amp;</span>quot<span class="op">;</span>Insert some text <span class="va">here</span>...<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb10-9" title="9">value<span class="op">={</span>value<span class="op">}</span></a>
<a class="sourceLine" id="cb10-10" title="10">onValueChange<span class="op">={</span>setValue<span class="op">}</span></a>
<a class="sourceLine" id="cb10-11" title="11"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb10-12" title="12"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb10-13" title="13"><span class="ss">};</span></a>
<a class="sourceLine" id="cb10-14" title="14"></a>
<a class="sourceLine" id="cb10-15" title="15"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;Form /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Renders a countdown timer that prints a message when it reaches zero.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create a state variable to hold the time value, initialize it from the props and destructure it into its components.
</li>
<li>
Use the <code>useState()</code> hook to create the <code>paused</code> and <code>over</code> state variables, used to prevent the timer from ticking if it’s paused or the time has run out.
</li>
<li>
Create a method <code>tick</code>, that updates the time values based on the current value (i.e. decreasing the time by one second).
</li>
<li>
Create a method <code>reset</code>, that resets all state variables to their initial states.
</li>
<li>
Use the the <code>useEffect()</code> hook to call the <code>tick</code> method every second via the use of <code>setInterval()</code> and use <code>clearInterval()</code> to clean up when the component is unmounted.
</li>
<li>
Use <code>String.prototype.padStart()</code> to pad each part of the time array to two characters to create the visual representation of the timer.
</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">const</span> CountDown <span class="op">=</span> (<span class="op">{</span> hours <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> minutes <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> seconds <span class="op">=</span> <span class="dv">0</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-3" title="3">  <span class="kw">const</span> [paused<span class="op">,</span> setPaused] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-4" title="4">  <span class="kw">const</span> [over<span class="op">,</span> setOver] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-5" title="5">  <span class="kw">const</span> [[h<span class="op">,</span> m<span class="op">,</span> s]<span class="op">,</span> setTime] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>([hours<span class="op">,</span> minutes<span class="op">,</span> seconds])<span class="op">;</span></a>
<a class="sourceLine" id="cb11-6" title="6"></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="kw">const</span> tick <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="cf">if</span> (paused <span class="op">||</span> over) <span class="cf">return</span><span class="op">;</span></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="cf">if</span> (h <span class="op">===</span> <span class="dv">0</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> m <span class="op">===</span> <span class="dv">0</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> s <span class="op">===</span> <span class="dv">0</span>) <span class="at">setOver</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="cf">else</span> <span class="cf">if</span> (m <span class="op">===</span> <span class="dv">0</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> s <span class="op">===</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="at">setTime</span>([h <span class="op">-</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">59</span><span class="op">,</span> <span class="dv">59</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (s <span class="op">==</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="at">setTime</span>([h<span class="op">,</span> m <span class="op">-</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">59</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="at">setTime</span>([h<span class="op">,</span> m<span class="op">,</span> s <span class="op">-</span> <span class="dv">1</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="op">}</span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="op">};</span></a>
<a class="sourceLine" id="cb11-18" title="18"></a>
<a class="sourceLine" id="cb11-19" title="19"><span class="kw">const</span> reset <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-20" title="20"><span class="at">setTime</span>([<span class="at">parseInt</span>(hours)<span class="op">,</span> <span class="at">parseInt</span>(minutes)<span class="op">,</span> <span class="at">parseInt</span>(seconds)])<span class="op">;</span></a>
<a class="sourceLine" id="cb11-21" title="21"><span class="at">setPaused</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-22" title="22"><span class="at">setOver</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-23" title="23"><span class="op">};</span></a>
<a class="sourceLine" id="cb11-24" title="24"></a>
<a class="sourceLine" id="cb11-25" title="25"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb11-26" title="26"><span class="kw">const</span> timerID <span class="op">=</span> <span class="at">setInterval</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">tick</span>()<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-27" title="27"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">clearInterval</span>(timerID)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-28" title="28"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-29" title="29"></a>
<a class="sourceLine" id="cb11-30" title="30"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb11-31" title="31"><span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb11-32" title="32"><span class="op">&amp;</span>lt<span class="op">;</span>p<span class="op">&amp;</span>gt<span class="op">;{</span><span class="vs">`</span><span class="sc">${</span><span class="va">h</span>.<span class="at">toString</span>().<span class="at">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="op">&amp;</span>quot<span class="op">;</span><span class="dv">0</span><span class="op">&amp;</span>quot<span class="op">;</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="va">m</span>.<span class="at">toString</span>().<span class="at">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="op">&amp;</span>quot<span class="op">;</span><span class="dv">0</span><span class="op">&amp;</span>quot<span class="op">;</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="va">s</span> .<span class="at">toString</span>() .<span class="at">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="op">&amp;</span>quot<span class="op">;</span><span class="dv">0</span><span class="op">&amp;</span>quot<span class="op">;</span>)<span class="sc">}</span><span class="vs">`</span><span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;</span></a>
<a class="sourceLine" id="cb11-33" title="33"><span class="ss">&amp;lt;div&amp;gt;{over </span><span class="sc">?</span><span class="ss"> &amp;quot;Time&amp;#39;s up!&amp;quot; : &amp;quot;&amp;quot;}&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb11-34" title="34"><span class="op">&amp;</span>lt<span class="op">;</span>button onClick<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setPaused</span>(<span class="op">!</span>paused)<span class="op">}&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb11-35" title="35"><span class="op">{</span>paused <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>Resume<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>Pause<span class="op">&amp;</span>quot<span class="op">;}</span></a>
<a class="sourceLine" id="cb11-36" title="36"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/button&amp;gt;</span></a>
<a class="sourceLine" id="cb11-37" title="37"><span class="ss">&amp;lt;button onClick={</span><span class="sc">()</span><span class="ss"> =&amp;gt; reset</span><span class="sc">()</span><span class="ss">}&amp;gt;Restart&amp;lt;/button</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb11-38" title="38"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb11-39" title="39"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb11-40" title="40"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb12-3" title="3">  <span class="op">&amp;</span>lt<span class="op">;</span>CountDown hours<span class="op">={</span><span class="dv">1</span><span class="op">}</span> minutes<span class="op">={</span><span class="dv">45</span><span class="op">}</span> <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a list of elements from an array of primitives.
</p>
<ul>
<li>
Use the value of the <code>isOrdered</code> prop to conditionally render an <code>&lt;ol&gt;</code> or a <code>&lt;ul&gt;</code> list.
</li>
<li>
Use <code>Array.prototype.map()</code> to render every item in <code>data</code> as a <code>&lt;li&gt;</code> element with an appropriate <code>key</code>.
</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">const</span> DataList <span class="op">=</span> (<span class="op">{</span> isOrdered <span class="op">=</span> <span class="kw">false</span><span class="op">,</span> data <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb13-3" title="3">  <span class="kw">const</span> list <span class="op">=</span> <span class="va">data</span>.<span class="at">map</span>((val<span class="op">,</span> i) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">&amp;</span>lt<span class="op">;</span>li key<span class="op">={</span><span class="vs">`</span><span class="sc">${</span>i<span class="sc">}</span><span class="vs">_</span><span class="sc">${</span>val<span class="sc">}</span><span class="vs">`</span><span class="op">}&amp;</span>gt<span class="op">;{</span>val<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/li&amp;gt;</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="ss">  return isOrdered </span><span class="sc">?</span><span class="ss"> &amp;lt;ol&amp;gt;{list}&amp;lt;/ol</span><span class="op">&amp;</span>gt<span class="op">;</span> <span class="op">:</span> <span class="op">&amp;</span>lt<span class="op">;</span>ul<span class="op">&amp;</span>gt<span class="op">;{</span>list<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/ul&amp;gt;;</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">const</span> names <span class="op">=</span> [<span class="op">&amp;</span>quot<span class="op">;</span>John<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;</span>Paul<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;</span>Mary<span class="op">&amp;</span>quot<span class="op">;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="va">ReactDOM</span>.<span class="at">render</span>(<span class="op">&amp;</span>lt<span class="op">;</span>DataList data<span class="op">={</span>names<span class="op">}</span> <span class="ss">/&amp;gt;, document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">))</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="ss">ReactDOM.render</span><span class="sc">(</span></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="ss">  &amp;lt;DataList data={names} isOrdered /</span><span class="op">&amp;</span>gt<span class="op">;,</span></a>
<a class="sourceLine" id="cb14-6" title="6">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>)</a>
<a class="sourceLine" id="cb14-7" title="7">)<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Renders a table with rows dynamically created from an array of primitives.
</p>
<ul>
<li>
Render a <code>&lt;table&gt;</code> element with two columns (<code>ID</code> and <code>Value</code>).
</li>
<li>
Use <code>Array.prototype.map()</code> to render every item in <code>data</code> as a <code>&lt;tr&gt;</code> element with an appropriate <code>key</code>.
</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="kw">const</span> DataTable <span class="op">=</span> (<span class="op">{</span> data <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb15-3" title="3">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb15-4" title="4">    <span class="op">&amp;</span>lt<span class="op">;</span>table<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb15-5" title="5">      <span class="op">&amp;</span>lt<span class="op">;</span>thead<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb15-6" title="6">        <span class="op">&amp;</span>lt<span class="op">;</span>tr<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb15-7" title="7">          <span class="op">&amp;</span>lt<span class="op">;</span>th<span class="op">&amp;</span>gt<span class="op">;</span>ID<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/th&amp;gt;</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="ss">          &amp;lt;th&amp;gt;Value&amp;lt;/th</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb15-9" title="9">        <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/tr&amp;gt;</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="ss">      &amp;lt;/thead</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb15-11" title="11">      <span class="op">&amp;</span>lt<span class="op">;</span>tbody<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb15-12" title="12">        <span class="op">{</span><span class="va">data</span>.<span class="at">map</span>((val<span class="op">,</span> i) <span class="op">=&amp;</span>gt<span class="op">;</span> (</a>
<a class="sourceLine" id="cb15-13" title="13">          <span class="op">&amp;</span>lt<span class="op">;</span>tr key<span class="op">={</span><span class="vs">`</span><span class="sc">${</span>i<span class="sc">}</span><span class="vs">_</span><span class="sc">${</span>val<span class="sc">}</span><span class="vs">`</span><span class="op">}&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb15-14" title="14">            <span class="op">&amp;</span>lt<span class="op">;</span>td<span class="op">&amp;</span>gt<span class="op">;{</span>i<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/td&amp;gt;</span></a>
<a class="sourceLine" id="cb15-15" title="15"><span class="ss">            &amp;lt;td&amp;gt;{val}&amp;lt;/td</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb15-16" title="16">          <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/tr&amp;gt;</span></a>
<a class="sourceLine" id="cb15-17" title="17"><span class="ss">        </span><span class="sc">))</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb15-18" title="18"><span class="ss">      &amp;lt;/tbody</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb15-19" title="19">    <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/table&amp;gt;</span></a>
<a class="sourceLine" id="cb15-20" title="20"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb15-21" title="21"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="kw">const</span> people <span class="op">=</span> [<span class="op">&amp;</span>quot<span class="op">;</span>John<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;</span>Jesse<span class="op">&amp;</span>quot<span class="op">;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="va">ReactDOM</span>.<span class="at">render</span>(<span class="op">&amp;</span>lt<span class="op">;</span>DataTable data<span class="op">={</span>people<span class="op">}</span> <span class="ss">/&amp;gt;, document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">))</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a file drag and drop component for a single file.
</p>
<ul>
<li>
Create a ref, called <code>dropRef</code> and bind it to the component’s wrapper.
</li>
<li>
Use the <code>useState()</code> hook to create the <code>drag</code> and <code>filename</code> variables, initialized to <code>false</code> and <code>’’</code> respectively.
</li>
<li>
The variables <code>dragCounter</code> and <code>drag</code> are used to determine if a file is being dragged, while <code>filename</code> is used to store the dropped file’s name.
</li>
<li>
Create the <code>handleDrag</code>, <code>handleDragIn</code>, <code>handleDragOut</code> and <code>handleDrop</code> methods to handle drag and drop functionality.
</li>
<li>
<code>handleDrag</code> prevents the browser from opening the dragged file, <code>handleDragIn</code> and <code>handleDragOut</code> handle the dragged file entering and exiting the component, while <code>handleDrop</code> handles the file being dropped and passes it to <code>onDrop</code>.
</li>
<li>
Use the <code>useEffect()</code> hook to handle each of the drag and drop events using the previously created methods.
</li>
</ul>
<div class="sourceCode" id="cb25">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb25-1" title="1"><span class="fu">.filedrop</span> {</a> <a class="sourceLine" id="cb25-2" title="2"> <span class="kw">min-height</span>: <span class="dv">120</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb25-3" title="3"> <span class="kw">border</span>: <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#d3d3d3</span><span class="op">;</span></a> <a class="sourceLine" id="cb25-4" title="4"> <span class="kw">text-align</span>: <span class="dv">center</span><span class="op">;</span></a> <a class="sourceLine" id="cb25-5" title="5"> <span class="kw">font-size</span>: <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb25-6" title="6"> <span class="kw">padding</span>: <span class="dv">32</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb25-7" title="7"> <span class="kw">border-radius</span>: <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb25-8" title="8">}</a> <a class="sourceLine" id="cb25-9" title="9"></a> <a class="sourceLine" id="cb25-10" title="10"><span class="fu">.filedrop.drag</span> {</a> <a class="sourceLine" id="cb25-11" title="11"> <span class="kw">border</span>: <span class="dv">3</span><span class="dt">px</span> <span class="dv">dashed</span> <span class="cn">#1e90ff</span><span class="op">;</span></a> <a class="sourceLine" id="cb25-12" title="12">}</a> <a class="sourceLine" id="cb25-13" title="13"></a> <a class="sourceLine" id="cb25-14" title="14"><span class="fu">.filedrop.ready</span> {</a> <a class="sourceLine" id="cb25-15" title="15"> <span class="kw">border</span>: <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#32cd32</span><span class="op">;</span></a> <a class="sourceLine" id="cb25-16" title="16">}</a></p>
</div>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"></a>
<a class="sourceLine" id="cb17-2" title="2"><span class="kw">const</span> FileDrop <span class="op">=</span> (<span class="op">{</span> onDrop <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-3" title="3">  <span class="kw">const</span> [drag<span class="op">,</span> setDrag] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-4" title="4">  <span class="kw">const</span> [filename<span class="op">,</span> setFilename] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-5" title="5">  <span class="kw">let</span> dropRef <span class="op">=</span> <span class="va">React</span>.<span class="at">createRef</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-6" title="6">  <span class="kw">let</span> dragCounter <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-7" title="7"></a>
<a class="sourceLine" id="cb17-8" title="8"><span class="kw">const</span> handleDrag <span class="op">=</span> (e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-9" title="9"><span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-10" title="10"><span class="va">e</span>.<span class="at">stopPropagation</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-11" title="11"><span class="op">};</span></a>
<a class="sourceLine" id="cb17-12" title="12"></a>
<a class="sourceLine" id="cb17-13" title="13"><span class="kw">const</span> handleDragIn <span class="op">=</span> (e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-14" title="14"><span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-15" title="15"><span class="va">e</span>.<span class="at">stopPropagation</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-16" title="16">dragCounter<span class="op">++;</span></a>
<a class="sourceLine" id="cb17-17" title="17"><span class="cf">if</span> (<span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">items</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="va">items</span>.<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span>) <span class="at">setDrag</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-18" title="18"><span class="op">};</span></a>
<a class="sourceLine" id="cb17-19" title="19"></a>
<a class="sourceLine" id="cb17-20" title="20"><span class="kw">const</span> handleDragOut <span class="op">=</span> (e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-21" title="21"><span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-22" title="22"><span class="va">e</span>.<span class="at">stopPropagation</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-23" title="23">dragCounter<span class="op">--;</span></a>
<a class="sourceLine" id="cb17-24" title="24"><span class="cf">if</span> (dragCounter <span class="op">===</span> <span class="dv">0</span>) <span class="at">setDrag</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-25" title="25"><span class="op">};</span></a>
<a class="sourceLine" id="cb17-26" title="26"></a>
<a class="sourceLine" id="cb17-27" title="27"><span class="kw">const</span> handleDrop <span class="op">=</span> (e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-28" title="28"><span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-29" title="29"><span class="va">e</span>.<span class="at">stopPropagation</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-30" title="30"><span class="at">setDrag</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-31" title="31"><span class="cf">if</span> (<span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">files</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="va">files</span>.<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb17-32" title="32"><span class="at">onDrop</span>(<span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">files</span>[<span class="dv">0</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb17-33" title="33"><span class="at">setFilename</span>(<span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">files</span>[<span class="dv">0</span>].<span class="at">name</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-34" title="34"><span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">clearData</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-35" title="35">dragCounter <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-36" title="36"><span class="op">}</span></a>
<a class="sourceLine" id="cb17-37" title="37"><span class="op">};</span></a>
<a class="sourceLine" id="cb17-38" title="38"></a>
<a class="sourceLine" id="cb17-39" title="39"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-40" title="40"><span class="kw">let</span> div <span class="op">=</span> <span class="va">dropRef</span>.<span class="at">current</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-41" title="41"><span class="va">div</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>dragenter<span class="op">&amp;</span>quot<span class="op">;,</span> handleDragIn)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-42" title="42"><span class="va">div</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>dragleave<span class="op">&amp;</span>quot<span class="op">;,</span> handleDragOut)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-43" title="43"><span class="va">div</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>dragover<span class="op">&amp;</span>quot<span class="op">;,</span> handleDrag)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-44" title="44"><span class="va">div</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>drop<span class="op">&amp;</span>quot<span class="op">;,</span> handleDrop)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-45" title="45"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-46" title="46"><span class="va">div</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>dragenter<span class="op">&amp;</span>quot<span class="op">;,</span> handleDragIn)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-47" title="47"><span class="va">div</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>dragleave<span class="op">&amp;</span>quot<span class="op">;,</span> handleDragOut)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-48" title="48"><span class="va">div</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>dragover<span class="op">&amp;</span>quot<span class="op">;,</span> handleDrag)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-49" title="49"><span class="va">div</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>drop<span class="op">&amp;</span>quot<span class="op">;,</span> handleDrop)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-50" title="50"><span class="op">};</span></a>
<a class="sourceLine" id="cb17-51" title="51"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-52" title="52"></a>
<a class="sourceLine" id="cb17-53" title="53"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb17-54" title="54"><span class="op">&amp;</span>lt<span class="op">;</span>div</a>
<a class="sourceLine" id="cb17-55" title="55">ref<span class="op">={</span>dropRef<span class="op">}</span></a>
<a class="sourceLine" id="cb17-56" title="56">className<span class="op">={</span></a>
<a class="sourceLine" id="cb17-57" title="57">drag <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>filedrop drag<span class="op">&amp;</span>quot<span class="op">;</span> : filename <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>filedrop ready<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>filedrop<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb17-58" title="58"><span class="op">}</span></a>
<a class="sourceLine" id="cb17-59" title="59"><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb17-60" title="60"><span class="op">{</span>filename <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="op">!</span>drag <span class="op">?</span> <span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;{</span>filename<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt; : &amp;lt;div&amp;gt;Drop a file here!&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span>}</a>
<a class="sourceLine" id="cb17-61" title="61"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb17-62" title="62"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb17-63" title="63"><span class="ss">};</span></a>
<a class="sourceLine" id="cb17-64" title="64"></a>
<a class="sourceLine" id="cb17-65" title="65"></a>
<a class="sourceLine" id="cb17-66" title="66"></a>
<a class="sourceLine" id="cb17-67" title="67"><span class="ss">&lt;hr /</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb17-68" title="68"></a>
<a class="sourceLine" id="cb17-69" title="69"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb17-70" title="70"></a>
<a class="sourceLine" id="cb17-71" title="71"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb17-72" title="72"><span class="vs">  &amp;lt;FileDrop onDrop={console.log} /&amp;gt;,</span></a>
<a class="sourceLine" id="cb17-73" title="73"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb17-74" title="74"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders a textarea component with a character limit.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create the <code>content</code> state variable and set its value to that of <code>value</code> prop, trimmed down to <code>limit</code> characters.
</li>
<li>
Create a method <code>setFormattedContent</code>, which trims the content down to <code>limit</code> characters and memoize it, using the <code>useCallback()</code> hook.
</li>
<li>
Bind the <code>onChange</code> event of the <code>&lt;textarea&gt;</code> to call <code>setFormattedContent</code> with the value of the fired event.
</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw">const</span> LimitedTextarea <span class="op">=</span> (<span class="op">{</span> rows<span class="op">,</span> cols<span class="op">,</span> value<span class="op">,</span> limit <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-3" title="3">  <span class="kw">const</span> [content<span class="op">,</span> setContent] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="va">value</span>.<span class="at">slice</span>(<span class="dv">0</span><span class="op">,</span> limit))<span class="op">;</span></a>
<a class="sourceLine" id="cb18-4" title="4"></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="kw">const</span> setFormattedContent <span class="op">=</span> <span class="va">React</span>.<span class="at">useCallback</span>(</a>
<a class="sourceLine" id="cb18-6" title="6">(text) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-7" title="7"><span class="at">setContent</span>(<span class="va">text</span>.<span class="at">slice</span>(<span class="dv">0</span><span class="op">,</span> limit))<span class="op">;</span></a>
<a class="sourceLine" id="cb18-8" title="8"><span class="op">},</span></a>
<a class="sourceLine" id="cb18-9" title="9">[limit<span class="op">,</span> setContent]</a>
<a class="sourceLine" id="cb18-10" title="10">)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-11" title="11"></a>
<a class="sourceLine" id="cb18-12" title="12"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb18-13" title="13"><span class="op">&amp;</span>lt<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb18-14" title="14"><span class="op">&amp;</span>lt<span class="op">;</span>textarea</a>
<a class="sourceLine" id="cb18-15" title="15">rows<span class="op">={</span>rows<span class="op">}</span></a>
<a class="sourceLine" id="cb18-16" title="16">cols<span class="op">={</span>cols<span class="op">}</span></a>
<a class="sourceLine" id="cb18-17" title="17">onChange<span class="op">={</span>(event) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setFormattedContent</span>(<span class="va">event</span>.<span class="va">target</span>.<span class="at">value</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb18-18" title="18">value<span class="op">={</span>content<span class="op">}</span></a>
<a class="sourceLine" id="cb18-19" title="19"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb18-20" title="20"><span class="ss">&amp;lt;p&amp;gt;</span></a>
<a class="sourceLine" id="cb18-21" title="21"><span class="ss">{content.length}/</span><span class="op">{</span>limit<span class="op">}</span></a>
<a class="sourceLine" id="cb18-22" title="22"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;</span></a>
<a class="sourceLine" id="cb18-23" title="23"><span class="ss">&amp;lt;/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb18-24" title="24">)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-25" title="25"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb19-3" title="3">  <span class="op">&amp;</span>lt<span class="op">;</span>LimitedTextarea limit<span class="op">={</span><span class="dv">32</span><span class="op">}</span> value<span class="op">=&amp;</span>quot<span class="op">;</span>Hello<span class="op">!&amp;</span>quot<span class="op">;</span> <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb19-4" title="4"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb19-5" title="5"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a textarea component with a word limit.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create a state variable, containing <code>content</code> and <code>wordCount</code>, using the <code>value</code> prop and <code>0</code> as the initial values respectively.
</li>
<li>
Use the <code>useCallback()</code> hooks to create a memoized function, <code>setFormattedContent</code>, that uses <code>String.prototype.split()</code> to turn the input into an array of words.
</li>
<li>
Check if the result of applying <code>Array.prototype.filter()</code> combined with <code>Boolean</code> has a <code>length</code> longer than <code>limit</code> and, if so, trim the input, otherwise return the raw input, updating state accordingly in both cases.
</li>
<li>
Use the <code>useEffect()</code> hook to call the <code>setFormattedContent</code> method on the value of the <code>content</code> state variable during the initial render.
</li>
<li>
Bind the <code>onChange</code> event of the <code>&lt;textarea&gt;</code> to call <code>setFormattedContent</code> with the value of <code>event.target.value</code>.
</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" title="1"></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="kw">const</span> LimitedWordTextarea <span class="op">=</span> (<span class="op">{</span> rows<span class="op">,</span> cols<span class="op">,</span> value<span class="op">,</span> limit <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-3" title="3">  <span class="kw">const</span> [<span class="op">{</span> content<span class="op">,</span> wordCount <span class="op">},</span> setContent] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb20-4" title="4">    <span class="dt">content</span><span class="op">:</span> value<span class="op">,</span></a>
<a class="sourceLine" id="cb20-5" title="5">    <span class="dt">wordCount</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb20-6" title="6">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-7" title="7"></a>
<a class="sourceLine" id="cb20-8" title="8"><span class="kw">const</span> setFormattedContent <span class="op">=</span> <span class="va">React</span>.<span class="at">useCallback</span>(</a>
<a class="sourceLine" id="cb20-9" title="9">(text) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-10" title="10"><span class="kw">let</span> words <span class="op">=</span> <span class="va">text</span>.<span class="at">split</span>(<span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">&amp;</span>quot<span class="op">;</span>).<span class="at">filter</span>(Boolean)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-11" title="11"><span class="cf">if</span> (<span class="va">words</span>.<span class="at">length</span> <span class="op">&amp;</span>gt<span class="op">;</span> limit) <span class="op">{</span></a>
<a class="sourceLine" id="cb20-12" title="12"><span class="at">setContent</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb20-13" title="13"><span class="dt">content</span><span class="op">:</span> <span class="va">words</span>.<span class="at">slice</span>(<span class="dv">0</span><span class="op">,</span> limit).<span class="at">join</span>(<span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">&amp;</span>quot<span class="op">;</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb20-14" title="14"><span class="dt">wordCount</span><span class="op">:</span> limit<span class="op">,</span></a>
<a class="sourceLine" id="cb20-15" title="15"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-16" title="16"><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-17" title="17"><span class="at">setContent</span>(<span class="op">{</span> <span class="dt">content</span><span class="op">:</span> text<span class="op">,</span> <span class="dt">wordCount</span><span class="op">:</span> <span class="va">words</span>.<span class="at">length</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-18" title="18"><span class="op">}</span></a>
<a class="sourceLine" id="cb20-19" title="19"><span class="op">},</span></a>
<a class="sourceLine" id="cb20-20" title="20">[limit<span class="op">,</span> setContent]</a>
<a class="sourceLine" id="cb20-21" title="21">)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-22" title="22"></a>
<a class="sourceLine" id="cb20-23" title="23"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-24" title="24"><span class="at">setFormattedContent</span>(content)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-25" title="25"><span class="op">},</span> [])<span class="op">;</span></a>
<a class="sourceLine" id="cb20-26" title="26"></a>
<a class="sourceLine" id="cb20-27" title="27"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb20-28" title="28"><span class="op">&amp;</span>lt<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb20-29" title="29"><span class="op">&amp;</span>lt<span class="op">;</span>textarea</a>
<a class="sourceLine" id="cb20-30" title="30">rows<span class="op">={</span>rows<span class="op">}</span></a>
<a class="sourceLine" id="cb20-31" title="31">cols<span class="op">={</span>cols<span class="op">}</span></a>
<a class="sourceLine" id="cb20-32" title="32">onChange<span class="op">={</span>(event) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setFormattedContent</span>(<span class="va">event</span>.<span class="va">target</span>.<span class="at">value</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb20-33" title="33">value<span class="op">={</span>content<span class="op">}</span></a>
<a class="sourceLine" id="cb20-34" title="34"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb20-35" title="35"><span class="ss">&amp;lt;p&amp;gt;</span></a>
<a class="sourceLine" id="cb20-36" title="36"><span class="ss">{wordCount}/</span><span class="op">{</span>limit<span class="op">}</span></a>
<a class="sourceLine" id="cb20-37" title="37"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;</span></a>
<a class="sourceLine" id="cb20-38" title="38"><span class="ss">&amp;lt;/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb20-39" title="39">)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-40" title="40"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb21"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" title="1"></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb21-3" title="3">  <span class="op">&amp;</span>lt<span class="op">;</span>LimitedWordTextarea limit<span class="op">={</span><span class="dv">5</span><span class="op">}</span> value<span class="op">=&amp;</span>quot<span class="op">;</span>Hello there<span class="op">!&amp;</span>quot<span class="op">;</span> <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb21-4" title="4"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a spinning loader component.
</p>
<ul>
<li>
Render an SVG, whose <code>height</code> and <code>width</code> are determined by the <code>size</code> prop.
</li>
<li>
Use CSS to animate the SVG, creating a spinning animation.
</li>
</ul>
<div class="sourceCode" id="cb32">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb32-1" title="1"><span class="fu">.loader</span> {</a> <a class="sourceLine" id="cb32-2" title="2"> <span class="kw">animation</span>: rotate <span class="dv">2</span><span class="dt">s</span> <span class="dv">linear</span> <span class="dv">infinite</span><span class="op">;</span></a> <a class="sourceLine" id="cb32-3" title="3">}</a> <a class="sourceLine" id="cb32-4" title="4"></a> <a class="sourceLine" id="cb32-5" title="5"><span class="im"><span class="citation" data-cites="keyframes">@keyframes</span></span> rotate {</a> <a class="sourceLine" id="cb32-6" title="6"> <span class="dv">100%</span> {</a> <a class="sourceLine" id="cb32-7" title="7"> <span class="kw">transform</span>: <span class="fu">rotate(</span><span class="dv">360</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb32-8" title="8"> }</a> <a class="sourceLine" id="cb32-9" title="9">}</a> <a class="sourceLine" id="cb32-10" title="10"></a> <a class="sourceLine" id="cb32-11" title="11"><span class="fu">.loader</span> circle {</a> <a class="sourceLine" id="cb32-12" title="12"> <span class="kw">animation</span>: dash <span class="dv">1.5</span><span class="dt">s</span> <span class="dv">ease-in-out</span> <span class="dv">infinite</span><span class="op">;</span></a> <a class="sourceLine" id="cb32-13" title="13">}</a> <a class="sourceLine" id="cb32-14" title="14"></a> <a class="sourceLine" id="cb32-15" title="15"><span class="im"><span class="citation" data-cites="keyframes">@keyframes</span></span> dash {</a> <a class="sourceLine" id="cb32-16" title="16"> <span class="dv">0%</span> {</a> <a class="sourceLine" id="cb32-17" title="17"> stroke-dasharray: <span class="dv">1</span><span class="op">,</span> <span class="dv">150</span><span class="op">;</span></a> <a class="sourceLine" id="cb32-18" title="18"> stroke-dashoffset: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb32-19" title="19"> }</a> <a class="sourceLine" id="cb32-20" title="20"> <span class="dv">50%</span> {</a> <a class="sourceLine" id="cb32-21" title="21"> stroke-dasharray: <span class="dv">90</span><span class="op">,</span> <span class="dv">150</span><span class="op">;</span></a> <a class="sourceLine" id="cb32-22" title="22"> stroke-dashoffset: <span class="dv">-35</span><span class="op">;</span></a> <a class="sourceLine" id="cb32-23" title="23"> }</a> <a class="sourceLine" id="cb32-24" title="24"> <span class="dv">100%</span> {</a> <a class="sourceLine" id="cb32-25" title="25"> stroke-dasharray: <span class="dv">90</span><span class="op">,</span> <span class="dv">150</span><span class="op">;</span></a> <a class="sourceLine" id="cb32-26" title="26"> stroke-dashoffset: <span class="dv">-124</span><span class="op">;</span></a> <a class="sourceLine" id="cb32-27" title="27"> }</a> <a class="sourceLine" id="cb32-28" title="28">}</a></p>
</div>
<div class="sourceCode" id="cb22"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" title="1"></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw">const</span> Loader <span class="op">=</span> (<span class="op">{</span> size <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb22-3" title="3">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb22-4" title="4">    <span class="op">&amp;</span>lt<span class="op">;</span>svg</a>
<a class="sourceLine" id="cb22-5" title="5">      className<span class="op">=&amp;</span>quot<span class="op">;</span>loader<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb22-6" title="6">      xmlns<span class="op">=&amp;</span>quot<span class="op">;</span><span class="dt">http</span><span class="op">:</span><span class="co">//www.w3.org/2000/svg&amp;quot;</span></a>
<a class="sourceLine" id="cb22-7" title="7">      width<span class="op">={</span>size<span class="op">}</span></a>
<a class="sourceLine" id="cb22-8" title="8">      height<span class="op">={</span>size<span class="op">}</span></a>
<a class="sourceLine" id="cb22-9" title="9">      viewBox<span class="op">=&amp;</span>quot<span class="op">;</span><span class="dv">0</span> <span class="dv">0</span> <span class="dv">24</span> <span class="dv">24</span><span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb22-10" title="10">      fill<span class="op">=&amp;</span>quot<span class="op">;</span>none<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb22-11" title="11">      stroke<span class="op">=&amp;</span>quot<span class="op">;</span>currentColor<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb22-12" title="12">      strokeWidth<span class="op">=&amp;</span>quot<span class="op">;</span><span class="dv">2</span><span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb22-13" title="13">      strokeLinecap<span class="op">=&amp;</span>quot<span class="op">;</span>round<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb22-14" title="14">      strokeLinejoin<span class="op">=&amp;</span>quot<span class="op">;</span>round<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb22-15" title="15">    <span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb22-16" title="16">      <span class="op">&amp;</span>lt<span class="op">;</span>circle cx<span class="op">=&amp;</span>quot<span class="op">;</span><span class="dv">12</span><span class="op">&amp;</span>quot<span class="op">;</span> cy<span class="op">=&amp;</span>quot<span class="op">;</span><span class="dv">12</span><span class="op">&amp;</span>quot<span class="op">;</span> r<span class="op">=&amp;</span>quot<span class="op">;</span><span class="dv">10</span><span class="op">&amp;</span>quot<span class="op">;</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb22-17" title="17"><span class="ss">    &amp;lt;/svg</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb22-18" title="18">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb22-19" title="19"><span class="op">};</span></a>
<a class="sourceLine" id="cb22-20" title="20"></a>
<a class="sourceLine" id="cb22-21" title="21"></a>
<a class="sourceLine" id="cb22-22" title="22"></a>
<a class="sourceLine" id="cb22-23" title="23"><span class="op">&lt;</span>hr /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb22-24" title="24"></a>
<a class="sourceLine" id="cb22-25" title="25"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb22-26" title="26"></a>
<a class="sourceLine" id="cb22-27" title="27"><span class="vs">ReactDOM.render(&amp;lt;Loader size={24} /&amp;gt;, document.getElementById(&amp;quot;root&amp;quot;));</span></a></code></pre></div>
<hr />
<p>
Renders a link formatted to send an email (<code>mailto:</code> link).
</p>
<ul>
<li>
Use the <code>email</code>, <code>subject</code> and <code>body</code> props to create a <code>&lt;a&gt;</code> element with an appropriate <code>href</code> attribute.
</li>
<li>
Use <code>encodeURIcomponent</code> to safely encode the <code>subject</code> and <code>body</code> into the link URL.
</li>
<li>
Render the link with <code>children</code> as its content.
</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="kw">const</span> Mailto <span class="op">=</span> (<span class="op">{</span> email<span class="op">,</span> subject <span class="op">=</span> <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;,</span> body <span class="op">=</span> <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;,</span> children <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb23-3" title="3">  <span class="kw">let</span> params <span class="op">=</span> subject <span class="op">||</span> body <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;?&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;;</span></a>
<a class="sourceLine" id="cb23-4" title="4">  <span class="cf">if</span> (subject) params <span class="op">+=</span> <span class="vs">`subject=</span><span class="sc">${</span><span class="at">encodeURIComponent</span>(subject)<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-5" title="5">  <span class="cf">if</span> (body) params <span class="op">+=</span> <span class="vs">`</span><span class="sc">${</span>subject <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;&amp;</span>amp<span class="op">;&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;</span><span class="sc">}</span><span class="vs">body=</span><span class="sc">${</span><span class="at">encodeURIComponent</span>(body)<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-6" title="6"></a>
<a class="sourceLine" id="cb23-7" title="7"><span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>a href<span class="op">={</span><span class="vs">`mailto:</span><span class="sc">${</span>email<span class="sc">}${</span>params<span class="sc">}</span><span class="vs">`</span><span class="op">}&amp;</span>gt<span class="op">;{</span>children<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/a&amp;gt;;</span></a>
<a class="sourceLine" id="cb23-8" title="8"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb24"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb24-1" title="1"></a>
<a class="sourceLine" id="cb24-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb24-3" title="3">  <span class="op">&amp;</span>lt<span class="op">;</span>Mailto email<span class="op">=&amp;</span>quot<span class="op">;</span>foo@<span class="va">bar</span>.<span class="at">baz</span><span class="op">&amp;</span>quot<span class="op">;</span> subject<span class="op">=&amp;</span>quot<span class="op">;</span>Hello <span class="op">&amp;</span>amp<span class="op">;</span> Welcome<span class="op">&amp;</span>quot<span class="op">;</span> body<span class="op">=&amp;</span>quot<span class="op">;</span>Hello world<span class="op">!&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb24-4" title="4">    Mail me<span class="op">!</span></a>
<a class="sourceLine" id="cb24-5" title="5">  <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/Mailto&amp;gt;,</span></a>
<a class="sourceLine" id="cb24-6" title="6"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb24-7" title="7"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a table with rows dynamically created from an array of objects and a list of property names.
</p>
<ul>
<li>
Use <code>Object.keys()</code>, <code>Array.prototype.filter()</code>, <code>Array.prototype.includes()</code> and <code>Array.prototype.reduce()</code> to produce a <code>filteredData</code> array, containing all objects with the keys specified in <code>propertyNames</code>.
</li>
<li>
Render a <code>&lt;table&gt;</code> element with a set of columns equal to the amount of values in <code>propertyNames</code>.
</li>
<li>
Use <code>Array.prototype.map()</code> to render each value in the <code>propertyNames</code> array as a <code>&lt;th&gt;</code> element.
</li>
<li>
Use <code>Array.prototype.map()</code> to render each object in the <code>filteredData</code> array as a <code>&lt;tr&gt;</code> element, containing a <code>&lt;td&gt;</code> for each key in the object.
</li>
</ul>
<p>
<em>This component does not work with nested objects and will break if there are nested objects inside any of the properties specified in <code>propertyNames</code></em>
</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" title="1"></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="kw">const</span> MappedTable <span class="op">=</span> (<span class="op">{</span> data<span class="op">,</span> propertyNames <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb25-3" title="3">  <span class="kw">let</span> filteredData <span class="op">=</span> <span class="va">data</span>.<span class="at">map</span>((v) <span class="op">=&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb25-4" title="4">    <span class="va">Object</span>.<span class="at">keys</span>(v)</a>
<a class="sourceLine" id="cb25-5" title="5">      .<span class="at">filter</span>((k) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">propertyNames</span>.<span class="at">includes</span>(k))</a>
<a class="sourceLine" id="cb25-6" title="6">      .<span class="at">reduce</span>((acc<span class="op">,</span> key) <span class="op">=&amp;</span>gt<span class="op">;</span> ((acc[key] <span class="op">=</span> v[key])<span class="op">,</span> acc)<span class="op">,</span> <span class="op">{}</span>)</a>
<a class="sourceLine" id="cb25-7" title="7">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb25-8" title="8">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb25-9" title="9">    <span class="op">&amp;</span>lt<span class="op">;</span>table<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb25-10" title="10">      <span class="op">&amp;</span>lt<span class="op">;</span>thead<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb25-11" title="11">        <span class="op">&amp;</span>lt<span class="op">;</span>tr<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb25-12" title="12">          <span class="op">{</span><span class="va">propertyNames</span>.<span class="at">map</span>((val) <span class="op">=&amp;</span>gt<span class="op">;</span> (</a>
<a class="sourceLine" id="cb25-13" title="13">            <span class="op">&amp;</span>lt<span class="op">;</span>th key<span class="op">={</span><span class="vs">`h_</span><span class="sc">${</span>val<span class="sc">}</span><span class="vs">`</span><span class="op">}&amp;</span>gt<span class="op">;{</span>val<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/th&amp;gt;</span></a>
<a class="sourceLine" id="cb25-14" title="14"><span class="ss">          </span><span class="sc">))</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb25-15" title="15"><span class="ss">        &amp;lt;/tr</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb25-16" title="16">      <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/thead&amp;gt;</span></a>
<a class="sourceLine" id="cb25-17" title="17"><span class="ss">      &amp;lt;tbody&amp;gt;</span></a>
<a class="sourceLine" id="cb25-18" title="18"><span class="ss">        {filteredData.map</span><span class="sc">((</span><span class="ss">val, i</span><span class="sc">)</span><span class="ss"> =&amp;gt; </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb25-19" title="19"><span class="ss">          &amp;lt;tr key={`i_${i}`}&amp;gt;</span></a>
<a class="sourceLine" id="cb25-20" title="20"><span class="ss">            {propertyNames.map</span><span class="sc">((</span><span class="ss">p</span><span class="sc">)</span><span class="ss"> =&amp;gt; </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb25-21" title="21"><span class="ss">              &amp;lt;td key={`i_${i}_${p}`}&amp;gt;{val</span><span class="sc">[p]</span><span class="ss">}&amp;lt;/td</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb25-22" title="22">            ))<span class="op">}</span></a>
<a class="sourceLine" id="cb25-23" title="23">          <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/tr&amp;gt;</span></a>
<a class="sourceLine" id="cb25-24" title="24"><span class="ss">        </span><span class="sc">))</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb25-25" title="25"><span class="ss">      &amp;lt;/tbody</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb25-26" title="26">    <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/table&amp;gt;</span></a>
<a class="sourceLine" id="cb25-27" title="27"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb25-28" title="28"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb26"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb26-1" title="1"></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="kw">const</span> people <span class="op">=</span> [</a>
<a class="sourceLine" id="cb26-3" title="3">  <span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>John<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="dt">surname</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>Smith<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="dt">age</span><span class="op">:</span> <span class="dv">42</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb26-4" title="4">  <span class="op">{</span> <span class="dt">name</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>Adam<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="dt">surname</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>Smith<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="dt">gender</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>male<span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb26-5" title="5">]<span class="op">;</span></a>
<a class="sourceLine" id="cb26-6" title="6"><span class="kw">const</span> propertyNames <span class="op">=</span> [<span class="op">&amp;</span>quot<span class="op">;</span>name<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;</span>surname<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;</span>age<span class="op">&amp;</span>quot<span class="op">;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb26-7" title="7"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb26-8" title="8">  <span class="op">&amp;</span>lt<span class="op">;</span>MappedTable data<span class="op">={</span>people<span class="op">}</span> propertyNames<span class="op">={</span>propertyNames<span class="op">}</span> <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb26-9" title="9"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb26-10" title="10"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a Modal component, controllable through events.
</p>
<ul>
<li>
Define <code>keydownHandler</code>, a method which handles all keyboard events and is used to call <code>onClose</code> when the <code>Esc</code> key is pressed.
</li>
<li>
Use the <code>useEffect()</code> hook to add or remove the <code>keydown</code> event listener to the <code>document</code>, calling <code>keydownHandler</code> for every event.
</li>
<li>
Add a styled <code>&lt;span&gt;</code> element that acts as a close button, calling <code>onClose</code> when clicked.
</li>
<li>
Use the <code>isVisible</code> prop passed down from the parent to determine if the modal should be displayed or not.
</li>
<li>
To use the component, import <code>Modal</code> only once and then display it by passing a boolean value to the <code>isVisible</code> attribute.
</li>
</ul>
<div class="sourceCode" id="cb39">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb39-1" title="1"><span class="fu">.modal</span> {</a> <a class="sourceLine" id="cb39-2" title="2"> <span class="kw">position</span>: <span class="dv">fixed</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-3" title="3"> <span class="kw">top</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-4" title="4"> <span class="kw">bottom</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-5" title="5"> <span class="kw">left</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-6" title="6"> <span class="kw">right</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-7" title="7"> <span class="kw">width</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-8" title="8"> <span class="kw">z-index</span>: <span class="dv">9999</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-9" title="9"> <span class="kw">display</span>: flex<span class="op">;</span></a> <a class="sourceLine" id="cb39-10" title="10"> <span class="kw">align-items</span>: <span class="dv">center</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-11" title="11"> <span class="kw">justify-content</span>: <span class="dv">center</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-12" title="12"> <span class="kw">background-color</span>: <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.25</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-13" title="13"> <span class="kw">animation-name</span>: appear<span class="op">;</span></a> <a class="sourceLine" id="cb39-14" title="14"> <span class="kw">animation-duration</span>: <span class="dv">300</span><span class="dt">ms</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-15" title="15">}</a> <a class="sourceLine" id="cb39-16" title="16"></a> <a class="sourceLine" id="cb39-17" title="17"><span class="fu">.modal-dialog</span> {</a> <a class="sourceLine" id="cb39-18" title="18"> <span class="kw">width</span>: <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-19" title="19"> <span class="kw">max-width</span>: <span class="dv">550</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-20" title="20"> <span class="kw">background</span>: <span class="cn">white</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-21" title="21"> <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-22" title="22"> <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-23" title="23"> <span class="kw">max-height</span>: <span class="fu">calc(</span><span class="dv">100</span><span class="dt">vh</span> <span class="op">-</span> <span class="dv">40</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-24" title="24"> <span class="kw">text-align</span>: <span class="dv">left</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-25" title="25"> <span class="kw">display</span>: flex<span class="op">;</span></a> <a class="sourceLine" id="cb39-26" title="26"> <span class="kw">flex-direction</span>: column<span class="op">;</span></a> <a class="sourceLine" id="cb39-27" title="27"> <span class="kw">overflow</span>: <span class="dv">hidden</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-28" title="28"> <span class="kw">box-shadow</span>: <span class="dv">0</span> <span class="dv">4</span><span class="dt">px</span> <span class="dv">8</span><span class="dt">px</span> <span class="dv">0</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.2</span><span class="fu">)</span><span class="op">,</span> <span class="dv">0</span> <span class="dv">6</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span> <span class="dv">0</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.19</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-29" title="29"> <span class="kw">-webkit-animation-name</span>: animatetop<span class="op">;</span></a> <a class="sourceLine" id="cb39-30" title="30"> <span class="kw">-webkit-animation-duration</span>: <span class="dv">0.4</span><span class="dt">s</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-31" title="31"> <span class="kw">animation-name</span>: slide-in<span class="op">;</span></a> <a class="sourceLine" id="cb39-32" title="32"> <span class="kw">animation-duration</span>: <span class="dv">0.5</span><span class="dt">s</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-33" title="33">}</a> <a class="sourceLine" id="cb39-34" title="34"></a> <a class="sourceLine" id="cb39-35" title="35"><span class="fu">.modal-header</span><span class="op">,</span></a> <a class="sourceLine" id="cb39-36" title="36"><span class="fu">.modal-footer</span> {</a> <a class="sourceLine" id="cb39-37" title="37"> <span class="kw">display</span>: flex<span class="op">;</span></a> <a class="sourceLine" id="cb39-38" title="38"> <span class="kw">align-items</span>: <span class="dv">center</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-39" title="39"> <span class="kw">padding</span>: <span class="dv">1</span><span class="dt">rem</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-40" title="40">}</a> <a class="sourceLine" id="cb39-41" title="41"></a> <a class="sourceLine" id="cb39-42" title="42"><span class="fu">.modal-header</span> {</a> <a class="sourceLine" id="cb39-43" title="43"> <span class="kw">border-bottom</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#dbdbdb</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-44" title="44"> <span class="kw">justify-content</span>: space-between<span class="op">;</span></a> <a class="sourceLine" id="cb39-45" title="45">}</a> <a class="sourceLine" id="cb39-46" title="46"></a> <a class="sourceLine" id="cb39-47" title="47"><span class="fu">.modal-footer</span> {</a> <a class="sourceLine" id="cb39-48" title="48"> <span class="kw">border-top</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#dbdbdb</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-49" title="49"> <span class="kw">justify-content</span>: flex-end<span class="op">;</span></a> <a class="sourceLine" id="cb39-50" title="50">}</a> <a class="sourceLine" id="cb39-51" title="51"></a> <a class="sourceLine" id="cb39-52" title="52"><span class="fu">.modal-close</span> {</a> <a class="sourceLine" id="cb39-53" title="53"> <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-54" title="54"> <span class="kw">padding</span>: <span class="dv">1</span><span class="dt">rem</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-55" title="55"> <span class="kw">margin</span>: <span class="dv">-1</span><span class="dt">rem</span> <span class="dv">-1</span><span class="dt">rem</span> <span class="dv">-1</span><span class="dt">rem</span> <span class="bu">auto</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-56" title="56">}</a> <a class="sourceLine" id="cb39-57" title="57"></a> <a class="sourceLine" id="cb39-58" title="58"><span class="fu">.modal-body</span> {</a> <a class="sourceLine" id="cb39-59" title="59"> <span class="kw">overflow</span>: <span class="bu">auto</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-60" title="60">}</a> <a class="sourceLine" id="cb39-61" title="61"></a> <a class="sourceLine" id="cb39-62" title="62"><span class="fu">.modal-content</span> {</a> <a class="sourceLine" id="cb39-63" title="63"> <span class="kw">padding</span>: <span class="dv">1</span><span class="dt">rem</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-64" title="64">}</a> <a class="sourceLine" id="cb39-65" title="65"></a> <a class="sourceLine" id="cb39-66" title="66"><span class="im"><span class="citation" data-cites="keyframes">@keyframes</span></span> appear {</a> <a class="sourceLine" id="cb39-67" title="67"> <span class="dv">from</span> {</a> <a class="sourceLine" id="cb39-68" title="68"> <span class="kw">opacity</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-69" title="69"> }</a> <a class="sourceLine" id="cb39-70" title="70"> <span class="dv">to</span> {</a> <a class="sourceLine" id="cb39-71" title="71"> <span class="kw">opacity</span>: <span class="dv">1</span><span class="op">;</span></a> <a class="sourceLine" id="cb39-72" title="72"> }</a> <a class="sourceLine" id="cb39-73" title="73">}</a> <a class="sourceLine" id="cb39-74" title="74"></a> <a class="sourceLine" id="cb39-75" title="75"><span class="im"><span class="citation" data-cites="keyframes">@keyframes</span></span> slide-in {</a> <a class="sourceLine" id="cb39-76" title="76"> <span class="dv">from</span> {</a> <a class="sourceLine" id="cb39-77" title="77"> <span class="kw">transform</span>: translateY(<span class="dv">-150</span><span class="dt">px</span>)<span class="op">;</span></a> <a class="sourceLine" id="cb39-78" title="78"> }</a> <a class="sourceLine" id="cb39-79" title="79"> <span class="dv">to</span> {</a> <a class="sourceLine" id="cb39-80" title="80"> <span class="kw">transform</span>: translateY(<span class="dv">0</span>)<span class="op">;</span></a> <a class="sourceLine" id="cb39-81" title="81"> }</a> <a class="sourceLine" id="cb39-82" title="82">}</a></p>
</div>
<div class="sourceCode" id="cb27"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" title="1"></a>
<a class="sourceLine" id="cb27-2" title="2"><span class="kw">const</span> Modal <span class="op">=</span> (<span class="op">{</span> isVisible <span class="op">=</span> <span class="kw">false</span><span class="op">,</span> title<span class="op">,</span> content<span class="op">,</span> footer<span class="op">,</span> onClose <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb27-3" title="3">  <span class="kw">const</span> keydownHandler <span class="op">=</span> (<span class="op">{</span> key <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb27-4" title="4">    <span class="cf">switch</span> (key) <span class="op">{</span></a>
<a class="sourceLine" id="cb27-5" title="5">      <span class="cf">case</span> <span class="op">&amp;</span>quot<span class="op">;</span>Escape<span class="op">&amp;</span>quot<span class="op">;:</span></a>
<a class="sourceLine" id="cb27-6" title="6">        <span class="at">onClose</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb27-7" title="7">        <span class="cf">break</span><span class="op">;</span></a>
<a class="sourceLine" id="cb27-8" title="8">      <span class="cf">default</span><span class="op">:</span></a>
<a class="sourceLine" id="cb27-9" title="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb27-10" title="10">  <span class="op">};</span></a>
<a class="sourceLine" id="cb27-11" title="11"></a>
<a class="sourceLine" id="cb27-12" title="12"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb27-13" title="13"><span class="va">document</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>keydown<span class="op">&amp;</span>quot<span class="op">;,</span> keydownHandler)<span class="op">;</span></a>
<a class="sourceLine" id="cb27-14" title="14"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">document</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>keydown<span class="op">&amp;</span>quot<span class="op">;,</span> keydownHandler)<span class="op">;</span></a>
<a class="sourceLine" id="cb27-15" title="15"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb27-16" title="16"></a>
<a class="sourceLine" id="cb27-17" title="17"><span class="cf">return</span> <span class="op">!</span>isVisible <span class="op">?</span> <span class="kw">null</span> : (</a>
<a class="sourceLine" id="cb27-18" title="18"><span class="op">&amp;</span>lt<span class="op">;</span>div className<span class="op">=&amp;</span>quot<span class="op">;</span>modal<span class="op">&amp;</span>quot<span class="op">;</span> onClick<span class="op">={</span>onClose<span class="op">}&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb27-19" title="19"><span class="op">&amp;</span>lt<span class="op">;</span>div className<span class="op">=&amp;</span>quot<span class="op">;</span>modal<span class="op">-</span>dialog<span class="op">&amp;</span>quot<span class="op">;</span> onClick<span class="op">={</span>(e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">e</span>.<span class="at">stopPropagation</span>()<span class="op">}&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb27-20" title="20"><span class="op">&amp;</span>lt<span class="op">;</span>div className<span class="op">=&amp;</span>quot<span class="op">;</span>modal<span class="op">-</span>header<span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb27-21" title="21"><span class="op">&amp;</span>lt<span class="op">;</span>h3 className<span class="op">=&amp;</span>quot<span class="op">;</span>modal<span class="op">-</span>title<span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;{</span>title<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/h3&amp;gt;</span></a>
<a class="sourceLine" id="cb27-22" title="22"><span class="ss">&amp;lt;span className=&amp;quot;modal-close&amp;quot; onClick={onClose}&amp;gt;</span></a>
<a class="sourceLine" id="cb27-23" title="23"><span class="ss">&amp;amp;times;</span></a>
<a class="sourceLine" id="cb27-24" title="24"><span class="ss">&amp;lt;/span</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb27-25" title="25"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb27-26" title="26"><span class="ss">&amp;lt;div className=&amp;quot;modal-body&amp;quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb27-27" title="27"><span class="ss">&amp;lt;div className=&amp;quot;modal-content&amp;quot;&amp;gt;{content}&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb27-28" title="28"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb27-29" title="29"><span class="ss">{footer &amp;amp;&amp;amp; &amp;lt;div className=&amp;quot;modal-footer&amp;quot;&amp;gt;{footer}&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;}</span></a>
<a class="sourceLine" id="cb27-30" title="30"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb27-31" title="31"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb27-32" title="32">)<span class="op">;</span></a>
<a class="sourceLine" id="cb27-33" title="33">}<span class="op">;</span></a>
<a class="sourceLine" id="cb27-34" title="34"></a>
<a class="sourceLine" id="cb27-35" title="35"></a>
<a class="sourceLine" id="cb27-36" title="36"></a>
<a class="sourceLine" id="cb27-37" title="37"><span class="op">&lt;</span>hr /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb27-38" title="38"></a>
<a class="sourceLine" id="cb27-39" title="39"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb27-40" title="40"></a>
<a class="sourceLine" id="cb27-41" title="41"><span class="vs">const App = () =&amp;gt; {</span></a>
<a class="sourceLine" id="cb27-42" title="42"><span class="vs">  const [isModal, setModal] = React.useState(false);</span></a>
<a class="sourceLine" id="cb27-43" title="43"><span class="vs">  return (</span></a>
<a class="sourceLine" id="cb27-44" title="44"><span class="vs">    &amp;lt;&amp;gt;</span></a>
<a class="sourceLine" id="cb27-45" title="45"><span class="vs">      &amp;lt;button onClick={() =&amp;gt; setModal(true)}&amp;gt;Click Here&amp;lt;/button&amp;gt;</span></a>
<a class="sourceLine" id="cb27-46" title="46"><span class="vs">      &amp;lt;Modal</span></a>
<a class="sourceLine" id="cb27-47" title="47"><span class="vs">        isVisible={isModal}</span></a>
<a class="sourceLine" id="cb27-48" title="48"><span class="vs">        title=&amp;quot;Modal Title&amp;quot;</span></a>
<a class="sourceLine" id="cb27-49" title="49"><span class="vs">        content={&amp;lt;p&amp;gt;Add your content here&amp;lt;/p&amp;gt;}</span></a>
<a class="sourceLine" id="cb27-50" title="50"><span class="vs">        footer={&amp;lt;button&amp;gt;Cancel&amp;lt;/button&amp;gt;}</span></a>
<a class="sourceLine" id="cb27-51" title="51"><span class="vs">        onClose={() =&amp;gt; setModal(false)}</span></a>
<a class="sourceLine" id="cb27-52" title="52"><span class="vs">      /&amp;gt;</span></a>
<a class="sourceLine" id="cb27-53" title="53"><span class="vs">    &amp;lt;/&amp;gt;</span></a>
<a class="sourceLine" id="cb27-54" title="54"><span class="vs">  );</span></a>
<a class="sourceLine" id="cb27-55" title="55"><span class="vs">};</span></a>
<a class="sourceLine" id="cb27-56" title="56"></a>
<a class="sourceLine" id="cb27-57" title="57"><span class="vs">ReactDOM.render(&amp;lt;App /&amp;gt;, document.getElementById(&amp;quot;root&amp;quot;));</span></a></code></pre></div>
<hr />
<p>
Renders a checkbox list that uses a callback function to pass its selected value/values to the parent component.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create the <code>data</code> state variable and use the <code>options</code> prop to initialize its value.
</li>
<li>
Create a <code>toggle</code> function that uses the spread operator (<code>…</code>) and <code>Array.prototype.splice()</code> to update the <code>data</code> state variable and call the <code>onChange</code> callback with any <code>checked</code> options.
</li>
<li>
Use <code>Array.prototype.map()</code> to map the <code>data</code> state variable to individual <code>&lt;input type=“checkbox”&gt;</code> elements, each one wrapped in a <code>&lt;label&gt;</code>, binding the <code>onClick</code> handler to the <code>toggle</code> function.
</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb28-1" title="1"></a>
<a class="sourceLine" id="cb28-2" title="2"><span class="kw">const</span> MultiselectCheckbox <span class="op">=</span> (<span class="op">{</span> options<span class="op">,</span> onChange <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb28-3" title="3">  <span class="kw">const</span> [data<span class="op">,</span> setData] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(options)<span class="op">;</span></a>
<a class="sourceLine" id="cb28-4" title="4"></a>
<a class="sourceLine" id="cb28-5" title="5"><span class="kw">const</span> toggle <span class="op">=</span> (index) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb28-6" title="6"><span class="kw">const</span> newData <span class="op">=</span> [...<span class="at">data</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb28-7" title="7"><span class="va">newData</span>.<span class="at">splice</span>(index<span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb28-8" title="8"><span class="dt">label</span><span class="op">:</span> data[index].<span class="at">label</span><span class="op">,</span></a>
<a class="sourceLine" id="cb28-9" title="9"><span class="dt">checked</span><span class="op">:</span> <span class="op">!</span>data[index].<span class="at">checked</span><span class="op">,</span></a>
<a class="sourceLine" id="cb28-10" title="10"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb28-11" title="11"><span class="at">setData</span>(newData)<span class="op">;</span></a>
<a class="sourceLine" id="cb28-12" title="12"><span class="at">onChange</span>(<span class="va">newData</span>.<span class="at">filter</span>((x) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">x</span>.<span class="at">checked</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb28-13" title="13"><span class="op">};</span></a>
<a class="sourceLine" id="cb28-14" title="14"></a>
<a class="sourceLine" id="cb28-15" title="15"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb28-16" title="16"><span class="op">&amp;</span>lt<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb28-17" title="17"><span class="op">{</span><span class="va">data</span>.<span class="at">map</span>((item<span class="op">,</span> index) <span class="op">=&amp;</span>gt<span class="op">;</span> (</a>
<a class="sourceLine" id="cb28-18" title="18"><span class="op">&amp;</span>lt<span class="op">;</span>label key<span class="op">={</span><span class="va">item</span>.<span class="at">label</span><span class="op">}&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb28-19" title="19"><span class="op">&amp;</span>lt<span class="op">;</span>input</a>
<a class="sourceLine" id="cb28-20" title="20">readOnly</a>
<a class="sourceLine" id="cb28-21" title="21">type<span class="op">=&amp;</span>quot<span class="op">;</span>checkbox<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb28-22" title="22">checked<span class="op">={</span><span class="va">item</span>.<span class="at">checked</span> <span class="op">||</span> <span class="kw">false</span><span class="op">}</span></a>
<a class="sourceLine" id="cb28-23" title="23">onClick<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">toggle</span>(index)<span class="op">}</span></a>
<a class="sourceLine" id="cb28-24" title="24"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb28-25" title="25"><span class="ss">{item.label}</span></a>
<a class="sourceLine" id="cb28-26" title="26"><span class="ss">&amp;lt;/label</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb28-27" title="27">))<span class="op">}</span></a>
<a class="sourceLine" id="cb28-28" title="28"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb28-29" title="29"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb28-30" title="30"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb29"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb29-1" title="1"></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="kw">const</span> options <span class="op">=</span> [<span class="op">{</span> <span class="dt">label</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>Item One<span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">},</span> <span class="op">{</span> <span class="dt">label</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>Item Two<span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">}</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb29-3" title="3"></a>
<a class="sourceLine" id="cb29-4" title="4"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb29-5" title="5"><span class="op">&amp;</span>lt<span class="op">;</span>MultiselectCheckbox</a>
<a class="sourceLine" id="cb29-6" title="6">options<span class="op">={</span>options<span class="op">}</span></a>
<a class="sourceLine" id="cb29-7" title="7">onChange<span class="op">={</span>(data) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb29-8" title="8"><span class="va">console</span>.<span class="at">log</span>(data)<span class="op">;</span></a>
<a class="sourceLine" id="cb29-9" title="9"><span class="op">}}</span></a>
<a class="sourceLine" id="cb29-10" title="10"><span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb29-11" title="11"><span class="ss">document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb29-12" title="12"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a password input field with a reveal button.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create the <code>shown</code> state variable and set its value to <code>false</code>.
</li>
<li>
When the <code>&lt;button&gt;</code> is clicked, execute <code>setShown</code>, toggling the <code>type</code> of the <code>&lt;input&gt;</code> between <code>“text”</code> and <code>“password”</code>.
</li>
</ul>
<div class="sourceCode" id="cb30"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb30-1" title="1"></a>
<a class="sourceLine" id="cb30-2" title="2"><span class="kw">const</span> PasswordRevealer <span class="op">=</span> (<span class="op">{</span> value <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb30-3" title="3">  <span class="kw">const</span> [shown<span class="op">,</span> setShown] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb30-4" title="4">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb30-5" title="5">    <span class="op">&amp;</span>lt<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb30-6" title="6">      <span class="op">&amp;</span>lt<span class="op">;</span>input type<span class="op">={</span>shown <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>text<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>password<span class="op">&amp;</span>quot<span class="op">;}</span> value<span class="op">={</span>value<span class="op">}</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb30-7" title="7"><span class="ss">      &amp;lt;button onClick={</span><span class="sc">()</span><span class="ss"> =&amp;gt; setShown</span><span class="sc">(</span><span class="ss">!shown</span><span class="sc">)</span><span class="ss">}&amp;gt;Show/Hide</span><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/button&amp;gt;</span></a>
<a class="sourceLine" id="cb30-8" title="8"><span class="ss">    &amp;lt;/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb30-9" title="9">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb30-10" title="10"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb31"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb31-1" title="1"></a>
<a class="sourceLine" id="cb31-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(<span class="op">&amp;</span>lt<span class="op">;</span>PasswordRevealer /<span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Renders a button that animates a ripple effect when clicked.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create the <code>coords</code> and <code>isRippling</code> state variables for the pointer’s coordinates and the animation state of the button respectively.
</li>
<li>
Use a <code>useEffect()</code> hook to change the value of <code>isRippling</code> every time the <code>coords</code> state variable changes, starting the animation.
</li>
<li>
Use <code>setTimeout()</code> in the previous hook to clear the animation after it’s done playing.
</li>
<li>
Use a <code>useEffect()</code> hook to reset <code>coords</code> whenever the <code>isRippling</code> state variable is <code>false.</code>
</li>
<li>
Handle the <code>onClick</code> event by updating the <code>coords</code> state variable and calling the passed callback.
</li>
</ul>
<div class="sourceCode" id="cb46">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb46-1" title="1"><span class="fu">.ripple-button</span> {</a> <a class="sourceLine" id="cb46-2" title="2"> <span class="kw">border-radius</span>: <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-3" title="3"> <span class="kw">border</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-4" title="4"> <span class="kw">margin</span>: <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-5" title="5"> <span class="kw">padding</span>: <span class="dv">14</span><span class="dt">px</span> <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-6" title="6"> <span class="kw">background</span>: <span class="cn">#1976d2</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-7" title="7"> <span class="kw">color</span>: <span class="cn">#fff</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-8" title="8"> <span class="kw">overflow</span>: <span class="dv">hidden</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-9" title="9"> <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-10" title="10"> <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-11" title="11">}</a> <a class="sourceLine" id="cb46-12" title="12"></a> <a class="sourceLine" id="cb46-13" title="13"><span class="fu">.ripple-button</span> <span class="op">&gt;</span> <span class="fu">.ripple</span> {</a> <a class="sourceLine" id="cb46-14" title="14"> <span class="kw">width</span>: <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-15" title="15"> <span class="kw">height</span>: <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-16" title="16"> <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-17" title="17"> <span class="kw">background</span>: <span class="cn">#63a4ff</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-18" title="18"> <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-19" title="19"> <span class="kw">content</span>: <span class="st">""</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-20" title="20"> <span class="kw">border-radius</span>: <span class="dv">9999</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-21" title="21"> <span class="kw">opacity</span>: <span class="dv">1</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-22" title="22"> <span class="kw">animation</span>: <span class="dv">0.9</span><span class="dt">s</span> <span class="dv">ease</span> <span class="dv">1</span> <span class="dv">forwards</span> ripple-effect<span class="op">;</span></a> <a class="sourceLine" id="cb46-23" title="23">}</a> <a class="sourceLine" id="cb46-24" title="24"></a> <a class="sourceLine" id="cb46-25" title="25"><span class="im"><span class="citation" data-cites="keyframes">@keyframes</span></span> ripple-effect {</a> <a class="sourceLine" id="cb46-26" title="26"> <span class="dv">0%</span> {</a> <a class="sourceLine" id="cb46-27" title="27"> <span class="kw">transform</span>: <span class="fu">scale(</span><span class="dv">1</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-28" title="28"> <span class="kw">opacity</span>: <span class="dv">1</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-29" title="29"> }</a> <a class="sourceLine" id="cb46-30" title="30"> <span class="dv">50%</span> {</a> <a class="sourceLine" id="cb46-31" title="31"> <span class="kw">transform</span>: <span class="fu">scale(</span><span class="dv">10</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-32" title="32"> <span class="kw">opacity</span>: <span class="dv">0.375</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-33" title="33"> }</a> <a class="sourceLine" id="cb46-34" title="34"> <span class="dv">100%</span> {</a> <a class="sourceLine" id="cb46-35" title="35"> <span class="kw">transform</span>: <span class="fu">scale(</span><span class="dv">35</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-36" title="36"> <span class="kw">opacity</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-37" title="37"> }</a> <a class="sourceLine" id="cb46-38" title="38">}</a> <a class="sourceLine" id="cb46-39" title="39"></a> <a class="sourceLine" id="cb46-40" title="40"><span class="fu">.ripple-button</span> <span class="op">&gt;</span> <span class="fu">.content</span> {</a> <a class="sourceLine" id="cb46-41" title="41"> <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-42" title="42"> <span class="kw">z-index</span>: <span class="dv">2</span><span class="op">;</span></a> <a class="sourceLine" id="cb46-43" title="43">}</a></p>
</div>
<div class="sourceCode" id="cb32"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb32-1" title="1"></a>
<a class="sourceLine" id="cb32-2" title="2"><span class="kw">const</span> RippleButton <span class="op">=</span> (<span class="op">{</span> children<span class="op">,</span> onClick <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-3" title="3">  <span class="kw">const</span> [coords<span class="op">,</span> setCoords] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="op">{</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">-1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">-1</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-4" title="4">  <span class="kw">const</span> [isRippling<span class="op">,</span> setIsRippling] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-5" title="5"></a>
<a class="sourceLine" id="cb32-6" title="6"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-7" title="7"><span class="cf">if</span> (<span class="va">coords</span>.<span class="at">x</span> <span class="op">!==</span> <span class="dv">-1</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="va">coords</span>.<span class="at">y</span> <span class="op">!==</span> <span class="dv">-1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb32-8" title="8"><span class="at">setIsRippling</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-9" title="9"><span class="at">setTimeout</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setIsRippling</span>(<span class="kw">false</span>)<span class="op">,</span> <span class="dv">300</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-10" title="10"><span class="op">}</span> <span class="cf">else</span> <span class="at">setIsRippling</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-11" title="11"><span class="op">},</span> [coords])<span class="op">;</span></a>
<a class="sourceLine" id="cb32-12" title="12"></a>
<a class="sourceLine" id="cb32-13" title="13"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-14" title="14"><span class="cf">if</span> (<span class="op">!</span>isRippling) <span class="at">setCoords</span>(<span class="op">{</span> <span class="dt">x</span><span class="op">:</span> <span class="dv">-1</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="dv">-1</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-15" title="15"><span class="op">},</span> [isRippling])<span class="op">;</span></a>
<a class="sourceLine" id="cb32-16" title="16"></a>
<a class="sourceLine" id="cb32-17" title="17"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb32-18" title="18"><span class="op">&amp;</span>lt<span class="op">;</span>button</a>
<a class="sourceLine" id="cb32-19" title="19">className<span class="op">=&amp;</span>quot<span class="op">;</span>ripple<span class="op">-</span>button<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb32-20" title="20">onClick<span class="op">={</span>(e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-21" title="21"><span class="kw">const</span> rect <span class="op">=</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">getBoundingClientRect</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb32-22" title="22"><span class="at">setCoords</span>(<span class="op">{</span> <span class="dt">x</span><span class="op">:</span> <span class="va">e</span>.<span class="at">clientX</span> <span class="op">-</span> <span class="va">rect</span>.<span class="at">left</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="va">e</span>.<span class="at">clientY</span> <span class="op">-</span> <span class="va">rect</span>.<span class="at">top</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-23" title="23">onClick <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="at">onClick</span>(e)<span class="op">;</span></a>
<a class="sourceLine" id="cb32-24" title="24"><span class="op">}}</span></a>
<a class="sourceLine" id="cb32-25" title="25"><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb32-26" title="26"><span class="op">{</span>isRippling <span class="op">?</span> (</a>
<a class="sourceLine" id="cb32-27" title="27"><span class="op">&amp;</span>lt<span class="op">;</span>span</a>
<a class="sourceLine" id="cb32-28" title="28">className<span class="op">=&amp;</span>quot<span class="op">;</span>ripple<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb32-29" title="29">style<span class="op">={{</span></a>
<a class="sourceLine" id="cb32-30" title="30">            <span class="dt">left</span><span class="op">:</span> <span class="va">coords</span>.<span class="at">x</span><span class="op">,</span></a>
<a class="sourceLine" id="cb32-31" title="31">            <span class="dt">top</span><span class="op">:</span> <span class="va">coords</span>.<span class="at">y</span><span class="op">,</span></a>
<a class="sourceLine" id="cb32-32" title="32">          <span class="op">}}</span></a>
<a class="sourceLine" id="cb32-33" title="33"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb32-34" title="34"><span class="sc">)</span><span class="ss"> : </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb32-35" title="35"><span class="ss">&amp;quot;&amp;quot;</span></a>
<a class="sourceLine" id="cb32-36" title="36"><span class="sc">)</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb32-37" title="37"><span class="ss">&amp;lt;span className=&amp;quot;content&amp;quot;&amp;gt;{children}&amp;lt;/span</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb32-38" title="38"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/button&amp;gt;</span></a>
<a class="sourceLine" id="cb32-39" title="39"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb32-40" title="40"><span class="ss">};</span></a>
<a class="sourceLine" id="cb32-41" title="41"></a>
<a class="sourceLine" id="cb32-42" title="42"></a>
<a class="sourceLine" id="cb32-43" title="43"></a>
<a class="sourceLine" id="cb32-44" title="44"><span class="ss">&lt;hr /</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb32-45" title="45"></a>
<a class="sourceLine" id="cb32-46" title="46"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb32-47" title="47"></a>
<a class="sourceLine" id="cb32-48" title="48"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb32-49" title="49"><span class="vs">  &amp;lt;RippleButton onClick={(e) =&amp;gt; console.log(e)}&amp;gt;Click me&amp;lt;/RippleButton&amp;gt;,</span></a>
<a class="sourceLine" id="cb32-50" title="50"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb32-51" title="51"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders an uncontrolled <code>&lt;select&gt;</code> element that uses a callback function to pass its value to the parent component.
</p>
<ul>
<li>
Use the the <code>selectedValue</code> prop as the <code>defaultValue</code> of the <code>&lt;select&gt;</code> element to set its initial value..
</li>
<li>
Use the <code>onChange</code> event to fire the <code>onValueChange</code> callback and send the new value to the parent.
</li>
<li>
Use <code>Array.prototype.map()</code> on the <code>values</code> array to create an <code>&lt;option&gt;</code> element for each passed value.
</li>
<li>
Each item in <code>values</code> must be a 2-element array, where the first element is the <code>value</code> of the item and the second one is the displayed text for it.
</li>
</ul>
<div class="sourceCode" id="cb33"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb33-1" title="1"></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="kw">const</span> Select <span class="op">=</span> (<span class="op">{</span> values<span class="op">,</span> onValueChange<span class="op">,</span> selectedValue<span class="op">,</span> ...<span class="at">rest</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb33-3" title="3">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb33-4" title="4">    <span class="op">&amp;</span>lt<span class="op">;</span>select</a>
<a class="sourceLine" id="cb33-5" title="5">      defaultValue<span class="op">={</span>selectedValue<span class="op">}</span></a>
<a class="sourceLine" id="cb33-6" title="6">      onChange<span class="op">={</span>(<span class="op">{</span> <span class="dt">target</span><span class="op">:</span> <span class="op">{</span> value <span class="op">}</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">onValueChange</span>(value)<span class="op">}</span></a>
<a class="sourceLine" id="cb33-7" title="7">      <span class="op">{</span>...<span class="at">rest</span><span class="op">}</span></a>
<a class="sourceLine" id="cb33-8" title="8">    <span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb33-9" title="9">      <span class="op">{</span><span class="va">values</span>.<span class="at">map</span>(([value<span class="op">,</span> text]) <span class="op">=&amp;</span>gt<span class="op">;</span> (</a>
<a class="sourceLine" id="cb33-10" title="10">        <span class="op">&amp;</span>lt<span class="op">;</span>option key<span class="op">={</span>value<span class="op">}</span> value<span class="op">={</span>value<span class="op">}&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb33-11" title="11">          <span class="op">{</span>text<span class="op">}</span></a>
<a class="sourceLine" id="cb33-12" title="12">        <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/option&amp;gt;</span></a>
<a class="sourceLine" id="cb33-13" title="13"><span class="ss">      </span><span class="sc">))</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb33-14" title="14"><span class="ss">    &amp;lt;/select</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb33-15" title="15">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb33-16" title="16"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb34"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb34-1" title="1"></a>
<a class="sourceLine" id="cb34-2" title="2"><span class="kw">const</span> choices <span class="op">=</span> [</a>
<a class="sourceLine" id="cb34-3" title="3">  [<span class="op">&amp;</span>quot<span class="op">;</span>grapefruit<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;</span>Grapefruit<span class="op">&amp;</span>quot<span class="op">;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb34-4" title="4">  [<span class="op">&amp;</span>quot<span class="op">;</span>lime<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;</span>Lime<span class="op">&amp;</span>quot<span class="op">;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb34-5" title="5">  [<span class="op">&amp;</span>quot<span class="op">;</span>coconut<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;</span>Coconut<span class="op">&amp;</span>quot<span class="op">;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb34-6" title="6">  [<span class="op">&amp;</span>quot<span class="op">;</span>mango<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;</span>Mango<span class="op">&amp;</span>quot<span class="op">;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb34-7" title="7">]<span class="op">;</span></a>
<a class="sourceLine" id="cb34-8" title="8"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb34-9" title="9">  <span class="op">&amp;</span>lt<span class="op">;</span>Select</a>
<a class="sourceLine" id="cb34-10" title="10">    values<span class="op">={</span>choices<span class="op">}</span></a>
<a class="sourceLine" id="cb34-11" title="11">    selectedValue<span class="op">=&amp;</span>quot<span class="op">;</span>lime<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb34-12" title="12">    onValueChange<span class="op">={</span>(val) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">console</span>.<span class="at">log</span>(val)<span class="op">}</span></a>
<a class="sourceLine" id="cb34-13" title="13">  <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb34-14" title="14"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb34-15" title="15"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders an uncontrolled range input element that uses a callback function to pass its value to the parent component.
</p>
<ul>
<li>
Set the <code>type</code> of the <code>&lt;input&gt;</code> element to <code>“range”</code> to create a slider.
</li>
<li>
Use the <code>defaultValue</code> passed down from the parent as the uncontrolled input field’s initial value.
</li>
<li>
Use the <code>onChange</code> event to fire the <code>onValueChange</code> callback and send the new value to the parent.
</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb35-1" title="1"></a>
<a class="sourceLine" id="cb35-2" title="2"><span class="kw">const</span> Slider <span class="op">=</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb35-3" title="3">  min <span class="op">=</span> <span class="dv">0</span><span class="op">,</span></a>
<a class="sourceLine" id="cb35-4" title="4">  max <span class="op">=</span> <span class="dv">100</span><span class="op">,</span></a>
<a class="sourceLine" id="cb35-5" title="5">  defaultValue<span class="op">,</span></a>
<a class="sourceLine" id="cb35-6" title="6">  onValueChange<span class="op">,</span></a>
<a class="sourceLine" id="cb35-7" title="7">  ...<span class="at">rest</span></a>
<a class="sourceLine" id="cb35-8" title="8"><span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb35-9" title="9">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb35-10" title="10">    <span class="op">&amp;</span>lt<span class="op">;</span>input</a>
<a class="sourceLine" id="cb35-11" title="11">      type<span class="op">=&amp;</span>quot<span class="op">;</span>range<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb35-12" title="12">      min<span class="op">={</span>min<span class="op">}</span></a>
<a class="sourceLine" id="cb35-13" title="13">      max<span class="op">={</span>max<span class="op">}</span></a>
<a class="sourceLine" id="cb35-14" title="14">      defaultValue<span class="op">={</span>defaultValue<span class="op">}</span></a>
<a class="sourceLine" id="cb35-15" title="15">      onChange<span class="op">={</span>(<span class="op">{</span> <span class="dt">target</span><span class="op">:</span> <span class="op">{</span> value <span class="op">}</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">onValueChange</span>(value)<span class="op">}</span></a>
<a class="sourceLine" id="cb35-16" title="16">      <span class="op">{</span>...<span class="at">rest</span><span class="op">}</span></a>
<a class="sourceLine" id="cb35-17" title="17">    <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb35-18" title="18"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb35-19" title="19"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb36"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb36-1" title="1"></a>
<a class="sourceLine" id="cb36-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb36-3" title="3">  <span class="op">&amp;</span>lt<span class="op">;</span>Slider onValueChange<span class="op">={</span>(val) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">console</span>.<span class="at">log</span>(val)<span class="op">}</span> <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb36-4" title="4"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb36-5" title="5"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a star rating component.
</p>
<ul>
<li>
Define a component, called <code>Star</code> that will render each individual star with the appropriate appearance, based on the parent component’s state.
</li>
<li>
In the <code>StarRating</code> component, use the <code>useState()</code> hook to define the <code>rating</code> and <code>selection</code> state variables with the appropriate initial values.
</li>
<li>
Create a method, <code>hoverOver</code>, that updates <code>selected</code> according to the provided <code>event</code>, using the .<code>data-star-id</code> attribute of the event’s target or resets it to <code>0</code> if called with a <code>null</code> argument.
</li>
<li>
Use <code>Array.from()</code> to create an array of <code>5</code> elements and <code>Array.prototype.map()</code> to create individual <code>&lt;Star&gt;</code> components.
</li>
<li>
Handle the <code>onMouseOver</code> and <code>onMouseLeave</code> events of the wrapping element using <code>hoverOver</code> and the <code>onClick</code> event using <code>setRating</code>.
</li>
</ul>
<div class="sourceCode" id="cb53">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb53-1" title="1"><span class="fu">.star</span> {</a> <a class="sourceLine" id="cb53-2" title="2"> <span class="kw">color</span>: <span class="cn">#ff9933</span><span class="op">;</span></a> <a class="sourceLine" id="cb53-3" title="3"> <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a> <a class="sourceLine" id="cb53-4" title="4">}</a></p>
</div>
<div class="sourceCode" id="cb37"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb37-1" title="1"></a>
<a class="sourceLine" id="cb37-2" title="2"><span class="kw">const</span> Star <span class="op">=</span> (<span class="op">{</span> marked<span class="op">,</span> starId <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb37-3" title="3">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb37-4" title="4">    <span class="op">&amp;</span>lt<span class="op">;</span>span data<span class="op">-</span>star<span class="op">-</span>id<span class="op">={</span>starId<span class="op">}</span> className<span class="op">=&amp;</span>quot<span class="op">;</span>star<span class="op">&amp;</span>quot<span class="op">;</span> role<span class="op">=&amp;</span>quot<span class="op">;</span>button<span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb37-5" title="5">      <span class="op">{</span>marked <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>\u2605<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>\u2606<span class="op">&amp;</span>quot<span class="op">;}</span></a>
<a class="sourceLine" id="cb37-6" title="6">    <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/span&amp;gt;</span></a>
<a class="sourceLine" id="cb37-7" title="7"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb37-8" title="8"><span class="ss">};</span></a>
<a class="sourceLine" id="cb37-9" title="9"></a>
<a class="sourceLine" id="cb37-10" title="10"><span class="ss">const StarRating = </span><span class="sc">(</span><span class="ss">{ value }</span><span class="sc">)</span><span class="ss"> =&amp;gt; {</span></a>
<a class="sourceLine" id="cb37-11" title="11"><span class="ss">const </span><span class="sc">[rating, setRating]</span><span class="ss"> = React.useState</span><span class="sc">(</span><span class="ss">parseInt</span><span class="sc">(</span><span class="ss">value</span><span class="sc">)</span><span class="ss"> </span><span class="sc">||</span><span class="ss"> 0</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb37-12" title="12"><span class="ss">const </span><span class="sc">[selection, setSelection]</span><span class="ss"> = React.useState</span><span class="sc">(</span><span class="ss">0</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb37-13" title="13"></a>
<a class="sourceLine" id="cb37-14" title="14"><span class="ss">const hoverOver = </span><span class="sc">(</span><span class="ss">event</span><span class="sc">)</span><span class="ss"> =&amp;gt; {</span></a>
<a class="sourceLine" id="cb37-15" title="15"><span class="ss">let val = 0;</span></a>
<a class="sourceLine" id="cb37-16" title="16"><span class="ss">if </span><span class="sc">(</span><span class="ss">event &amp;amp;&amp;amp; event.target &amp;amp;&amp;amp; event.target.getAttribute</span><span class="sc">(</span><span class="ss">&amp;quot;data-star-id&amp;quot;</span><span class="sc">))</span></a>
<a class="sourceLine" id="cb37-17" title="17"><span class="ss">val = event.target.getAttribute</span><span class="sc">(</span><span class="ss">&amp;quot;data-star-id&amp;quot;</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb37-18" title="18"><span class="ss">setSelection</span><span class="sc">(</span><span class="ss">val</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb37-19" title="19"><span class="ss">};</span></a>
<a class="sourceLine" id="cb37-20" title="20"><span class="ss">return </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb37-21" title="21"><span class="ss">&amp;lt;div</span></a>
<a class="sourceLine" id="cb37-22" title="22"><span class="ss">onMouseOut={</span><span class="sc">()</span><span class="ss"> =&amp;gt; hoverOver</span><span class="sc">(</span><span class="ss">null</span><span class="sc">)</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb37-23" title="23"><span class="ss">onClick={</span><span class="sc">(</span><span class="ss">e</span><span class="sc">)</span><span class="ss"> =&amp;gt;</span></a>
<a class="sourceLine" id="cb37-24" title="24"><span class="ss">setRating</span><span class="sc">(</span><span class="ss">e.target.getAttribute</span><span class="sc">(</span><span class="ss">&amp;quot;data-star-id&amp;quot;</span><span class="sc">)</span><span class="ss"> </span><span class="sc">||</span><span class="ss"> rating</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb37-25" title="25"><span class="ss">}</span></a>
<a class="sourceLine" id="cb37-26" title="26"><span class="ss">onMouseOver={hoverOver}</span></a>
<a class="sourceLine" id="cb37-27" title="27"><span class="ss">&amp;gt;</span></a>
<a class="sourceLine" id="cb37-28" title="28"><span class="ss">{Array.from</span><span class="sc">(</span><span class="ss">{ length: 5 }, </span><span class="sc">(</span><span class="ss">v, i</span><span class="sc">)</span><span class="ss"> =&amp;gt; </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb37-29" title="29"><span class="ss">&amp;lt;Star</span></a>
<a class="sourceLine" id="cb37-30" title="30"><span class="ss">starId={i </span><span class="sc">+</span><span class="ss"> 1}</span></a>
<a class="sourceLine" id="cb37-31" title="31"><span class="ss">key={`star_${i </span><span class="sc">+</span><span class="ss"> 1}`}</span></a>
<a class="sourceLine" id="cb37-32" title="32"><span class="ss">marked={selection </span><span class="sc">?</span><span class="ss"> selection &amp;gt;= i </span><span class="sc">+</span><span class="ss"> 1 : rating &amp;gt;= i </span><span class="sc">+</span><span class="ss"> 1}</span></a>
<a class="sourceLine" id="cb37-33" title="33"><span class="ss">/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb37-34" title="34">))<span class="op">}</span></a>
<a class="sourceLine" id="cb37-35" title="35"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb37-36" title="36"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb37-37" title="37"><span class="ss">};</span></a>
<a class="sourceLine" id="cb37-38" title="38"></a>
<a class="sourceLine" id="cb37-39" title="39"></a>
<a class="sourceLine" id="cb37-40" title="40"></a>
<a class="sourceLine" id="cb37-41" title="41"><span class="ss">&lt;hr /</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb37-42" title="42"></a>
<a class="sourceLine" id="cb37-43" title="43"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb37-44" title="44"></a>
<a class="sourceLine" id="cb37-45" title="45"><span class="vs">ReactDOM.render(&amp;lt;StarRating value={2} /&amp;gt;, document.getElementById(&amp;quot;root&amp;quot;));</span></a></code></pre></div>
<hr />
<p>
Renders a tabbed menu and view component.
</p>
<ul>
<li>
Define a <code>Tabs</code> component that uses the <code>useState()</code> hook to initialize the value of the <code>bindIndex</code> state variable to <code>defaultIndex</code>.
</li>
<li>
Define a <code>TabItem</code> component and filter <code>children</code> passed to the <code>Tabs</code> component to remove unnecessary nodes except for <code>TabItem</code> by identifying the function’s name.
</li>
<li>
Define <code>changeTab</code>, which will be executed when clicking a <code>&lt;button&gt;</code> from the menu.
</li>
<li>
<code>changeTab</code> executes the passed callback, <code>onTabClick</code>, and updates <code>bindIndex</code> based on the clicked element.
</li>
<li>
Use <code>Array.prototype.map()</code> on the collected nodes to render the menu and view of the tabs, using the value of <code>binIndex</code> to determine the active tab and apply the correct <code>className</code>.
</li>
</ul>
<div class="sourceCode" id="cb56">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb56-1" title="1"><span class="fu">.tab-menu</span> <span class="op">&gt;</span> button {</a> <a class="sourceLine" id="cb56-2" title="2"> <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a> <a class="sourceLine" id="cb56-3" title="3"> <span class="kw">padding</span>: <span class="dv">8</span><span class="dt">px</span> <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb56-4" title="4"> <span class="kw">border</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb56-5" title="5"> <span class="kw">border-bottom</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="dv">transparent</span><span class="op">;</span></a> <a class="sourceLine" id="cb56-6" title="6"> <span class="kw">background</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb56-7" title="7">}</a> <a class="sourceLine" id="cb56-8" title="8"></a> <a class="sourceLine" id="cb56-9" title="9"><span class="fu">.tab-menu</span> <span class="op">&gt;</span> button<span class="fu">.focus</span> {</a> <a class="sourceLine" id="cb56-10" title="10"> <span class="kw">border-bottom</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#007bef</span><span class="op">;</span></a> <a class="sourceLine" id="cb56-11" title="11">}</a> <a class="sourceLine" id="cb56-12" title="12"></a> <a class="sourceLine" id="cb56-13" title="13"><span class="fu">.tab-menu</span> <span class="op">&gt;</span> button<span class="in">:hover</span> {</a> <a class="sourceLine" id="cb56-14" title="14"> <span class="kw">border-bottom</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#007bef</span><span class="op">;</span></a> <a class="sourceLine" id="cb56-15" title="15">}</a> <a class="sourceLine" id="cb56-16" title="16"></a> <a class="sourceLine" id="cb56-17" title="17"><span class="fu">.tab-content</span> {</a> <a class="sourceLine" id="cb56-18" title="18"> <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb56-19" title="19">}</a> <a class="sourceLine" id="cb56-20" title="20"></a> <a class="sourceLine" id="cb56-21" title="21"><span class="fu">.tab-content.selected</span> {</a> <a class="sourceLine" id="cb56-22" title="22"> <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a> <a class="sourceLine" id="cb56-23" title="23">}</a></p>
</div>
<div class="sourceCode" id="cb38"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb38-1" title="1"></a>
<a class="sourceLine" id="cb38-2" title="2"><span class="kw">const</span> TabItem <span class="op">=</span> (props) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">&amp;</span>lt<span class="op">;</span>div <span class="op">{</span>...<span class="at">props</span><span class="op">}</span> <span class="ss">/&amp;gt;;</span></a>
<a class="sourceLine" id="cb38-3" title="3"></a>
<a class="sourceLine" id="cb38-4" title="4"><span class="ss">const Tabs = </span><span class="sc">(</span><span class="ss">{ defaultIndex = 0, onTabClick, children }</span><span class="sc">)</span><span class="ss"> =&amp;gt; {</span></a>
<a class="sourceLine" id="cb38-5" title="5"><span class="ss">const </span><span class="sc">[bindIndex, setBindIndex]</span><span class="ss"> = React.useState</span><span class="sc">(</span><span class="ss">defaultIndex</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb38-6" title="6"><span class="ss">const changeTab = </span><span class="sc">(</span><span class="ss">newIndex</span><span class="sc">)</span><span class="ss"> =&amp;gt; {</span></a>
<a class="sourceLine" id="cb38-7" title="7"><span class="ss">if </span><span class="sc">(</span><span class="ss">typeof onItemClick === &amp;quot;function&amp;quot;</span><span class="sc">)</span><span class="ss"> onItemClick</span><span class="sc">(</span><span class="ss">itemIndex</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb38-8" title="8"><span class="ss">setBindIndex</span><span class="sc">(</span><span class="ss">newIndex</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb38-9" title="9"><span class="ss">};</span></a>
<a class="sourceLine" id="cb38-10" title="10"><span class="ss">const items = children.filter</span><span class="sc">((</span><span class="ss">item</span><span class="sc">)</span><span class="ss"> =&amp;gt; item.type.name === &amp;quot;TabItem&amp;quot;</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb38-11" title="11"></a>
<a class="sourceLine" id="cb38-12" title="12"><span class="ss">return </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb38-13" title="13"><span class="ss">&amp;lt;div className=&amp;quot;wrapper&amp;quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb38-14" title="14"><span class="ss">&amp;lt;div className=&amp;quot;tab-menu&amp;quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb38-15" title="15"><span class="ss">{items.map</span><span class="sc">((</span><span class="ss">{ props: { index, label } }</span><span class="sc">)</span><span class="ss"> =&amp;gt; </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb38-16" title="16"><span class="ss">&amp;lt;button</span></a>
<a class="sourceLine" id="cb38-17" title="17"><span class="ss">key={`tab-btn-${index}`}</span></a>
<a class="sourceLine" id="cb38-18" title="18"><span class="ss">onClick={</span><span class="sc">()</span><span class="ss"> =&amp;gt; changeTab</span><span class="sc">(</span><span class="ss">index</span><span class="sc">)</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb38-19" title="19"><span class="ss">className={bindIndex === index </span><span class="sc">?</span><span class="ss"> &amp;quot;focus&amp;quot; : &amp;quot;&amp;quot;}</span></a>
<a class="sourceLine" id="cb38-20" title="20"><span class="ss">&amp;gt;</span></a>
<a class="sourceLine" id="cb38-21" title="21"><span class="ss">{label}</span></a>
<a class="sourceLine" id="cb38-22" title="22"><span class="ss">&amp;lt;/button</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb38-23" title="23">))}</a>
<a class="sourceLine" id="cb38-24" title="24"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb38-25" title="25"><span class="ss">&amp;lt;div className=&amp;quot;tab-view&amp;quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb38-26" title="26"><span class="ss">{items.map</span><span class="sc">((</span><span class="ss">{ props }</span><span class="sc">)</span><span class="ss"> =&amp;gt; </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb38-27" title="27"><span class="ss">&amp;lt;div</span></a>
<a class="sourceLine" id="cb38-28" title="28"><span class="ss">{...props}</span></a>
<a class="sourceLine" id="cb38-29" title="29"><span class="ss">className={`tab-content ${ bindIndex === props.index </span><span class="sc">?</span><span class="ss"> &amp;quot;selected&amp;quot; : &amp;quot;&amp;quot; }`}</span></a>
<a class="sourceLine" id="cb38-30" title="30"><span class="ss">key={`tab-content-${props.index}`}</span></a>
<a class="sourceLine" id="cb38-31" title="31"><span class="ss">/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb38-32" title="32">))}</a>
<a class="sourceLine" id="cb38-33" title="33"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb38-34" title="34"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb38-35" title="35">)<span class="op">;</span></a>
<a class="sourceLine" id="cb38-36" title="36">}<span class="op">;</span></a>
<a class="sourceLine" id="cb38-37" title="37"></a>
<a class="sourceLine" id="cb38-38" title="38"></a>
<a class="sourceLine" id="cb38-39" title="39"></a>
<a class="sourceLine" id="cb38-40" title="40"><span class="op">&lt;</span>hr /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb38-41" title="41"></a>
<a class="sourceLine" id="cb38-42" title="42"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb38-43" title="43"></a>
<a class="sourceLine" id="cb38-44" title="44"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb38-45" title="45"><span class="vs">  &amp;lt;Tabs defaultIndex=&amp;quot;1&amp;quot; onTabClick={console.log}&amp;gt;</span></a>
<a class="sourceLine" id="cb38-46" title="46"><span class="vs">    &amp;lt;TabItem label=&amp;quot;A&amp;quot; index=&amp;quot;1&amp;quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb38-47" title="47"><span class="vs">      Lorem ipsum</span></a>
<a class="sourceLine" id="cb38-48" title="48"><span class="vs">    &amp;lt;/TabItem&amp;gt;</span></a>
<a class="sourceLine" id="cb38-49" title="49"><span class="vs">    &amp;lt;TabItem label=&amp;quot;B&amp;quot; index=&amp;quot;2&amp;quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb38-50" title="50"><span class="vs">      Dolor sit amet</span></a>
<a class="sourceLine" id="cb38-51" title="51"><span class="vs">    &amp;lt;/TabItem&amp;gt;</span></a>
<a class="sourceLine" id="cb38-52" title="52"><span class="vs">  &amp;lt;/Tabs&amp;gt;,</span></a>
<a class="sourceLine" id="cb38-53" title="53"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb38-54" title="54"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders a tag input field.
</p>
<ul>
<li>
Define a <code>TagInput</code> component and use the <code>useState()</code> hook to initialize an array from <code>tags</code>.
</li>
<li>
Use <code>Array.prototype.map()</code> on the collected nodes to render the list of tags.
</li>
<li>
Define the <code>addTagData</code> method, which will be executed when pressing the <code>Enter</code> key.
</li>
<li>
The <code>addTagData</code> method calls <code>setTagData</code> to add the new tag using the spread (<code>…</code>) operator to prepend the existing tags and add the new tag at the end of the <code>tagData</code> array.
</li>
<li>
Define the <code>removeTagData</code> method, which will be executed on clicking the delete icon in the tag.
</li>
<li>
Use <code>Array.prototype.filter()</code> in the <code>removeTagData</code> method to remove the tag using its <code>index</code> to filter it out from the <code>tagData</code> array.
</li>
</ul>
<div class="sourceCode" id="cb59">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb59-1" title="1"><span class="fu">.tag-input</span> {</a> <a class="sourceLine" id="cb59-2" title="2"> <span class="kw">display</span>: flex<span class="op">;</span></a> <a class="sourceLine" id="cb59-3" title="3"> <span class="kw">flex-wrap</span>: wrap<span class="op">;</span></a> <a class="sourceLine" id="cb59-4" title="4"> <span class="kw">min-height</span>: <span class="dv">48</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-5" title="5"> <span class="kw">padding</span>: <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-6" title="6"> <span class="kw">border</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#d6d8da</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-7" title="7"> <span class="kw">border-radius</span>: <span class="dv">6</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-8" title="8">}</a> <a class="sourceLine" id="cb59-9" title="9"></a> <a class="sourceLine" id="cb59-10" title="10"><span class="fu">.tag-input</span> input {</a> <a class="sourceLine" id="cb59-11" title="11"> <span class="kw">flex</span>: <span class="dv">1</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-12" title="12"> <span class="kw">border</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-13" title="13"> <span class="kw">height</span>: <span class="dv">46</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-14" title="14"> <span class="kw">font-size</span>: <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-15" title="15"> <span class="kw">padding</span>: <span class="dv">4</span><span class="dt">px</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-16" title="16">}</a> <a class="sourceLine" id="cb59-17" title="17"></a> <a class="sourceLine" id="cb59-18" title="18"><span class="fu">.tag-input</span> input<span class="in">:focus</span> {</a> <a class="sourceLine" id="cb59-19" title="19"> <span class="kw">outline</span>: <span class="dv">transparent</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-20" title="20">}</a> <a class="sourceLine" id="cb59-21" title="21"></a> <a class="sourceLine" id="cb59-22" title="22"><span class="fu">.tags</span> {</a> <a class="sourceLine" id="cb59-23" title="23"> <span class="kw">display</span>: flex<span class="op">;</span></a> <a class="sourceLine" id="cb59-24" title="24"> <span class="kw">flex-wrap</span>: wrap<span class="op">;</span></a> <a class="sourceLine" id="cb59-25" title="25"> <span class="kw">padding</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-26" title="26"> <span class="kw">margin</span>: <span class="dv">8</span><span class="dt">px</span> <span class="dv">0</span> <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-27" title="27">}</a> <a class="sourceLine" id="cb59-28" title="28"></a> <a class="sourceLine" id="cb59-29" title="29"><span class="fu">.tag</span> {</a> <a class="sourceLine" id="cb59-30" title="30"> <span class="kw">width</span>: <span class="bu">auto</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-31" title="31"> <span class="kw">height</span>: <span class="dv">32</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-32" title="32"> <span class="kw">display</span>: flex<span class="op">;</span></a> <a class="sourceLine" id="cb59-33" title="33"> <span class="kw">align-items</span>: <span class="dv">center</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-34" title="34"> <span class="kw">justify-content</span>: <span class="dv">center</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-35" title="35"> <span class="kw">color</span>: <span class="cn">#fff</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-36" title="36"> <span class="kw">padding</span>: <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-37" title="37"> <span class="kw">font-size</span>: <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-38" title="38"> <span class="kw">list-style</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-39" title="39"> <span class="kw">border-radius</span>: <span class="dv">6</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-40" title="40"> <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">8</span><span class="dt">px</span> <span class="dv">8</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-41" title="41"> <span class="kw">background</span>: <span class="cn">#0052cc</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-42" title="42">}</a> <a class="sourceLine" id="cb59-43" title="43"></a> <a class="sourceLine" id="cb59-44" title="44"><span class="fu">.tag-title</span> {</a> <a class="sourceLine" id="cb59-45" title="45"> <span class="kw">margin-top</span>: <span class="dv">3</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-46" title="46">}</a> <a class="sourceLine" id="cb59-47" title="47"></a> <a class="sourceLine" id="cb59-48" title="48"><span class="fu">.tag-close-icon</span> {</a> <a class="sourceLine" id="cb59-49" title="49"> <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-50" title="50"> <span class="kw">width</span>: <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-51" title="51"> <span class="kw">height</span>: <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-52" title="52"> <span class="kw">line-height</span>: <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-53" title="53"> <span class="kw">text-align</span>: <span class="dv">center</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-54" title="54"> <span class="kw">font-size</span>: <span class="dv">14</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-55" title="55"> <span class="kw">margin-left</span>: <span class="dv">8</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-56" title="56"> <span class="kw">color</span>: <span class="cn">#0052cc</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-57" title="57"> <span class="kw">border-radius</span>: <span class="dv">50</span><span class="dt">%</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-58" title="58"> <span class="kw">background</span>: <span class="cn">#fff</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-59" title="59"> <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a> <a class="sourceLine" id="cb59-60" title="60">}</a></p>
</div>
<div class="sourceCode" id="cb39"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb39-1" title="1"></a>
<a class="sourceLine" id="cb39-2" title="2"><span class="kw">const</span> TagInput <span class="op">=</span> (<span class="op">{</span> tags <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb39-3" title="3">  <span class="kw">const</span> [tagData<span class="op">,</span> setTagData] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(tags)<span class="op">;</span></a>
<a class="sourceLine" id="cb39-4" title="4">  <span class="kw">const</span> removeTagData <span class="op">=</span> (indexToRemove) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb39-5" title="5">    <span class="at">setTagData</span>([...<span class="va">tagData</span>.<span class="at">filter</span>((_<span class="op">,</span> index) <span class="op">=&amp;</span>gt<span class="op">;</span> index <span class="op">!==</span> indexToRemove)])<span class="op">;</span></a>
<a class="sourceLine" id="cb39-6" title="6">  <span class="op">};</span></a>
<a class="sourceLine" id="cb39-7" title="7">  <span class="kw">const</span> addTagData <span class="op">=</span> (event) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb39-8" title="8">    <span class="cf">if</span> (<span class="va">event</span>.<span class="va">target</span>.<span class="at">value</span> <span class="op">!==</span> <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb39-9" title="9">      <span class="at">setTagData</span>([...<span class="at">tagData</span><span class="op">,</span> <span class="va">event</span>.<span class="va">target</span>.<span class="at">value</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb39-10" title="10">      <span class="va">event</span>.<span class="va">target</span>.<span class="at">value</span> <span class="op">=</span> <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;;</span></a>
<a class="sourceLine" id="cb39-11" title="11">    <span class="op">}</span></a>
<a class="sourceLine" id="cb39-12" title="12">  <span class="op">};</span></a>
<a class="sourceLine" id="cb39-13" title="13">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb39-14" title="14">    <span class="op">&amp;</span>lt<span class="op">;</span>div className<span class="op">=&amp;</span>quot<span class="op">;</span>tag<span class="op">-</span>input<span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb39-15" title="15">      <span class="op">&amp;</span>lt<span class="op">;</span>ul className<span class="op">=&amp;</span>quot<span class="op">;</span>tags<span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb39-16" title="16">        <span class="op">{</span><span class="va">tagData</span>.<span class="at">map</span>((tag<span class="op">,</span> index) <span class="op">=&amp;</span>gt<span class="op">;</span> (</a>
<a class="sourceLine" id="cb39-17" title="17">          <span class="op">&amp;</span>lt<span class="op">;</span>li key<span class="op">={</span>index<span class="op">}</span> className<span class="op">=&amp;</span>quot<span class="op">;</span>tag<span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb39-18" title="18">            <span class="op">&amp;</span>lt<span class="op">;</span>span className<span class="op">=&amp;</span>quot<span class="op">;</span>tag<span class="op">-</span>title<span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;{</span>tag<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/span&amp;gt;</span></a>
<a class="sourceLine" id="cb39-19" title="19"><span class="ss">            &amp;lt;span</span></a>
<a class="sourceLine" id="cb39-20" title="20"><span class="ss">              className=&amp;quot;tag-close-icon&amp;quot;</span></a>
<a class="sourceLine" id="cb39-21" title="21"><span class="ss">              onClick={</span><span class="sc">()</span><span class="ss"> =&amp;gt; removeTagData</span><span class="sc">(</span><span class="ss">index</span><span class="sc">)</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb39-22" title="22"><span class="ss">            &amp;gt;</span></a>
<a class="sourceLine" id="cb39-23" title="23"><span class="ss">              x</span></a>
<a class="sourceLine" id="cb39-24" title="24"><span class="ss">            &amp;lt;/span</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb39-25" title="25">          <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/li&amp;gt;</span></a>
<a class="sourceLine" id="cb39-26" title="26"><span class="ss">        </span><span class="sc">))</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb39-27" title="27"><span class="ss">      &amp;lt;/ul</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb39-28" title="28">      <span class="op">&amp;</span>lt<span class="op">;</span>input</a>
<a class="sourceLine" id="cb39-29" title="29">        type<span class="op">=&amp;</span>quot<span class="op">;</span>text<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb39-30" title="30">        onKeyUp<span class="op">={</span>(event) <span class="op">=&amp;</span>gt<span class="op">;</span> (<span class="va">event</span>.<span class="at">key</span> <span class="op">===</span> <span class="op">&amp;</span>quot<span class="op">;</span>Enter<span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">?</span> <span class="at">addTagData</span>(event) : <span class="kw">null</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb39-31" title="31">        placeholder<span class="op">=&amp;</span>quot<span class="op">;</span>Press enter to add a tag<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb39-32" title="32">      <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb39-33" title="33"><span class="ss">    &amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb39-34" title="34">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb39-35" title="35"><span class="op">};</span></a>
<a class="sourceLine" id="cb39-36" title="36"></a>
<a class="sourceLine" id="cb39-37" title="37"></a>
<a class="sourceLine" id="cb39-38" title="38"></a>
<a class="sourceLine" id="cb39-39" title="39"><span class="op">&lt;</span>hr /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb39-40" title="40"></a>
<a class="sourceLine" id="cb39-41" title="41"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb39-42" title="42"></a>
<a class="sourceLine" id="cb39-43" title="43"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb39-44" title="44"><span class="vs">  &amp;lt;TagInput tags={[&amp;quot;Nodejs&amp;quot;, &amp;quot;MongoDB&amp;quot;]} /&amp;gt;,</span></a>
<a class="sourceLine" id="cb39-45" title="45"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb39-46" title="46"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders an uncontrolled <code>&lt;textarea&gt;</code> element that uses a callback function to pass its value to the parent component.
</p>
<ul>
<li>
Use the <code>defaultValue</code> passed down from the parent as the uncontrolled input field’s initial value.
</li>
<li>
Use the <code>onChange</code> event to fire the <code>onValueChange</code> callback and send the new value to the parent.
</li>
</ul>
<div class="sourceCode" id="cb40"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb40-1" title="1"></a>
<a class="sourceLine" id="cb40-2" title="2"><span class="kw">const</span> TextArea <span class="op">=</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb40-3" title="3">  cols <span class="op">=</span> <span class="dv">20</span><span class="op">,</span></a>
<a class="sourceLine" id="cb40-4" title="4">  rows <span class="op">=</span> <span class="dv">2</span><span class="op">,</span></a>
<a class="sourceLine" id="cb40-5" title="5">  defaultValue<span class="op">,</span></a>
<a class="sourceLine" id="cb40-6" title="6">  onValueChange<span class="op">,</span></a>
<a class="sourceLine" id="cb40-7" title="7">  ...<span class="at">rest</span></a>
<a class="sourceLine" id="cb40-8" title="8"><span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb40-9" title="9">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb40-10" title="10">    <span class="op">&amp;</span>lt<span class="op">;</span>textarea</a>
<a class="sourceLine" id="cb40-11" title="11">      cols<span class="op">={</span>cols<span class="op">}</span></a>
<a class="sourceLine" id="cb40-12" title="12">      rows<span class="op">={</span>rows<span class="op">}</span></a>
<a class="sourceLine" id="cb40-13" title="13">      defaultValue<span class="op">={</span>defaultValue<span class="op">}</span></a>
<a class="sourceLine" id="cb40-14" title="14">      onChange<span class="op">={</span>(<span class="op">{</span> <span class="dt">target</span><span class="op">:</span> <span class="op">{</span> value <span class="op">}</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">onValueChange</span>(value)<span class="op">}</span></a>
<a class="sourceLine" id="cb40-15" title="15">      <span class="op">{</span>...<span class="at">rest</span><span class="op">}</span></a>
<a class="sourceLine" id="cb40-16" title="16">    <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb40-17" title="17"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb40-18" title="18"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb41"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb41-1" title="1"></a>
<a class="sourceLine" id="cb41-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb41-3" title="3">  <span class="op">&amp;</span>lt<span class="op">;</span>TextArea</a>
<a class="sourceLine" id="cb41-4" title="4">    placeholder<span class="op">=&amp;</span>quot<span class="op">;</span>Insert some text <span class="va">here</span>...<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb41-5" title="5">    onValueChange<span class="op">={</span>(val) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">console</span>.<span class="at">log</span>(val)<span class="op">}</span></a>
<a class="sourceLine" id="cb41-6" title="6">  <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb41-7" title="7"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb41-8" title="8"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Renders a toggle component.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to initialize the <code>isToggleOn</code> state variable to <code>defaultToggled</code>.
</li>
<li>
Render an <code>&lt;input&gt;</code> and bind its <code>onClick</code> event to update the <code>isToggledOn</code> state variable, applying the appropriate <code>className</code> to the wrapping <code>&lt;label&gt;</code>.
</li>
</ul>
<div class="sourceCode" id="cb64">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb64-1" title="1"><span class="fu">.toggle</span> input<span class="ex">[type</span><span class="op">=</span><span class="st">“checkbox”</span><span class="ex">]</span> {</a> <a class="sourceLine" id="cb64-2" title="2"> <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb64-3" title="3">}</a> <a class="sourceLine" id="cb64-4" title="4"></a> <a class="sourceLine" id="cb64-5" title="5"><span class="fu">.toggle.on</span> {</a> <a class="sourceLine" id="cb64-6" title="6"> <span class="kw">background-color</span>: <span class="cn">green</span><span class="op">;</span></a> <a class="sourceLine" id="cb64-7" title="7">}</a> <a class="sourceLine" id="cb64-8" title="8"></a> <a class="sourceLine" id="cb64-9" title="9"><span class="fu">.toggle.off</span> {</a> <a class="sourceLine" id="cb64-10" title="10"> <span class="kw">background-color</span>: <span class="cn">red</span><span class="op">;</span></a> <a class="sourceLine" id="cb64-11" title="11">}</a></p>
</div>
<div class="sourceCode" id="cb42"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb42-1" title="1"></a>
<a class="sourceLine" id="cb42-2" title="2"><span class="kw">const</span> Toggle <span class="op">=</span> (<span class="op">{</span> defaultToggled <span class="op">=</span> <span class="kw">false</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb42-3" title="3">  <span class="kw">const</span> [isToggleOn<span class="op">,</span> setIsToggleOn] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(defaultToggled)<span class="op">;</span></a>
<a class="sourceLine" id="cb42-4" title="4"></a>
<a class="sourceLine" id="cb42-5" title="5"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb42-6" title="6"><span class="op">&amp;</span>lt<span class="op">;</span>label className<span class="op">={</span>isToggleOn <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>toggle on<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>toggle off<span class="op">&amp;</span>quot<span class="op">;}&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb42-7" title="7"><span class="op">&amp;</span>lt<span class="op">;</span>input</a>
<a class="sourceLine" id="cb42-8" title="8">type<span class="op">=&amp;</span>quot<span class="op">;</span>checkbox<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb42-9" title="9">checked<span class="op">={</span>isToggleOn<span class="op">}</span></a>
<a class="sourceLine" id="cb42-10" title="10">onChange<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setIsToggleOn</span>(<span class="op">!</span>isToggleOn)<span class="op">}</span></a>
<a class="sourceLine" id="cb42-11" title="11"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb42-12" title="12"><span class="ss">{isToggleOn </span><span class="sc">?</span><span class="ss"> &amp;quot;ON&amp;quot; : &amp;quot;OFF&amp;quot;}</span></a>
<a class="sourceLine" id="cb42-13" title="13"><span class="ss">&amp;lt;/label</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb42-14" title="14">)<span class="op">;</span></a>
<a class="sourceLine" id="cb42-15" title="15"><span class="op">};</span></a>
<a class="sourceLine" id="cb42-16" title="16"></a>
<a class="sourceLine" id="cb42-17" title="17"></a>
<a class="sourceLine" id="cb42-18" title="18"></a>
<a class="sourceLine" id="cb42-19" title="19"><span class="op">&lt;</span>hr /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb42-20" title="20"></a>
<a class="sourceLine" id="cb42-21" title="21"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb42-22" title="22"></a>
<a class="sourceLine" id="cb42-23" title="23"><span class="vs">ReactDOM.render(&amp;lt;Toggle /&amp;gt;, document.getElementById(&amp;quot;root&amp;quot;));</span></a></code></pre></div>
<hr />
<p>
Renders a tooltip component.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create the <code>show</code> variable and initialize it to <code>false</code>.
</li>
<li>
Render a container element that contains the tooltip element and the <code>children</code> passed to the component.
</li>
<li>
Handle the <code>onMouseEnter</code> and <code>onMouseLeave</code> methods, by altering the value of the <code>show</code> variable, toggling the <code>className</code> of the tooltip.
</li>
</ul>
<div class="sourceCode" id="cb67">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb67-1" title="1"><span class="fu">.tooltip-container</span> {</a> <a class="sourceLine" id="cb67-2" title="2"> <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-3" title="3">}</a> <a class="sourceLine" id="cb67-4" title="4"></a> <a class="sourceLine" id="cb67-5" title="5"><span class="fu">.tooltip-box</span> {</a> <a class="sourceLine" id="cb67-6" title="6"> <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-7" title="7"> <span class="kw">background</span>: <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.7</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-8" title="8"> <span class="kw">color</span>: <span class="cn">#fff</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-9" title="9"> <span class="kw">padding</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-10" title="10"> <span class="kw">border-radius</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-11" title="11"> <span class="kw">top</span>: <span class="fu">calc(</span><span class="dv">100</span><span class="dt">%</span> <span class="op">+</span> <span class="dv">5</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-12" title="12"> <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-13" title="13">}</a> <a class="sourceLine" id="cb67-14" title="14"></a> <a class="sourceLine" id="cb67-15" title="15"><span class="fu">.tooltip-box.visible</span> {</a> <a class="sourceLine" id="cb67-16" title="16"> <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-17" title="17">}</a> <a class="sourceLine" id="cb67-18" title="18"></a> <a class="sourceLine" id="cb67-19" title="19"><span class="fu">.tooltip-arrow</span> {</a> <a class="sourceLine" id="cb67-20" title="20"> <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-21" title="21"> <span class="kw">top</span>: <span class="dv">-10</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-22" title="22"> <span class="kw">left</span>: <span class="dv">50</span><span class="dt">%</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-23" title="23"> <span class="kw">border-width</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-24" title="24"> <span class="kw">border-style</span>: <span class="dv">solid</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-25" title="25"> <span class="kw">border-color</span>: <span class="dv">transparent</span> <span class="dv">transparent</span> <span class="fu">rgba(</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0.7</span><span class="fu">)</span> <span class="dv">transparent</span><span class="op">;</span></a> <a class="sourceLine" id="cb67-26" title="26">}</a></p>
</div>
<div class="sourceCode" id="cb43"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb43-1" title="1"></a>
<a class="sourceLine" id="cb43-2" title="2"><span class="kw">const</span> Tooltip <span class="op">=</span> (<span class="op">{</span> children<span class="op">,</span> text<span class="op">,</span> ...<span class="at">rest</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb43-3" title="3">  <span class="kw">const</span> [show<span class="op">,</span> setShow] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-4" title="4"></a>
<a class="sourceLine" id="cb43-5" title="5"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb43-6" title="6"><span class="op">&amp;</span>lt<span class="op">;</span>div className<span class="op">=&amp;</span>quot<span class="op">;</span>tooltip<span class="op">-</span>container<span class="op">&amp;</span>quot<span class="op">;&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb43-7" title="7"><span class="op">&amp;</span>lt<span class="op">;</span>div className<span class="op">={</span>show <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>tooltip<span class="op">-</span>box visible<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>tooltip<span class="op">-</span>box<span class="op">&amp;</span>quot<span class="op">;}&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb43-8" title="8"><span class="op">{</span>text<span class="op">}</span></a>
<a class="sourceLine" id="cb43-9" title="9"><span class="op">&amp;</span>lt<span class="op">;</span>span className<span class="op">=&amp;</span>quot<span class="op">;</span>tooltip<span class="op">-</span>arrow<span class="op">&amp;</span>quot<span class="op">;</span> <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb43-10" title="10"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb43-11" title="11"><span class="op">&amp;</span>lt<span class="op">;</span>div</a>
<a class="sourceLine" id="cb43-12" title="12">onMouseEnter<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setShow</span>(<span class="kw">true</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb43-13" title="13">onMouseLeave<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setShow</span>(<span class="kw">false</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb43-14" title="14"><span class="op">{</span>...<span class="at">rest</span><span class="op">}</span></a>
<a class="sourceLine" id="cb43-15" title="15"><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb43-16" title="16"><span class="op">{</span>children<span class="op">}</span></a>
<a class="sourceLine" id="cb43-17" title="17"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb43-18" title="18"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb43-19" title="19">)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-20" title="20"><span class="op">};</span></a>
<a class="sourceLine" id="cb43-21" title="21"></a>
<a class="sourceLine" id="cb43-22" title="22"></a>
<a class="sourceLine" id="cb43-23" title="23"></a>
<a class="sourceLine" id="cb43-24" title="24"><span class="op">&lt;</span>hr /<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb43-25" title="25"></a>
<a class="sourceLine" id="cb43-26" title="26"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb43-27" title="27"></a>
<a class="sourceLine" id="cb43-28" title="28"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb43-29" title="29"><span class="vs">  &amp;lt;Tooltip text=&amp;quot;Simple tooltip&amp;quot;&amp;gt;</span></a>
<a class="sourceLine" id="cb43-30" title="30"><span class="vs">    &amp;lt;button&amp;gt;Hover me!&amp;lt;/button&amp;gt;</span></a>
<a class="sourceLine" id="cb43-31" title="31"><span class="vs">  &amp;lt;/Tooltip&amp;gt;,</span></a>
<a class="sourceLine" id="cb43-32" title="32"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb43-33" title="33"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders a tree view of a JSON object or array with collapsible content.
</p>
<ul>
<li>
Use the value of the <code>toggled</code> prop to determine the initial state of the content (collapsed/expanded).
</li>
<li>
Use the <code>useState()</code> hook to create the <code>isToggled</code> state variable and give it the value of the <code>toggled</code> prop initially.
</li>
<li>
Render a <code>&lt;span&gt;</code> element and bind its <code>onClick</code> event to alter the component’s <code>isToggled</code> state.
</li>
<li>
Determine the appearance of the component, based on <code>isParentToggled</code>, <code>isToggled</code>, <code>name</code> and checking for <code>Array.isArray()</code> on <code>data</code>.
</li>
<li>
For each child in <code>data</code>, determine if it is an object or array and recursively render a sub-tree or a text element with the appropriate style.
</li>
</ul>
<div class="sourceCode" id="cb70">
<pre class="sourceCode css">
<p><code class="sourceCode css"><a class="sourceLine" id="cb70-1" title="1"><span class="fu">.tree-element</span> {</a> <a class="sourceLine" id="cb70-2" title="2"> <span class="kw">margin</span>: <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">4</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-3" title="3"> <span class="kw">position</span>: <span class="dv">relative</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-4" title="4">}</a> <a class="sourceLine" id="cb70-5" title="5"></a> <a class="sourceLine" id="cb70-6" title="6"><span class="fu">.tree-element.is-child</span> {</a> <a class="sourceLine" id="cb70-7" title="7"> <span class="kw">margin-left</span>: <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-8" title="8">}</a> <a class="sourceLine" id="cb70-9" title="9"></a> <a class="sourceLine" id="cb70-10" title="10">div<span class="fu">.tree-element</span><span class="in">:before</span> {</a> <a class="sourceLine" id="cb70-11" title="11"> <span class="kw">content</span>: <span class="st">""</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-12" title="12"> <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-13" title="13"> <span class="kw">top</span>: <span class="dv">24</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-14" title="14"> <span class="kw">left</span>: <span class="dv">1</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-15" title="15"> <span class="kw">height</span>: <span class="fu">calc(</span><span class="dv">100</span><span class="dt">%</span> <span class="op">-</span> <span class="dv">48</span><span class="dt">px</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-16" title="16"> <span class="kw">border-left</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">gray</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-17" title="17">}</a> <a class="sourceLine" id="cb70-18" title="18"></a> <a class="sourceLine" id="cb70-19" title="19">p<span class="fu">.tree-element</span> {</a> <a class="sourceLine" id="cb70-20" title="20"> <span class="kw">margin-left</span>: <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-21" title="21">}</a> <a class="sourceLine" id="cb70-22" title="22"></a> <a class="sourceLine" id="cb70-23" title="23"><span class="fu">.toggler</span> {</a> <a class="sourceLine" id="cb70-24" title="24"> <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-25" title="25"> <span class="kw">top</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-26" title="26"> <span class="kw">left</span>: <span class="dv">0</span><span class="dt">px</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-27" title="27"> <span class="kw">width</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-28" title="28"> <span class="kw">height</span>: <span class="dv">0</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-29" title="29"> <span class="kw">border-top</span>: <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="dv">transparent</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-30" title="30"> <span class="kw">border-bottom</span>: <span class="dv">4</span><span class="dt">px</span> <span class="dv">solid</span> <span class="dv">transparent</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-31" title="31"> <span class="kw">border-left</span>: <span class="dv">5</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">gray</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-32" title="32"> <span class="kw">cursor</span>: <span class="dv">pointer</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-33" title="33">}</a> <a class="sourceLine" id="cb70-34" title="34"></a> <a class="sourceLine" id="cb70-35" title="35"><span class="fu">.toggler.closed</span> {</a> <a class="sourceLine" id="cb70-36" title="36"> <span class="kw">transform</span>: <span class="fu">rotate(</span><span class="dv">90</span><span class="dt">deg</span><span class="fu">)</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-37" title="37">}</a> <a class="sourceLine" id="cb70-38" title="38"></a> <a class="sourceLine" id="cb70-39" title="39"><span class="fu">.collapsed</span> {</a> <a class="sourceLine" id="cb70-40" title="40"> <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span></a> <a class="sourceLine" id="cb70-41" title="41">}</a></p>
</div>
<div class="sourceCode" id="cb44"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb44-1" title="1"></a>
<a class="sourceLine" id="cb44-2" title="2"><span class="kw">const</span> TreeView <span class="op">=</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb44-3" title="3">  data<span class="op">,</span></a>
<a class="sourceLine" id="cb44-4" title="4">  toggled <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-5" title="5">  name <span class="op">=</span> <span class="kw">null</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-6" title="6">  isLast <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-7" title="7">  isChildElement <span class="op">=</span> <span class="kw">false</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-8" title="8">  isParentToggled <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb44-9" title="9"><span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb44-10" title="10">  <span class="kw">const</span> [isToggled<span class="op">,</span> setIsToggled] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(toggled)<span class="op">;</span></a>
<a class="sourceLine" id="cb44-11" title="11">  <span class="kw">const</span> isDataArray <span class="op">=</span> <span class="va">Array</span>.<span class="at">isArray</span>(data)<span class="op">;</span></a>
<a class="sourceLine" id="cb44-12" title="12"></a>
<a class="sourceLine" id="cb44-13" title="13"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb44-14" title="14"><span class="op">&amp;</span>lt<span class="op">;</span>div</a>
<a class="sourceLine" id="cb44-15" title="15">className<span class="op">={</span><span class="vs">`tree-element </span><span class="sc">${</span>isParentToggled <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="op">&amp;</span>quot<span class="op">;</span>collapsed<span class="op">&amp;</span>quot<span class="op">;</span><span class="sc">}</span><span class="vs"> </span><span class="sc">${</span> isChildElement <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="op">&amp;</span>quot<span class="op">;</span>is<span class="op">-</span>child<span class="op">&amp;</span>quot<span class="op">;</span> <span class="sc">}</span><span class="vs">`</span><span class="op">}</span></a>
<a class="sourceLine" id="cb44-16" title="16"><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb44-17" title="17"><span class="op">&amp;</span>lt<span class="op">;</span>span</a>
<a class="sourceLine" id="cb44-18" title="18">className<span class="op">={</span>isToggled <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>toggler<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>toggler closed<span class="op">&amp;</span>quot<span class="op">;}</span></a>
<a class="sourceLine" id="cb44-19" title="19">onClick<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setIsToggled</span>(<span class="op">!</span>isToggled)<span class="op">}</span></a>
<a class="sourceLine" id="cb44-20" title="20"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb44-21" title="21"><span class="ss">{name </span><span class="sc">?</span><span class="ss"> &amp;lt;strong&amp;gt;&amp;amp;nbsp;&amp;amp;nbsp;{name}: &amp;lt;/strong</span><span class="op">&amp;</span>gt<span class="op">;</span> <span class="op">:</span> <span class="op">&amp;</span>lt<span class="op">;</span>span<span class="op">&amp;</span>gt<span class="op">;&amp;</span>amp<span class="op">;</span>nbsp<span class="op">;&amp;</span>amp<span class="op">;</span>nbsp<span class="op">;&amp;</span>lt<span class="op">;</span><span class="ss">/span&amp;gt;}</span></a>
<a class="sourceLine" id="cb44-22" title="22"><span class="ss">{isDataArray </span><span class="sc">?</span><span class="ss"> &amp;quot;</span><span class="sc">[&amp;quot; : &amp;quot;{&amp;quot;}</span></a>
<a class="sourceLine" id="cb44-23" title="23"><span class="sc">{!isToggled &amp;amp;&amp;amp; &amp;quot;...&amp;quot;}</span></a>
<a class="sourceLine" id="cb44-24" title="24"><span class="sc">{Object.keys(data).map((v, i, a) =&amp;gt;</span></a>
<a class="sourceLine" id="cb44-25" title="25"><span class="sc">typeof data[v]</span><span class="ss"> === &amp;quot;object&amp;quot; </span><span class="sc">?</span><span class="ss"> </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb44-26" title="26"><span class="ss">&amp;lt;TreeView</span></a>
<a class="sourceLine" id="cb44-27" title="27"><span class="ss">key={`${name}-${v}-${i}`}</span></a>
<a class="sourceLine" id="cb44-28" title="28"><span class="ss">data={data</span><span class="sc">[v]</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb44-29" title="29"><span class="ss">isLast={i === a.length - 1}</span></a>
<a class="sourceLine" id="cb44-30" title="30"><span class="ss">name={isDataArray </span><span class="sc">?</span><span class="ss"> null : v}</span></a>
<a class="sourceLine" id="cb44-31" title="31"><span class="ss">isChildElement</span></a>
<a class="sourceLine" id="cb44-32" title="32"><span class="ss">isParentToggled={isParentToggled &amp;amp;&amp;amp; isToggled}</span></a>
<a class="sourceLine" id="cb44-33" title="33"><span class="ss">/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb44-34" title="34">) <span class="op">:</span> (</a>
<a class="sourceLine" id="cb44-35" title="35"><span class="op">&amp;</span>lt<span class="op">;</span>p</a>
<a class="sourceLine" id="cb44-36" title="36">key<span class="op">={</span><span class="vs">`</span><span class="sc">${</span>name<span class="sc">}</span><span class="vs">-</span><span class="sc">${</span>v<span class="sc">}</span><span class="vs">-</span><span class="sc">${</span>i<span class="sc">}</span><span class="vs">`</span><span class="op">}</span></a>
<a class="sourceLine" id="cb44-37" title="37">className<span class="op">={</span>isToggled <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>tree<span class="op">-</span>element<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>tree<span class="op">-</span>element collapsed<span class="op">&amp;</span>quot<span class="op">;}</span></a>
<a class="sourceLine" id="cb44-38" title="38"><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb44-39" title="39"><span class="op">{</span>isDataArray <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>lt<span class="op">;</span>strong<span class="op">&amp;</span>gt<span class="op">;{</span>v<span class="op">}:</span> <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/strong&amp;gt;}</span></a>
<a class="sourceLine" id="cb44-40" title="40"><span class="ss">{data</span><span class="sc">[v]</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb44-41" title="41"><span class="ss">{i === a.length - 1 </span><span class="sc">?</span><span class="ss"> &amp;quot;&amp;quot; : &amp;quot;,&amp;quot;}</span></a>
<a class="sourceLine" id="cb44-42" title="42"><span class="ss">&amp;lt;/p</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb44-43" title="43">)</a>
<a class="sourceLine" id="cb44-44" title="44">)<span class="op">}</span></a>
<a class="sourceLine" id="cb44-45" title="45"><span class="op">{</span>isDataArray <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>]<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;}&amp;</span>quot<span class="op">;}</span></a>
<a class="sourceLine" id="cb44-46" title="46"><span class="op">{!</span>isLast <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;,&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;}</span></a>
<a class="sourceLine" id="cb44-47" title="47"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb44-48" title="48"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb44-49" title="49"><span class="ss">};</span></a>
<a class="sourceLine" id="cb44-50" title="50"></a>
<a class="sourceLine" id="cb44-51" title="51"></a>
<a class="sourceLine" id="cb44-52" title="52"></a>
<a class="sourceLine" id="cb44-53" title="53"><span class="ss">&lt;hr /</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb44-54" title="54"></a>
<a class="sourceLine" id="cb44-55" title="55"><span class="vs">```js</span></a>
<a class="sourceLine" id="cb44-56" title="56"></a>
<a class="sourceLine" id="cb44-57" title="57"><span class="vs">const data = {</span></a>
<a class="sourceLine" id="cb44-58" title="58"><span class="vs">  lorem: {</span></a>
<a class="sourceLine" id="cb44-59" title="59"><span class="vs">    ipsum: &amp;quot;dolor sit&amp;quot;,</span></a>
<a class="sourceLine" id="cb44-60" title="60"><span class="vs">    amet: {</span></a>
<a class="sourceLine" id="cb44-61" title="61"><span class="vs">      consectetur: &amp;quot;adipiscing&amp;quot;,</span></a>
<a class="sourceLine" id="cb44-62" title="62"><span class="vs">      elit: [</span></a>
<a class="sourceLine" id="cb44-63" title="63"><span class="vs">        &amp;quot;duis&amp;quot;,</span></a>
<a class="sourceLine" id="cb44-64" title="64"><span class="vs">        &amp;quot;vitae&amp;quot;,</span></a>
<a class="sourceLine" id="cb44-65" title="65"><span class="vs">        {</span></a>
<a class="sourceLine" id="cb44-66" title="66"><span class="vs">          semper: &amp;quot;orci&amp;quot;,</span></a>
<a class="sourceLine" id="cb44-67" title="67"><span class="vs">        },</span></a>
<a class="sourceLine" id="cb44-68" title="68"><span class="vs">        {</span></a>
<a class="sourceLine" id="cb44-69" title="69"><span class="vs">          est: &amp;quot;sed ornare&amp;quot;,</span></a>
<a class="sourceLine" id="cb44-70" title="70"><span class="vs">        },</span></a>
<a class="sourceLine" id="cb44-71" title="71"><span class="vs">        &amp;quot;etiam&amp;quot;,</span></a>
<a class="sourceLine" id="cb44-72" title="72"><span class="vs">        [&amp;quot;laoreet&amp;quot;, &amp;quot;tincidunt&amp;quot;],</span></a>
<a class="sourceLine" id="cb44-73" title="73"><span class="vs">        [&amp;quot;vestibulum&amp;quot;, &amp;quot;ante&amp;quot;],</span></a>
<a class="sourceLine" id="cb44-74" title="74"><span class="vs">      ],</span></a>
<a class="sourceLine" id="cb44-75" title="75"><span class="vs">    },</span></a>
<a class="sourceLine" id="cb44-76" title="76"><span class="vs">    ipsum: &amp;quot;primis&amp;quot;,</span></a>
<a class="sourceLine" id="cb44-77" title="77"><span class="vs">  },</span></a>
<a class="sourceLine" id="cb44-78" title="78"><span class="vs">};</span></a>
<a class="sourceLine" id="cb44-79" title="79"><span class="vs">ReactDOM.render(</span></a>
<a class="sourceLine" id="cb44-80" title="80"><span class="vs">  &amp;lt;TreeView data={data} name=&amp;quot;data&amp;quot; /&amp;gt;,</span></a>
<a class="sourceLine" id="cb44-81" title="81"><span class="vs">  document.getElementById(&amp;quot;root&amp;quot;)</span></a>
<a class="sourceLine" id="cb44-82" title="82"><span class="vs">);</span></a></code></pre></div>
<hr />
<p>
Renders an uncontrolled <code>&lt;input&gt;</code> element that uses a callback function to inform its parent about value updates.
</p>
<ul>
<li>
Use the <code>defaultValue</code> passed down from the parent as the uncontrolled input field’s initial value.
</li>
<li>
Use the <code>onChange</code> event to fire the <code>onValueChange</code> callback and send the new value to the parent.
</li>
</ul>
<div class="sourceCode" id="cb45"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb45-1" title="1"></a>
<a class="sourceLine" id="cb45-2" title="2"><span class="kw">const</span> UncontrolledInput <span class="op">=</span> (<span class="op">{</span> defaultValue<span class="op">,</span> onValueChange<span class="op">,</span> ...<span class="at">rest</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb45-3" title="3">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb45-4" title="4">    <span class="op">&amp;</span>lt<span class="op">;</span>input</a>
<a class="sourceLine" id="cb45-5" title="5">      defaultValue<span class="op">={</span>defaultValue<span class="op">}</span></a>
<a class="sourceLine" id="cb45-6" title="6">      onChange<span class="op">={</span>(<span class="op">{</span> <span class="dt">target</span><span class="op">:</span> <span class="op">{</span> value <span class="op">}</span> <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">onValueChange</span>(value)<span class="op">}</span></a>
<a class="sourceLine" id="cb45-7" title="7">      <span class="op">{</span>...<span class="at">rest</span><span class="op">}</span></a>
<a class="sourceLine" id="cb45-8" title="8">    <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb45-9" title="9"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb45-10" title="10"><span class="ss">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb46"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb46-1" title="1"></a>
<a class="sourceLine" id="cb46-2" title="2"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb46-3" title="3">  <span class="op">&amp;</span>lt<span class="op">;</span>UncontrolledInput</a>
<a class="sourceLine" id="cb46-4" title="4">    type<span class="op">=&amp;</span>quot<span class="op">;</span>text<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb46-5" title="5">    placeholder<span class="op">=&amp;</span>quot<span class="op">;</span>Insert some text <span class="va">here</span>...<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb46-6" title="6">    onValueChange<span class="op">={</span><span class="va">console</span>.<span class="at">log</span><span class="op">}</span></a>
<a class="sourceLine" id="cb46-7" title="7">  <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb46-8" title="8"><span class="ss">  document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb46-9" title="9"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Handles asynchronous calls.
</p>
<ul>
<li>
Create a custom hook that takes a handler function, <code>fn</code>.
</li>
<li>
Define a reducer function and an initial state for the custom hook’s state.
</li>
<li>
Use the <code>useReducer()</code> hook to initialize the <code>state</code> variable and the <code>dispatch</code> function.
</li>
<li>
Define an asynchronous <code>run</code> function that will run the provided callback, <code>fn</code>, while using <code>dispatch</code> to update <code>state</code> as necessary.
</li>
<li>
Return an object containing the properties of <code>state</code> (<code>value</code>, <code>error</code> and <code>loading</code>) and the <code>run</code> function.
</li>
</ul>
<div class="sourceCode" id="cb47"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb47-1" title="1"></a>
<a class="sourceLine" id="cb47-2" title="2"><span class="kw">const</span> useAsync <span class="op">=</span> (fn) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-3" title="3">  <span class="kw">const</span> initialState <span class="op">=</span> <span class="op">{</span> <span class="dt">loading</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span> <span class="dt">error</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">null</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb47-4" title="4">  <span class="kw">const</span> stateReducer <span class="op">=</span> (_<span class="op">,</span> action) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-5" title="5">    <span class="cf">switch</span> (<span class="va">action</span>.<span class="at">type</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb47-6" title="6">      <span class="cf">case</span> <span class="op">&amp;</span>quot<span class="op">;</span>start<span class="op">&amp;</span>quot<span class="op">;:</span></a>
<a class="sourceLine" id="cb47-7" title="7">        <span class="cf">return</span> <span class="op">{</span> <span class="dt">loading</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">error</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">null</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb47-8" title="8">      <span class="cf">case</span> <span class="op">&amp;</span>quot<span class="op">;</span>finish<span class="op">&amp;</span>quot<span class="op">;:</span></a>
<a class="sourceLine" id="cb47-9" title="9">        <span class="cf">return</span> <span class="op">{</span> <span class="dt">loading</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span> <span class="dt">error</span><span class="op">:</span> <span class="kw">null</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="va">action</span>.<span class="at">value</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb47-10" title="10">      <span class="cf">case</span> <span class="op">&amp;</span>quot<span class="op">;</span>error<span class="op">&amp;</span>quot<span class="op">;:</span></a>
<a class="sourceLine" id="cb47-11" title="11">        <span class="cf">return</span> <span class="op">{</span> <span class="dt">loading</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span> <span class="dt">error</span><span class="op">:</span> <span class="va">action</span>.<span class="at">error</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">null</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb47-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-13" title="13">  <span class="op">};</span></a>
<a class="sourceLine" id="cb47-14" title="14"></a>
<a class="sourceLine" id="cb47-15" title="15"><span class="kw">const</span> [state<span class="op">,</span> dispatch] <span class="op">=</span> <span class="va">React</span>.<span class="at">useReducer</span>(stateReducer<span class="op">,</span> initialState)<span class="op">;</span></a>
<a class="sourceLine" id="cb47-16" title="16"></a>
<a class="sourceLine" id="cb47-17" title="17"><span class="kw">const</span> run <span class="op">=</span> <span class="kw">async</span> (args <span class="op">=</span> <span class="kw">null</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-18" title="18"><span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-19" title="19"><span class="at">dispatch</span>(<span class="op">{</span> <span class="dt">type</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>start<span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb47-20" title="20"><span class="kw">const</span> value <span class="op">=</span> <span class="cf">await</span> <span class="at">fn</span>(args)<span class="op">;</span></a>
<a class="sourceLine" id="cb47-21" title="21"><span class="at">dispatch</span>(<span class="op">{</span> <span class="dt">type</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>finish<span class="op">&amp;</span>quot<span class="op">;,</span> value <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb47-22" title="22"><span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb47-23" title="23"><span class="at">dispatch</span>(<span class="op">{</span> <span class="dt">type</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>error<span class="op">&amp;</span>quot<span class="op">;,</span> error <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb47-24" title="24"><span class="op">}</span></a>
<a class="sourceLine" id="cb47-25" title="25"><span class="op">};</span></a>
<a class="sourceLine" id="cb47-26" title="26"></a>
<a class="sourceLine" id="cb47-27" title="27"><span class="cf">return</span> <span class="op">{</span> ...<span class="at">state</span><span class="op">,</span> run <span class="op">};</span></a>
<a class="sourceLine" id="cb47-28" title="28"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb48"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb48-1" title="1"></a>
<a class="sourceLine" id="cb48-2" title="2"><span class="kw">const</span> RandomImage <span class="op">=</span> (props) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb48-3" title="3">  <span class="kw">const</span> imgFetch <span class="op">=</span> <span class="at">useAsync</span>((url) <span class="op">=&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb48-4" title="4">    <span class="at">fetch</span>(url).<span class="at">then</span>((response) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">response</span>.<span class="at">json</span>())</a>
<a class="sourceLine" id="cb48-5" title="5">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb48-6" title="6"></a>
<a class="sourceLine" id="cb48-7" title="7"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb48-8" title="8"><span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb48-9" title="9"><span class="op">&amp;</span>lt<span class="op">;</span>button</a>
<a class="sourceLine" id="cb48-10" title="10">onClick<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">imgFetch</span>.<span class="at">run</span>(<span class="op">&amp;</span>quot<span class="op">;</span><span class="dt">https</span><span class="op">:</span><span class="co">//dog.ceo/api/breeds/image/random&amp;quot;)}</span></a>
<a class="sourceLine" id="cb48-11" title="11">disabled<span class="op">={</span><span class="va">imgFetch</span>.<span class="at">isLoading</span><span class="op">}</span></a>
<a class="sourceLine" id="cb48-12" title="12"><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb48-13" title="13">Load image</a>
<a class="sourceLine" id="cb48-14" title="14"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/button&amp;gt;</span></a>
<a class="sourceLine" id="cb48-15" title="15"><span class="ss">&amp;lt;br /</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb48-16" title="16"><span class="op">{</span><span class="va">imgFetch</span>.<span class="at">loading</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span><span class="va">Loading</span>...<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;}</span></a>
<a class="sourceLine" id="cb48-17" title="17"><span class="ss">{imgFetch.error &amp;amp;&amp;amp; &amp;lt;div&amp;gt;Error {imgFetch.error}&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;}</span></a>
<a class="sourceLine" id="cb48-18" title="18"><span class="op">{</span><span class="va">imgFetch</span>.<span class="at">value</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> (</a>
<a class="sourceLine" id="cb48-19" title="19"><span class="op">&amp;</span>lt<span class="op">;</span>img</a>
<a class="sourceLine" id="cb48-20" title="20">src<span class="op">={</span><span class="va">imgFetch</span>.<span class="va">value</span>.<span class="at">message</span><span class="op">}</span></a>
<a class="sourceLine" id="cb48-21" title="21">alt<span class="op">=&amp;</span>quot<span class="op">;</span>avatar<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb48-22" title="22">width<span class="op">={</span><span class="dv">400</span><span class="op">}</span></a>
<a class="sourceLine" id="cb48-23" title="23">height<span class="op">=&amp;</span>quot<span class="op">;</span>auto<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb48-24" title="24"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb48-25" title="25"><span class="sc">)</span><span class="ss">}</span></a>
<a class="sourceLine" id="cb48-26" title="26"><span class="ss">&amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb48-27" title="27">)<span class="op">;</span></a>
<a class="sourceLine" id="cb48-28" title="28"><span class="op">};</span></a>
<a class="sourceLine" id="cb48-29" title="29"></a>
<a class="sourceLine" id="cb48-30" title="30"><span class="va">ReactDOM</span>.<span class="at">render</span>(<span class="op">&amp;</span>lt<span class="op">;</span>RandomImage /<span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Handles the event of clicking inside the wrapped component.
</p>
<ul>
<li>
Create a custom hook that takes a <code>ref</code> and a <code>callback</code> to handle the <code>‘click’</code> event.
</li>
<li>
Use the <code>useEffect()</code> hook to append and clean up the <code>click</code> event.
</li>
<li>
Use the <code>useRef()</code> hook to create a <code>ref</code> for your click component and pass it to the <code>useClickInside</code> hook.
</li>
</ul>
<div class="sourceCode" id="cb49"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb49-1" title="1"></a>
<a class="sourceLine" id="cb49-2" title="2"><span class="kw">const</span> useClickInside <span class="op">=</span> (ref<span class="op">,</span> callback) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb49-3" title="3">  <span class="kw">const</span> handleClick <span class="op">=</span> (e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb49-4" title="4">    <span class="cf">if</span> (<span class="va">ref</span>.<span class="at">current</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="va">ref</span>.<span class="va">current</span>.<span class="at">contains</span>(<span class="va">e</span>.<span class="at">target</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb49-5" title="5">      <span class="at">callback</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb49-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb49-7" title="7">  <span class="op">};</span></a>
<a class="sourceLine" id="cb49-8" title="8">  <span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb49-9" title="9">    <span class="va">document</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>click<span class="op">&amp;</span>quot<span class="op">;,</span> handleClick)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-10" title="10">    <span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb49-11" title="11">      <span class="va">document</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>click<span class="op">&amp;</span>quot<span class="op">;,</span> handleClick)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-12" title="12">    <span class="op">};</span></a>
<a class="sourceLine" id="cb49-13" title="13">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-14" title="14"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb50"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb50-1" title="1"></a>
<a class="sourceLine" id="cb50-2" title="2"><span class="kw">const</span> ClickBox <span class="op">=</span> (<span class="op">{</span> onClickInside <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb50-3" title="3">  <span class="kw">const</span> clickRef <span class="op">=</span> <span class="va">React</span>.<span class="at">useRef</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb50-4" title="4">  <span class="at">useClickInside</span>(clickRef<span class="op">,</span> onClickInside)<span class="op">;</span></a>
<a class="sourceLine" id="cb50-5" title="5">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb50-6" title="6">    <span class="op">&amp;</span>lt<span class="op">;</span>div</a>
<a class="sourceLine" id="cb50-7" title="7">      className<span class="op">=&amp;</span>quot<span class="op">;</span>click<span class="op">-</span>box<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb50-8" title="8">      ref<span class="op">={</span>clickRef<span class="op">}</span></a>
<a class="sourceLine" id="cb50-9" title="9">      style<span class="op">={{</span></a>
<a class="sourceLine" id="cb50-10" title="10">        <span class="dt">border</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>2px dashed orangered<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb50-11" title="11">        <span class="dt">height</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></a>
<a class="sourceLine" id="cb50-12" title="12">        <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></a>
<a class="sourceLine" id="cb50-13" title="13">        <span class="dt">display</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>flex<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb50-14" title="14">        <span class="dt">justifyContent</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>center<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb50-15" title="15">        <span class="dt">alignItems</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>center<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb50-16" title="16">      <span class="op">}}</span></a>
<a class="sourceLine" id="cb50-17" title="17">    <span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb50-18" title="18">      <span class="op">&amp;</span>lt<span class="op">;</span>p<span class="op">&amp;</span>gt<span class="op">;</span>Click inside <span class="kw">this</span> element<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;</span></a>
<a class="sourceLine" id="cb50-19" title="19"><span class="ss">    &amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb50-20" title="20">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb50-21" title="21"><span class="op">};</span></a>
<a class="sourceLine" id="cb50-22" title="22"></a>
<a class="sourceLine" id="cb50-23" title="23"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb50-24" title="24"><span class="op">&amp;</span>lt<span class="op">;</span>ClickBox onClickInside<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">alert</span>(<span class="op">&amp;</span>quot<span class="op">;</span>click inside<span class="op">&amp;</span>quot<span class="op">;</span>)<span class="op">}</span> <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb50-25" title="25"><span class="ss">document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb50-26" title="26"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Handles the event of clicking outside of the wrapped component.
</p>
<ul>
<li>
Create a custom hook that takes a <code>ref</code> and a <code>callback</code> to handle the <code>click</code> event.
</li>
<li>
Use the <code>useEffect()</code> hook to append and clean up the <code>click</code> event.
</li>
<li>
Use the <code>useRef()</code> hook to create a <code>ref</code> for your click component and pass it to the <code>useClickOutside</code> hook.
</li>
</ul>
<div class="sourceCode" id="cb51"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb51-1" title="1"></a>
<a class="sourceLine" id="cb51-2" title="2"><span class="kw">const</span> useClickOutside <span class="op">=</span> (ref<span class="op">,</span> callback) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-3" title="3">  <span class="kw">const</span> handleClick <span class="op">=</span> (e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-4" title="4">    <span class="cf">if</span> (<span class="va">ref</span>.<span class="at">current</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="op">!</span><span class="va">ref</span>.<span class="va">current</span>.<span class="at">contains</span>(<span class="va">e</span>.<span class="at">target</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb51-5" title="5">      <span class="at">callback</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb51-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb51-7" title="7">  <span class="op">};</span></a>
<a class="sourceLine" id="cb51-8" title="8">  <span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-9" title="9">    <span class="va">document</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>click<span class="op">&amp;</span>quot<span class="op">;,</span> handleClick)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-10" title="10">    <span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-11" title="11">      <span class="va">document</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>click<span class="op">&amp;</span>quot<span class="op">;,</span> handleClick)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-12" title="12">    <span class="op">};</span></a>
<a class="sourceLine" id="cb51-13" title="13">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-14" title="14"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb52"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb52-1" title="1"></a>
<a class="sourceLine" id="cb52-2" title="2"><span class="kw">const</span> ClickBox <span class="op">=</span> (<span class="op">{</span> onClickOutside <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb52-3" title="3">  <span class="kw">const</span> clickRef <span class="op">=</span> <span class="va">React</span>.<span class="at">useRef</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb52-4" title="4">  <span class="at">useClickOutside</span>(clickRef<span class="op">,</span> onClickOutside)<span class="op">;</span></a>
<a class="sourceLine" id="cb52-5" title="5">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb52-6" title="6">    <span class="op">&amp;</span>lt<span class="op">;</span>div</a>
<a class="sourceLine" id="cb52-7" title="7">      className<span class="op">=&amp;</span>quot<span class="op">;</span>click<span class="op">-</span>box<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb52-8" title="8">      ref<span class="op">={</span>clickRef<span class="op">}</span></a>
<a class="sourceLine" id="cb52-9" title="9">      style<span class="op">={{</span></a>
<a class="sourceLine" id="cb52-10" title="10">        <span class="dt">border</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>2px dashed orangered<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb52-11" title="11">        <span class="dt">height</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></a>
<a class="sourceLine" id="cb52-12" title="12">        <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></a>
<a class="sourceLine" id="cb52-13" title="13">        <span class="dt">display</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>flex<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb52-14" title="14">        <span class="dt">justifyContent</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>center<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb52-15" title="15">        <span class="dt">alignItems</span><span class="op">:</span> <span class="op">&amp;</span>quot<span class="op">;</span>center<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb52-16" title="16">      <span class="op">}}</span></a>
<a class="sourceLine" id="cb52-17" title="17">    <span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb52-18" title="18">      <span class="op">&amp;</span>lt<span class="op">;</span>p<span class="op">&amp;</span>gt<span class="op">;</span>Click out <span class="kw">of</span> <span class="kw">this</span> element<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;</span></a>
<a class="sourceLine" id="cb52-19" title="19"><span class="ss">    &amp;lt;/div</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb52-20" title="20">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb52-21" title="21"><span class="op">};</span></a>
<a class="sourceLine" id="cb52-22" title="22"></a>
<a class="sourceLine" id="cb52-23" title="23"><span class="va">ReactDOM</span>.<span class="at">render</span>(</a>
<a class="sourceLine" id="cb52-24" title="24"><span class="op">&amp;</span>lt<span class="op">;</span>ClickBox onClickOutside<span class="op">={</span>() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">alert</span>(<span class="op">&amp;</span>quot<span class="op">;</span>click outside<span class="op">&amp;</span>quot<span class="op">;</span>)<span class="op">}</span> <span class="ss">/&amp;gt;,</span></a>
<a class="sourceLine" id="cb52-25" title="25"><span class="ss">document.getElementById</span><span class="sc">(</span><span class="ss">&amp;quot;root&amp;quot;</span><span class="sc">)</span></a>
<a class="sourceLine" id="cb52-26" title="26"><span class="sc">)</span><span class="ss">;</span></a></code></pre></div>
<hr />
<p>
Executes a callback immediately after a component is mounted.
</p>
<ul>
<li>
Use <code>useEffect()</code> with an empty array as the second argument to execute the provided callback only once when the component is mounted.
</li>
<li>
Behaves like the <code>componentDidMount()</code> lifecycle method of class components.
</li>
</ul>
<div class="sourceCode" id="cb53"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb53-1" title="1"></a>
<a class="sourceLine" id="cb53-2" title="2"><span class="kw">const</span> useComponentDidMount <span class="op">=</span> (onMountHandler) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb53-3" title="3">  <span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb53-4" title="4">    <span class="at">onMountHandler</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb53-5" title="5">  <span class="op">},</span> [])<span class="op">;</span></a>
<a class="sourceLine" id="cb53-6" title="6"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb54"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb54-1" title="1"></a>
<a class="sourceLine" id="cb54-2" title="2"><span class="kw">const</span> Mounter <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb54-3" title="3">  <span class="at">useComponentDidMount</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="op">&amp;</span>quot<span class="op">;</span>Component did mount<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb54-4" title="4"></a>
<a class="sourceLine" id="cb54-5" title="5"><span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span>Check the console<span class="op">!&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;;</span></a>
<a class="sourceLine" id="cb54-6" title="6"><span class="ss">};</span></a>
<a class="sourceLine" id="cb54-7" title="7"></a>
<a class="sourceLine" id="cb54-8" title="8"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;Mounter /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Executes a callback immediately before a component is unmounted and destroyed.
</p>
<ul>
<li>
Use <code>useEffect()</code> with an empty array as the second argument and return the provided callback to be executed only once before cleanup.
</li>
<li>
Behaves like the <code>componentWillUnmount()</code> lifecycle method of class components.
</li>
</ul>
<div class="sourceCode" id="cb55"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb55-1" title="1"></a>
<a class="sourceLine" id="cb55-2" title="2"><span class="kw">const</span> useComponentWillUnmount <span class="op">=</span> (onUnmountHandler) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb55-3" title="3">  <span class="va">React</span>.<span class="at">useEffect</span>(</a>
<a class="sourceLine" id="cb55-4" title="4">    () <span class="op">=&amp;</span>gt<span class="op">;</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb55-5" title="5">      <span class="at">onUnmountHandler</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb55-6" title="6">    <span class="op">},</span></a>
<a class="sourceLine" id="cb55-7" title="7">    []</a>
<a class="sourceLine" id="cb55-8" title="8">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb55-9" title="9"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb56"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb56-1" title="1"></a>
<a class="sourceLine" id="cb56-2" title="2"><span class="kw">const</span> Unmounter <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb56-3" title="3">  <span class="at">useComponentWillUnmount</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="op">&amp;</span>quot<span class="op">;</span>Component will unmount<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb56-4" title="4"></a>
<a class="sourceLine" id="cb56-5" title="5"><span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span>Check the console<span class="op">!&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;;</span></a>
<a class="sourceLine" id="cb56-6" title="6"><span class="ss">};</span></a>
<a class="sourceLine" id="cb56-7" title="7"></a>
<a class="sourceLine" id="cb56-8" title="8"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;Unmounter /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Copies the given text to the clipboard.
</p>
<ul>
<li>
Use the <a href="/js/s/copy-to-clipboard/">copyToClipboard</a> snippet to copy the text to clipboard.
</li>
<li>
Use the <code>useState()</code> hook to initialize the <code>copied</code> variable.
</li>
<li>
Use the <code>useCallback()</code> hook to create a callback for the <code>copyToClipboard</code> method.
</li>
<li>
Use the <code>useEffect()</code> hook to reset the <code>copied</code> state variable if the <code>text</code> changes.
</li>
<li>
Return the <code>copied</code> state variable and the <code>copy</code> callback.
</li>
</ul>
<div class="sourceCode" id="cb57"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb57-1" title="1"></a>
<a class="sourceLine" id="cb57-2" title="2"><span class="kw">const</span> useCopyToClipboard <span class="op">=</span> (text) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb57-3" title="3">  <span class="kw">const</span> copyToClipboard <span class="op">=</span> (str) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb57-4" title="4">    <span class="kw">const</span> el <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="op">&amp;</span>quot<span class="op">;</span>textarea<span class="op">&amp;</span>quot<span class="op">;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-5" title="5">    <span class="va">el</span>.<span class="at">value</span> <span class="op">=</span> str<span class="op">;</span></a>
<a class="sourceLine" id="cb57-6" title="6">    <span class="va">el</span>.<span class="at">setAttribute</span>(<span class="op">&amp;</span>quot<span class="op">;</span>readonly<span class="op">&amp;</span>quot<span class="op">;,</span> <span class="op">&amp;</span>quot<span class="op">;&amp;</span>quot<span class="op">;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-7" title="7">    <span class="va">el</span>.<span class="va">style</span>.<span class="at">position</span> <span class="op">=</span> <span class="op">&amp;</span>quot<span class="op">;</span>absolute<span class="op">&amp;</span>quot<span class="op">;;</span></a>
<a class="sourceLine" id="cb57-8" title="8">    <span class="va">el</span>.<span class="va">style</span>.<span class="at">left</span> <span class="op">=</span> <span class="op">&amp;</span>quot<span class="op">;-</span>9999px<span class="op">&amp;</span>quot<span class="op">;;</span></a>
<a class="sourceLine" id="cb57-9" title="9">    <span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>(el)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-10" title="10">    <span class="kw">const</span> selected <span class="op">=</span></a>
<a class="sourceLine" id="cb57-11" title="11">      <span class="va">document</span>.<span class="at">getSelection</span>().<span class="at">rangeCount</span> <span class="op">&amp;</span>gt<span class="op">;</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb57-12" title="12">        <span class="op">?</span> <span class="va">document</span>.<span class="at">getSelection</span>().<span class="at">getRangeAt</span>(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb57-13" title="13">        : <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb57-14" title="14">    <span class="va">el</span>.<span class="at">select</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb57-15" title="15">    <span class="kw">const</span> success <span class="op">=</span> <span class="va">document</span>.<span class="at">execCommand</span>(<span class="op">&amp;</span>quot<span class="op">;</span>copy<span class="op">&amp;</span>quot<span class="op">;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-16" title="16">    <span class="va">document</span>.<span class="va">body</span>.<span class="at">removeChild</span>(el)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-17" title="17">    <span class="cf">if</span> (selected) <span class="op">{</span></a>
<a class="sourceLine" id="cb57-18" title="18">      <span class="va">document</span>.<span class="at">getSelection</span>().<span class="at">removeAllRanges</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb57-19" title="19">      <span class="va">document</span>.<span class="at">getSelection</span>().<span class="at">addRange</span>(selected)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-20" title="20">    <span class="op">}</span></a>
<a class="sourceLine" id="cb57-21" title="21">    <span class="cf">return</span> success<span class="op">;</span></a>
<a class="sourceLine" id="cb57-22" title="22">  <span class="op">};</span></a>
<a class="sourceLine" id="cb57-23" title="23"></a>
<a class="sourceLine" id="cb57-24" title="24"><span class="kw">const</span> [copied<span class="op">,</span> setCopied] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-25" title="25"></a>
<a class="sourceLine" id="cb57-26" title="26"><span class="kw">const</span> copy <span class="op">=</span> <span class="va">React</span>.<span class="at">useCallback</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb57-27" title="27"><span class="cf">if</span> (<span class="op">!</span>copied) <span class="at">setCopied</span>(<span class="at">copyToClipboard</span>(text))<span class="op">;</span></a>
<a class="sourceLine" id="cb57-28" title="28"><span class="op">},</span> [text])<span class="op">;</span></a>
<a class="sourceLine" id="cb57-29" title="29"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setCopied</span>(<span class="kw">false</span>)<span class="op">,</span> [text])<span class="op">;</span></a>
<a class="sourceLine" id="cb57-30" title="30"></a>
<a class="sourceLine" id="cb57-31" title="31"><span class="cf">return</span> [copied<span class="op">,</span> copy]<span class="op">;</span></a>
<a class="sourceLine" id="cb57-32" title="32"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb58"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb58-1" title="1"></a>
<a class="sourceLine" id="cb58-2" title="2"><span class="kw">const</span> TextCopy <span class="op">=</span> (props) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb58-3" title="3">  <span class="kw">const</span> [copied<span class="op">,</span> copy] <span class="op">=</span> <span class="at">useCopyToClipboard</span>(<span class="op">&amp;</span>quot<span class="op">;</span>Lorem ipsum<span class="op">&amp;</span>quot<span class="op">;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb58-4" title="4">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb58-5" title="5">    <span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb58-6" title="6">      <span class="op">&amp;</span>lt<span class="op">;</span>button onClick<span class="op">={</span>copy<span class="op">}&amp;</span>gt<span class="op">;</span>Click to copy<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/button&amp;gt;</span></a>
<a class="sourceLine" id="cb58-7" title="7"><span class="ss">      &amp;lt;span&amp;gt;{copied &amp;amp;&amp;amp; &amp;quot;Copied!&amp;quot;}&amp;lt;/span</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb58-8" title="8">    <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb58-9" title="9"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb58-10" title="10"><span class="ss">};</span></a>
<a class="sourceLine" id="cb58-11" title="11"></a>
<a class="sourceLine" id="cb58-12" title="12"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;TextCopy /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Debounces the given value.
</p>
<ul>
<li>
Create a custom hook that takes a <code>value</code> and a <code>delay</code>.
</li>
<li>
Use the <code>useState()</code> hook to store the debounced value.
</li>
<li>
Use the <code>useEffect()</code> hook to update the debounced value every time <code>value</code> is updated.
</li>
<li>
Use <code>setTimeout()</code> to create a timeout that delays invoking the setter of the previous state variable by <code>delay</code> ms.
</li>
<li>
Use <code>clearTimeout()</code> to clean up when dismounting the component.
</li>
<li>
This is particularly useful when dealing with user input.
</li>
</ul>
<div class="sourceCode" id="cb59"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb59-1" title="1"></a>
<a class="sourceLine" id="cb59-2" title="2"><span class="kw">const</span> useDebounce <span class="op">=</span> (value<span class="op">,</span> delay) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-3" title="3">  <span class="kw">const</span> [debouncedValue<span class="op">,</span> setDebouncedValue] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(value)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-4" title="4"></a>
<a class="sourceLine" id="cb59-5" title="5"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-6" title="6"><span class="kw">const</span> handler <span class="op">=</span> <span class="at">setTimeout</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-7" title="7"><span class="at">setDebouncedValue</span>(value)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-8" title="8"><span class="op">},</span> delay)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-9" title="9"></a>
<a class="sourceLine" id="cb59-10" title="10">    <span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-11" title="11">      <span class="at">clearTimeout</span>(handler)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-12" title="12">    <span class="op">};</span></a>
<a class="sourceLine" id="cb59-13" title="13"></a>
<a class="sourceLine" id="cb59-14" title="14"><span class="op">},</span> [value])<span class="op">;</span></a>
<a class="sourceLine" id="cb59-15" title="15"></a>
<a class="sourceLine" id="cb59-16" title="16"><span class="cf">return</span> debouncedValue<span class="op">;</span></a>
<a class="sourceLine" id="cb59-17" title="17"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb60"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb60-1" title="1"></a>
<a class="sourceLine" id="cb60-2" title="2"><span class="kw">const</span> Counter <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb60-3" title="3">  <span class="kw">const</span> [value<span class="op">,</span> setValue] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb60-4" title="4">  <span class="kw">const</span> lastValue <span class="op">=</span> <span class="at">useDebounce</span>(value<span class="op">,</span> <span class="dv">500</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb60-5" title="5"></a>
<a class="sourceLine" id="cb60-6" title="6"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb60-7" title="7"><span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb60-8" title="8"><span class="op">&amp;</span>lt<span class="op">;</span>p<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb60-9" title="9"><span class="dt">Current</span><span class="op">:</span> <span class="op">{</span>value<span class="op">}</span> <span class="op">-</span> <span class="dt">Debounced</span><span class="op">:</span> <span class="op">{</span>lastValue<span class="op">}</span></a>
<a class="sourceLine" id="cb60-10" title="10"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;</span></a>
<a class="sourceLine" id="cb60-11" title="11"><span class="ss">&amp;lt;button onClick={</span><span class="sc">()</span><span class="ss"> =&amp;gt; setValue</span><span class="sc">(</span><span class="ss">value </span><span class="sc">+</span><span class="ss"> 1</span><span class="sc">)</span><span class="ss">}&amp;gt;Increment&amp;lt;/button</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb60-12" title="12"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb60-13" title="13"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb60-14" title="14"><span class="ss">};</span></a>
<a class="sourceLine" id="cb60-15" title="15"></a>
<a class="sourceLine" id="cb60-16" title="16"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;Counter /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Implements <code>fetch</code> in a declarative manner.
</p>
<ul>
<li>
Create a custom hook that takes a <code>url</code> and <code>options</code>.
</li>
<li>
Use the <code>useState()</code> hook to initialize the <code>response</code> and <code>error</code> state variables.
</li>
<li>
Use the <code>useEffect()</code> hook to asynchronously call <code>fetch()</code> and update the state variables accordingly.
</li>
<li>
Return an object containing the <code>response</code> and <code>error</code> state variables.
</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb61-1" title="1"></a>
<a class="sourceLine" id="cb61-2" title="2"><span class="kw">const</span> useFetch <span class="op">=</span> (url<span class="op">,</span> options) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb61-3" title="3">  <span class="kw">const</span> [response<span class="op">,</span> setResponse] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">null</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb61-4" title="4">  <span class="kw">const</span> [error<span class="op">,</span> setError] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="kw">null</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb61-5" title="5"></a>
<a class="sourceLine" id="cb61-6" title="6"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb61-7" title="7"><span class="kw">const</span> fetchData <span class="op">=</span> <span class="kw">async</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb61-8" title="8"><span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb61-9" title="9"><span class="kw">const</span> res <span class="op">=</span> <span class="cf">await</span> <span class="at">fetch</span>(url<span class="op">,</span> options)<span class="op">;</span></a>
<a class="sourceLine" id="cb61-10" title="10"><span class="kw">const</span> json <span class="op">=</span> <span class="cf">await</span> <span class="va">res</span>.<span class="at">json</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb61-11" title="11"><span class="at">setResponse</span>(json)<span class="op">;</span></a>
<a class="sourceLine" id="cb61-12" title="12"><span class="op">}</span> <span class="cf">catch</span> (error) <span class="op">{</span></a>
<a class="sourceLine" id="cb61-13" title="13"><span class="at">setError</span>(error)<span class="op">;</span></a>
<a class="sourceLine" id="cb61-14" title="14"><span class="op">}</span></a>
<a class="sourceLine" id="cb61-15" title="15"><span class="op">};</span></a>
<a class="sourceLine" id="cb61-16" title="16"><span class="at">fetchData</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb61-17" title="17"><span class="op">},</span> [])<span class="op">;</span></a>
<a class="sourceLine" id="cb61-18" title="18"></a>
<a class="sourceLine" id="cb61-19" title="19"><span class="cf">return</span> <span class="op">{</span> response<span class="op">,</span> error <span class="op">};</span></a>
<a class="sourceLine" id="cb61-20" title="20"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb62"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb62-1" title="1"></a>
<a class="sourceLine" id="cb62-2" title="2"><span class="kw">const</span> ImageFetch <span class="op">=</span> (props) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-3" title="3">  <span class="kw">const</span> res <span class="op">=</span> <span class="at">useFetch</span>(<span class="op">&amp;</span>quot<span class="op">;</span><span class="dt">https</span><span class="op">:</span><span class="co">//dog.ceo/api/breeds/image/random&amp;quot;, {});</span></a>
<a class="sourceLine" id="cb62-4" title="4">  <span class="cf">if</span> (<span class="op">!</span><span class="va">res</span>.<span class="at">response</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb62-5" title="5">    <span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span><span class="va">Loading</span>...<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;;</span></a>
<a class="sourceLine" id="cb62-6" title="6"><span class="ss">  }</span></a>
<a class="sourceLine" id="cb62-7" title="7"><span class="ss">  const imageUrl = res.response.message;</span></a>
<a class="sourceLine" id="cb62-8" title="8"><span class="ss">  return </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb62-9" title="9"><span class="ss">    &amp;lt;div&amp;gt;</span></a>
<a class="sourceLine" id="cb62-10" title="10"><span class="ss">      &amp;lt;img src={imageUrl} alt=&amp;quot;avatar&amp;quot; width=</span><span class="sc">{400}</span><span class="ss"> height=&amp;quot;auto&amp;quot; /</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb62-11" title="11">    <span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb62-12" title="12"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb62-13" title="13"><span class="ss">};</span></a>
<a class="sourceLine" id="cb62-14" title="14"></a>
<a class="sourceLine" id="cb62-15" title="15"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;ImageFetch /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Implements <code>setInterval</code> in a declarative manner.
</p>
<ul>
<li>
Create a custom hook that takes a <code>callback</code> and a <code>delay</code>.
</li>
<li>
Use the <code>useRef()</code> hook to create a <code>ref</code> for the callback function.
</li>
<li>
Use a <code>useEffect()</code> hook to remember the latest <code>callback</code> whenever it changes.
</li>
<li>
Use a <code>useEffect()</code> hook dependent on <code>delay</code> to set up the interval and clean up.
</li>
</ul>
<div class="sourceCode" id="cb63"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb63-1" title="1"></a>
<a class="sourceLine" id="cb63-2" title="2"><span class="kw">const</span> useInterval <span class="op">=</span> (callback<span class="op">,</span> delay) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb63-3" title="3">  <span class="kw">const</span> savedCallback <span class="op">=</span> <span class="va">React</span>.<span class="at">useRef</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb63-4" title="4"></a>
<a class="sourceLine" id="cb63-5" title="5"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb63-6" title="6"><span class="va">savedCallback</span>.<span class="at">current</span> <span class="op">=</span> callback<span class="op">;</span></a>
<a class="sourceLine" id="cb63-7" title="7"><span class="op">},</span> [callback])<span class="op">;</span></a>
<a class="sourceLine" id="cb63-8" title="8"></a>
<a class="sourceLine" id="cb63-9" title="9"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb63-10" title="10"><span class="kw">function</span> <span class="at">tick</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb63-11" title="11"><span class="va">savedCallback</span>.<span class="at">current</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb63-12" title="12"><span class="op">}</span></a>
<a class="sourceLine" id="cb63-13" title="13"><span class="cf">if</span> (delay <span class="op">!==</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb63-14" title="14"><span class="kw">let</span> id <span class="op">=</span> <span class="at">setInterval</span>(tick<span class="op">,</span> delay)<span class="op">;</span></a>
<a class="sourceLine" id="cb63-15" title="15"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">clearInterval</span>(id)<span class="op">;</span></a>
<a class="sourceLine" id="cb63-16" title="16"><span class="op">}</span></a>
<a class="sourceLine" id="cb63-17" title="17"><span class="op">},</span> [delay])<span class="op">;</span></a>
<a class="sourceLine" id="cb63-18" title="18"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb64"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb64-1" title="1"></a>
<a class="sourceLine" id="cb64-2" title="2"><span class="kw">const</span> Timer <span class="op">=</span> (props) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb64-3" title="3">  <span class="kw">const</span> [seconds<span class="op">,</span> setSeconds] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb64-4" title="4">  <span class="at">useInterval</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb64-5" title="5">    <span class="at">setSeconds</span>(seconds <span class="op">+</span> <span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb64-6" title="6">  <span class="op">},</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb64-7" title="7"></a>
<a class="sourceLine" id="cb64-8" title="8"><span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>p<span class="op">&amp;</span>gt<span class="op">;{</span>seconds<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;;</span></a>
<a class="sourceLine" id="cb64-9" title="9"><span class="ss">};</span></a>
<a class="sourceLine" id="cb64-10" title="10"></a>
<a class="sourceLine" id="cb64-11" title="11"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;Timer /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Checks if the current environment matches a given media query and returns the appropriate value.
</p>
<ul>
<li>
Check if <code>window</code> and <code>window.matchMedia</code> exist, return <code>whenFalse</code> if not (e.g. SSR environment or unsupported browser).
</li>
<li>
Use <code>window.matchMedia()</code> to match the given <code>query</code>, cast its <code>matches</code> property to a boolean and store in a state variable, <code>match</code>, using the <code>useState()</code> hook.
</li>
<li>
Use the <code>useEffect()</code> hook to add a listener for changes and to clean up the listeners after the hook is destroyed.
</li>
<li>
Return either <code>whenTrue</code> or <code>whenFalse</code> based on the value of <code>match</code>.
</li>
</ul>
<div class="sourceCode" id="cb65"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb65-1" title="1"></a>
<a class="sourceLine" id="cb65-2" title="2"><span class="kw">const</span> useMediaQuery <span class="op">=</span> (query<span class="op">,</span> whenTrue<span class="op">,</span> whenFalse) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb65-3" title="3">  <span class="cf">if</span> (<span class="kw">typeof</span> window <span class="op">===</span> <span class="op">&amp;</span>quot<span class="op">;</span><span class="kw">undefined</span><span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">||</span> <span class="kw">typeof</span> <span class="va">window</span>.<span class="at">matchMedia</span> <span class="op">===</span> <span class="op">&amp;</span>quot<span class="op">;</span><span class="kw">undefined</span><span class="op">&amp;</span>quot<span class="op">;</span>)</a>
<a class="sourceLine" id="cb65-4" title="4">    <span class="cf">return</span> whenFalse<span class="op">;</span></a>
<a class="sourceLine" id="cb65-5" title="5"></a>
<a class="sourceLine" id="cb65-6" title="6"><span class="kw">const</span> mediaQuery <span class="op">=</span> <span class="va">window</span>.<span class="at">matchMedia</span>(query)<span class="op">;</span></a>
<a class="sourceLine" id="cb65-7" title="7"><span class="kw">const</span> [match<span class="op">,</span> setMatch] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="op">!!</span><span class="va">mediaQuery</span>.<span class="at">matches</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb65-8" title="8"></a>
<a class="sourceLine" id="cb65-9" title="9"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb65-10" title="10"><span class="kw">const</span> handler <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setMatch</span>(<span class="op">!!</span><span class="va">mediaQuery</span>.<span class="at">matches</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb65-11" title="11"><span class="va">mediaQuery</span>.<span class="at">addListener</span>(handler)<span class="op">;</span></a>
<a class="sourceLine" id="cb65-12" title="12"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">mediaQuery</span>.<span class="at">removeListener</span>(handler)<span class="op">;</span></a>
<a class="sourceLine" id="cb65-13" title="13"><span class="op">},</span> [])<span class="op">;</span></a>
<a class="sourceLine" id="cb65-14" title="14"></a>
<a class="sourceLine" id="cb65-15" title="15"><span class="cf">return</span> match <span class="op">?</span> whenTrue : whenFalse<span class="op">;</span></a>
<a class="sourceLine" id="cb65-16" title="16"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb66"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb66-1" title="1"></a>
<a class="sourceLine" id="cb66-2" title="2"><span class="kw">const</span> ResponsiveText <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb66-3" title="3">  <span class="kw">const</span> text <span class="op">=</span> <span class="at">useMediaQuery</span>(</a>
<a class="sourceLine" id="cb66-4" title="4">    <span class="op">&amp;</span>quot<span class="op">;</span>(max<span class="op">-</span><span class="dt">width</span><span class="op">:</span> 400px)<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb66-5" title="5">    <span class="op">&amp;</span>quot<span class="op">;</span>Less than 400px wide<span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb66-6" title="6">    <span class="op">&amp;</span>quot<span class="op">;</span>More than 400px wide<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb66-7" title="7">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb66-8" title="8"></a>
<a class="sourceLine" id="cb66-9" title="9"><span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>span<span class="op">&amp;</span>gt<span class="op">;{</span>text<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/span&amp;gt;;</span></a>
<a class="sourceLine" id="cb66-10" title="10"><span class="ss">};</span></a>
<a class="sourceLine" id="cb66-11" title="11"></a>
<a class="sourceLine" id="cb66-12" title="12"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;ResponsiveText /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Checks if the client is online or offline.
</p>
<ul>
<li>
Create a function, <code>getOnLineStatus</code>, that uses the <code>NavigatorOnLine</code> web API to get the online status of the client.
</li>
<li>
Use the <code>useState()</code> hook to create an appropriate state variable, <code>status</code>, and setter.
</li>
<li>
Use the <code>useEffect()</code> hook to add listeners for appropriate events, updating state, and cleanup those listeners when unmounting.
</li>
<li>
Finally return the <code>status</code> state variable.
</li>
</ul>
<div class="sourceCode" id="cb67"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb67-1" title="1"></a>
<a class="sourceLine" id="cb67-2" title="2"><span class="kw">const</span> getOnLineStatus <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb67-3" title="3">  <span class="kw">typeof</span> navigator <span class="op">!==</span> <span class="op">&amp;</span>quot<span class="op">;</span><span class="kw">undefined</span><span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="kw">typeof</span> <span class="va">navigator</span>.<span class="at">onLine</span> <span class="op">===</span> <span class="op">&amp;</span>quot<span class="op">;</span>boolean<span class="op">&amp;</span>quot<span class="op">;</span></a>
<a class="sourceLine" id="cb67-4" title="4">    <span class="op">?</span> <span class="va">navigator</span>.<span class="at">onLine</span></a>
<a class="sourceLine" id="cb67-5" title="5">    : <span class="kw">true</span><span class="op">;</span></a>
<a class="sourceLine" id="cb67-6" title="6"></a>
<a class="sourceLine" id="cb67-7" title="7"><span class="kw">const</span> useNavigatorOnLine <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb67-8" title="8"><span class="kw">const</span> [status<span class="op">,</span> setStatus] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="at">getOnLineStatus</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb67-9" title="9"></a>
<a class="sourceLine" id="cb67-10" title="10"><span class="kw">const</span> setOnline <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setStatus</span>(<span class="kw">true</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb67-11" title="11"><span class="kw">const</span> setOffline <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setStatus</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb67-12" title="12"></a>
<a class="sourceLine" id="cb67-13" title="13"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb67-14" title="14"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>online<span class="op">&amp;</span>quot<span class="op">;,</span> setOnline)<span class="op">;</span></a>
<a class="sourceLine" id="cb67-15" title="15"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>offline<span class="op">&amp;</span>quot<span class="op">;,</span> setOffline)<span class="op">;</span></a>
<a class="sourceLine" id="cb67-16" title="16"></a>
<a class="sourceLine" id="cb67-17" title="17">    <span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb67-18" title="18">      <span class="va">window</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>online<span class="op">&amp;</span>quot<span class="op">;,</span> setOnline)<span class="op">;</span></a>
<a class="sourceLine" id="cb67-19" title="19">      <span class="va">window</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>offline<span class="op">&amp;</span>quot<span class="op">;,</span> setOffline)<span class="op">;</span></a>
<a class="sourceLine" id="cb67-20" title="20">    <span class="op">};</span></a>
<a class="sourceLine" id="cb67-21" title="21"></a>
<a class="sourceLine" id="cb67-22" title="22"><span class="op">},</span> [])<span class="op">;</span></a>
<a class="sourceLine" id="cb67-23" title="23"></a>
<a class="sourceLine" id="cb67-24" title="24"><span class="cf">return</span> status<span class="op">;</span></a>
<a class="sourceLine" id="cb67-25" title="25"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb68"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb68-1" title="1"></a>
<a class="sourceLine" id="cb68-2" title="2"><span class="kw">const</span> StatusIndicator <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb68-3" title="3">  <span class="kw">const</span> isOnline <span class="op">=</span> <span class="at">useNavigatorOnLine</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb68-4" title="4"></a>
<a class="sourceLine" id="cb68-5" title="5"><span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>span<span class="op">&amp;</span>gt<span class="op">;</span>You are <span class="op">{</span>isOnline <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>online<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>offline<span class="op">&amp;</span>quot<span class="op">;}</span>.<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/span&amp;gt;;</span></a>
<a class="sourceLine" id="cb68-6" title="6"><span class="ss">};</span></a>
<a class="sourceLine" id="cb68-7" title="7"></a>
<a class="sourceLine" id="cb68-8" title="8"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;StatusIndicator /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Returns a stateful value, persisted in <code>localStorage</code>, and a function to update it.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to initialize the <code>value</code> to <code>defaultValue</code>.
</li>
<li>
Use the <code>useRef()</code> hook to create a ref that will hold the <code>name</code> of the value in <code>localStorage</code>.
</li>
<li>
Use 3 instances of the <code>useEffect()</code> hook for initialization, <code>value</code> change and <code>name</code> change respectively.
</li>
<li>
When the component is first mounted, use <code>Storage.getItem()</code> to update <code>value</code> if there’s a stored value or <code>Storage.setItem()</code> to persist the current value.
</li>
<li>
When <code>value</code> is updated, use <code>Storage.setItem()</code> to store the new value.
</li>
<li>
When <code>name</code> is updated, use <code>Storage.setItem()</code> to create the new key, update the <code>nameRef</code> and use <code>Storage.removeItem()</code> to remove the previous key from <code>localStorage</code>.
</li>
<li>
<strong>NOTE:</strong> The hook is meant for use with primitive values (i.e. not objects) and doesn’t account for changes to <code>localStorage</code> due to other code. Both of these issues can be easily handled (e.g. JSON serialization and handling the <code>‘storage’</code> event).
</li>
</ul>
<div class="sourceCode" id="cb69"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb69-1" title="1"></a>
<a class="sourceLine" id="cb69-2" title="2"><span class="kw">const</span> usePersistedState <span class="op">=</span> (name<span class="op">,</span> defaultValue) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-3" title="3">  <span class="kw">const</span> [value<span class="op">,</span> setValue] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(defaultValue)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-4" title="4">  <span class="kw">const</span> nameRef <span class="op">=</span> <span class="va">React</span>.<span class="at">useRef</span>(name)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-5" title="5"></a>
<a class="sourceLine" id="cb69-6" title="6"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-7" title="7"><span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-8" title="8"><span class="kw">const</span> storedValue <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(name)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-9" title="9"><span class="cf">if</span> (storedValue <span class="op">!==</span> <span class="kw">null</span>) <span class="at">setValue</span>(storedValue)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-10" title="10"><span class="cf">else</span> <span class="va">localStorage</span>.<span class="at">setItem</span>(name<span class="op">,</span> defaultValue)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-11" title="11"><span class="op">}</span> <span class="cf">catch</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-12" title="12"><span class="at">setValue</span>(defaultValue)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-13" title="13"><span class="op">}</span></a>
<a class="sourceLine" id="cb69-14" title="14"><span class="op">},</span> [])<span class="op">;</span></a>
<a class="sourceLine" id="cb69-15" title="15"></a>
<a class="sourceLine" id="cb69-16" title="16"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-17" title="17"><span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-18" title="18"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="va">nameRef</span>.<span class="at">current</span><span class="op">,</span> value)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-19" title="19"><span class="op">}</span> <span class="cf">catch</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb69-20" title="20"><span class="op">},</span> [value])<span class="op">;</span></a>
<a class="sourceLine" id="cb69-21" title="21"></a>
<a class="sourceLine" id="cb69-22" title="22"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-23" title="23"><span class="kw">const</span> lastName <span class="op">=</span> <span class="va">nameRef</span>.<span class="at">current</span><span class="op">;</span></a>
<a class="sourceLine" id="cb69-24" title="24"><span class="cf">if</span> (name <span class="op">!==</span> lastName) <span class="op">{</span></a>
<a class="sourceLine" id="cb69-25" title="25"><span class="cf">try</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb69-26" title="26"><span class="va">localStorage</span>.<span class="at">setItem</span>(name<span class="op">,</span> value)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-27" title="27"><span class="va">nameRef</span>.<span class="at">current</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb69-28" title="28"><span class="va">localStorage</span>.<span class="at">removeItem</span>(lastName)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-29" title="29"><span class="op">}</span> <span class="cf">catch</span> <span class="op">{}</span></a>
<a class="sourceLine" id="cb69-30" title="30"><span class="op">}</span></a>
<a class="sourceLine" id="cb69-31" title="31"><span class="op">},</span> [name])<span class="op">;</span></a>
<a class="sourceLine" id="cb69-32" title="32"></a>
<a class="sourceLine" id="cb69-33" title="33"><span class="cf">return</span> [value<span class="op">,</span> setValue]<span class="op">;</span></a>
<a class="sourceLine" id="cb69-34" title="34"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb70"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb70-1" title="1"></a>
<a class="sourceLine" id="cb70-2" title="2"><span class="kw">const</span> MyComponent <span class="op">=</span> (<span class="op">{</span> name <span class="op">}</span>) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb70-3" title="3">  <span class="kw">const</span> [val<span class="op">,</span> setVal] <span class="op">=</span> <span class="at">usePersistedState</span>(name<span class="op">,</span> <span class="dv">10</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb70-4" title="4">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb70-5" title="5">    <span class="op">&amp;</span>lt<span class="op">;</span>input</a>
<a class="sourceLine" id="cb70-6" title="6">      value<span class="op">={</span>val<span class="op">}</span></a>
<a class="sourceLine" id="cb70-7" title="7">      onChange<span class="op">={</span>(e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb70-8" title="8">        <span class="at">setVal</span>(<span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb70-9" title="9">      <span class="op">}}</span></a>
<a class="sourceLine" id="cb70-10" title="10">    <span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb70-11" title="11"><span class="ss">  </span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb70-12" title="12"><span class="ss">};</span></a>
<a class="sourceLine" id="cb70-13" title="13"></a>
<a class="sourceLine" id="cb70-14" title="14"><span class="ss">const MyApp = </span><span class="sc">()</span><span class="ss"> =&amp;gt; {</span></a>
<a class="sourceLine" id="cb70-15" title="15"><span class="ss">const </span><span class="sc">[name, setName]</span><span class="ss"> = React.useState</span><span class="sc">(</span><span class="ss">&amp;quot;my-value&amp;quot;</span><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb70-16" title="16"><span class="ss">return </span><span class="sc">(</span></a>
<a class="sourceLine" id="cb70-17" title="17"><span class="ss">&amp;lt;&amp;gt;</span></a>
<a class="sourceLine" id="cb70-18" title="18"><span class="ss">&amp;lt;MyComponent name={name} /</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb70-19" title="19"><span class="op">&amp;</span>lt<span class="op">;</span>input</a>
<a class="sourceLine" id="cb70-20" title="20">value<span class="op">={</span>name<span class="op">}</span></a>
<a class="sourceLine" id="cb70-21" title="21">onChange<span class="op">={</span>(e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb70-22" title="22"><span class="at">setName</span>(<span class="va">e</span>.<span class="va">target</span>.<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb70-23" title="23"><span class="op">}}</span></a>
<a class="sourceLine" id="cb70-24" title="24"><span class="ss">/&amp;gt;</span></a>
<a class="sourceLine" id="cb70-25" title="25"><span class="ss">&amp;lt;/</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb70-26" title="26">)<span class="op">;</span></a>
<a class="sourceLine" id="cb70-27" title="27"><span class="op">};</span></a>
<a class="sourceLine" id="cb70-28" title="28"></a>
<a class="sourceLine" id="cb70-29" title="29"><span class="va">ReactDOM</span>.<span class="at">render</span>(<span class="op">&amp;</span>lt<span class="op">;</span>MyApp /<span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Stores the previous state or props.
</p>
<ul>
<li>
Create a custom hook that takes a <code>value</code>.
</li>
<li>
Use the <code>useRef()</code> hook to create a <code>ref</code> for the <code>value</code>.
</li>
<li>
Use the <code>useEffect()</code> hook to remember the latest <code>value</code>.
</li>
</ul>
<div class="sourceCode" id="cb71"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb71-1" title="1"></a>
<a class="sourceLine" id="cb71-2" title="2"><span class="kw">const</span> usePrevious <span class="op">=</span> (value) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-3" title="3">  <span class="kw">const</span> ref <span class="op">=</span> <span class="va">React</span>.<span class="at">useRef</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb71-4" title="4">  <span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb71-5" title="5">    <span class="va">ref</span>.<span class="at">current</span> <span class="op">=</span> value<span class="op">;</span></a>
<a class="sourceLine" id="cb71-6" title="6">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-7" title="7">  <span class="cf">return</span> <span class="va">ref</span>.<span class="at">current</span><span class="op">;</span></a>
<a class="sourceLine" id="cb71-8" title="8"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb72"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb72-1" title="1"></a>
<a class="sourceLine" id="cb72-2" title="2"><span class="kw">const</span> Counter <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb72-3" title="3">  <span class="kw">const</span> [value<span class="op">,</span> setValue] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-4" title="4">  <span class="kw">const</span> lastValue <span class="op">=</span> <span class="at">usePrevious</span>(value)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-5" title="5"></a>
<a class="sourceLine" id="cb72-6" title="6"><span class="cf">return</span> (</a>
<a class="sourceLine" id="cb72-7" title="7"><span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb72-8" title="8"><span class="op">&amp;</span>lt<span class="op">;</span>p<span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb72-9" title="9"><span class="dt">Current</span><span class="op">:</span> <span class="op">{</span>value<span class="op">}</span> <span class="op">-</span> <span class="dt">Previous</span><span class="op">:</span> <span class="op">{</span>lastValue<span class="op">}</span></a>
<a class="sourceLine" id="cb72-10" title="10"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;</span></a>
<a class="sourceLine" id="cb72-11" title="11"><span class="ss">&amp;lt;button onClick={</span><span class="sc">()</span><span class="ss"> =&amp;gt; setValue</span><span class="sc">(</span><span class="ss">value </span><span class="sc">+</span><span class="ss"> 1</span><span class="sc">)</span><span class="ss">}&amp;gt;Increment&amp;lt;/button</span><span class="op">&amp;</span>gt<span class="op">;</span></a>
<a class="sourceLine" id="cb72-12" title="12"><span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;</span></a>
<a class="sourceLine" id="cb72-13" title="13"><span class="sc">)</span><span class="ss">;</span></a>
<a class="sourceLine" id="cb72-14" title="14"><span class="ss">};</span></a>
<a class="sourceLine" id="cb72-15" title="15"></a>
<a class="sourceLine" id="cb72-16" title="16"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;Counter /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Checks if the code is running on the browser or the server.
</p>
<ul>
<li>
Create a custom hook that returns an appropriate object.
</li>
<li>
Use <code>typeof window</code>, <code>window.document</code> and <code>Document.createElement()</code> to check if the code is running on the browser.
</li>
<li>
Use the <code>useState()</code> hook to define the <code>inBrowser</code> state variable.
</li>
<li>
Use the <code>useEffect()</code> hook to update the <code>inBrowser</code> state variable and clean up at the end.
</li>
<li>
Use the <code>useMemo()</code> hook to memoize the return values of the custom hook.
</li>
</ul>
<div class="sourceCode" id="cb73"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb73-1" title="1"></a>
<a class="sourceLine" id="cb73-2" title="2"><span class="kw">const</span> isDOMavailable <span class="op">=</span> <span class="op">!!</span>(</a>
<a class="sourceLine" id="cb73-3" title="3">  <span class="kw">typeof</span> window <span class="op">!==</span> <span class="op">&amp;</span>quot<span class="op">;</span><span class="kw">undefined</span><span class="op">&amp;</span>quot<span class="op">;</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span></a>
<a class="sourceLine" id="cb73-4" title="4">  <span class="va">window</span>.<span class="at">document</span> <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span></a>
<a class="sourceLine" id="cb73-5" title="5">  <span class="va">window</span>.<span class="va">document</span>.<span class="at">createElement</span></a>
<a class="sourceLine" id="cb73-6" title="6">)<span class="op">;</span></a>
<a class="sourceLine" id="cb73-7" title="7"></a>
<a class="sourceLine" id="cb73-8" title="8"><span class="kw">const</span> useSSR <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb73-9" title="9"><span class="kw">const</span> [inBrowser<span class="op">,</span> setInBrowser] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(isDOMavailable)<span class="op">;</span></a>
<a class="sourceLine" id="cb73-10" title="10"></a>
<a class="sourceLine" id="cb73-11" title="11"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb73-12" title="12"><span class="at">setInBrowser</span>(isDOMavailable)<span class="op">;</span></a>
<a class="sourceLine" id="cb73-13" title="13"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb73-14" title="14"><span class="at">setInBrowser</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb73-15" title="15"><span class="op">};</span></a>
<a class="sourceLine" id="cb73-16" title="16"><span class="op">},</span> [])<span class="op">;</span></a>
<a class="sourceLine" id="cb73-17" title="17"></a>
<a class="sourceLine" id="cb73-18" title="18"><span class="kw">const</span> useSSRObject <span class="op">=</span> <span class="va">React</span>.<span class="at">useMemo</span>(</a>
<a class="sourceLine" id="cb73-19" title="19">() <span class="op">=&amp;</span>gt<span class="op">;</span> (<span class="op">{</span></a>
<a class="sourceLine" id="cb73-20" title="20"><span class="dt">isBrowser</span><span class="op">:</span> inBrowser<span class="op">,</span></a>
<a class="sourceLine" id="cb73-21" title="21"><span class="dt">isServer</span><span class="op">:</span> <span class="op">!</span>inBrowser<span class="op">,</span></a>
<a class="sourceLine" id="cb73-22" title="22"><span class="dt">canUseWorkers</span><span class="op">:</span> <span class="kw">typeof</span> Worker <span class="op">!==</span> <span class="op">&amp;</span>quot<span class="op">;</span><span class="kw">undefined</span><span class="op">&amp;</span>quot<span class="op">;,</span></a>
<a class="sourceLine" id="cb73-23" title="23"><span class="dt">canUseEventListeners</span><span class="op">:</span> inBrowser <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="op">!!</span><span class="va">window</span>.<span class="at">addEventListener</span><span class="op">,</span></a>
<a class="sourceLine" id="cb73-24" title="24"><span class="dt">canUseViewport</span><span class="op">:</span> inBrowser <span class="op">&amp;</span>amp<span class="op">;&amp;</span>amp<span class="op">;</span> <span class="op">!!</span><span class="va">window</span>.<span class="at">screen</span><span class="op">,</span></a>
<a class="sourceLine" id="cb73-25" title="25"><span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb73-26" title="26">[inBrowser]</a>
<a class="sourceLine" id="cb73-27" title="27">)<span class="op">;</span></a>
<a class="sourceLine" id="cb73-28" title="28"></a>
<a class="sourceLine" id="cb73-29" title="29"><span class="cf">return</span> <span class="va">React</span>.<span class="at">useMemo</span>(</a>
<a class="sourceLine" id="cb73-30" title="30">() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="va">Object</span>.<span class="at">values</span>(useSSRObject)<span class="op">,</span> useSSRObject)<span class="op">,</span></a>
<a class="sourceLine" id="cb73-31" title="31">[inBrowser]</a>
<a class="sourceLine" id="cb73-32" title="32">)<span class="op">;</span></a>
<a class="sourceLine" id="cb73-33" title="33"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb74"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb74-1" title="1"></a>
<a class="sourceLine" id="cb74-2" title="2"><span class="kw">const</span> SSRChecker <span class="op">=</span> (props) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb74-3" title="3">  <span class="kw">let</span> <span class="op">{</span> isBrowser<span class="op">,</span> isServer <span class="op">}</span> <span class="op">=</span> <span class="at">useSSR</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb74-4" title="4"></a>
<a class="sourceLine" id="cb74-5" title="5"><span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>p<span class="op">&amp;</span>gt<span class="op">;{</span>isBrowser <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>Running on browser<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>Running on server<span class="op">&amp;</span>quot<span class="op">;}&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;;</span></a>
<a class="sourceLine" id="cb74-6" title="6"><span class="ss">};</span></a>
<a class="sourceLine" id="cb74-7" title="7"></a>
<a class="sourceLine" id="cb74-8" title="8"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;SSRChecker /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Implements <code>setTimeout</code> in a declarative manner.
</p>
<ul>
<li>
Create a custom hook that takes a <code>callback</code> and a <code>delay</code>.
</li>
<li>
Use the <code>useRef()</code> hook to create a <code>ref</code> for the callback function.
</li>
<li>
Use the <code>useEffect()</code> hook to remember the latest callback.
</li>
<li>
Use the <code>useEffect()</code> hook to set up the timeout and clean up.
</li>
</ul>
<div class="sourceCode" id="cb75"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb75-1" title="1"></a>
<a class="sourceLine" id="cb75-2" title="2"><span class="kw">const</span> useTimeout <span class="op">=</span> (callback<span class="op">,</span> delay) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb75-3" title="3">  <span class="kw">const</span> savedCallback <span class="op">=</span> <span class="va">React</span>.<span class="at">useRef</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb75-4" title="4"></a>
<a class="sourceLine" id="cb75-5" title="5"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb75-6" title="6"><span class="va">savedCallback</span>.<span class="at">current</span> <span class="op">=</span> callback<span class="op">;</span></a>
<a class="sourceLine" id="cb75-7" title="7"><span class="op">},</span> [callback])<span class="op">;</span></a>
<a class="sourceLine" id="cb75-8" title="8"></a>
<a class="sourceLine" id="cb75-9" title="9"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb75-10" title="10"><span class="kw">function</span> <span class="at">tick</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb75-11" title="11"><span class="va">savedCallback</span>.<span class="at">current</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb75-12" title="12"><span class="op">}</span></a>
<a class="sourceLine" id="cb75-13" title="13"><span class="cf">if</span> (delay <span class="op">!==</span> <span class="kw">null</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb75-14" title="14"><span class="kw">let</span> id <span class="op">=</span> <span class="at">setTimeout</span>(tick<span class="op">,</span> delay)<span class="op">;</span></a>
<a class="sourceLine" id="cb75-15" title="15"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">clearTimeout</span>(id)<span class="op">;</span></a>
<a class="sourceLine" id="cb75-16" title="16"><span class="op">}</span></a>
<a class="sourceLine" id="cb75-17" title="17"><span class="op">},</span> [delay])<span class="op">;</span></a>
<a class="sourceLine" id="cb75-18" title="18"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb76"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb76-1" title="1"></a>
<a class="sourceLine" id="cb76-2" title="2"><span class="kw">const</span> OneSecondTimer <span class="op">=</span> (props) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb76-3" title="3">  <span class="kw">const</span> [seconds<span class="op">,</span> setSeconds] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="dv">0</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb76-4" title="4">  <span class="at">useTimeout</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb76-5" title="5">    <span class="at">setSeconds</span>(seconds <span class="op">+</span> <span class="dv">1</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb76-6" title="6">  <span class="op">},</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb76-7" title="7"></a>
<a class="sourceLine" id="cb76-8" title="8"><span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>p<span class="op">&amp;</span>gt<span class="op">;{</span>seconds<span class="op">}&amp;</span>lt<span class="op">;</span><span class="ss">/p&amp;gt;;</span></a>
<a class="sourceLine" id="cb76-9" title="9"><span class="ss">};</span></a>
<a class="sourceLine" id="cb76-10" title="10"></a>
<a class="sourceLine" id="cb76-11" title="11"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;OneSecondTimer /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Provides a boolean state variable that can be toggled between its two states.
</p>
<ul>
<li>
Use the <code>useState()</code> hook to create the <code>value</code> state variable and its setter.
</li>
<li>
Create a function that toggles the value of the <code>value</code> state variable and memoize it, using the <code>useCallback()</code> hook.
</li>
<li>
Return the <code>value</code> state variable and the memoized toggler function.
</li>
</ul>
<div class="sourceCode" id="cb77"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb77-1" title="1"></a>
<a class="sourceLine" id="cb77-2" title="2"><span class="kw">const</span> useToggler <span class="op">=</span> (initialState) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb77-3" title="3">  <span class="kw">const</span> [value<span class="op">,</span> setValue] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(initialState)<span class="op">;</span></a>
<a class="sourceLine" id="cb77-4" title="4"></a>
<a class="sourceLine" id="cb77-5" title="5"><span class="kw">const</span> toggleValue <span class="op">=</span> <span class="va">React</span>.<span class="at">useCallback</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="at">setValue</span>((prev) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">!</span>prev)<span class="op">,</span> [])<span class="op">;</span></a>
<a class="sourceLine" id="cb77-6" title="6"></a>
<a class="sourceLine" id="cb77-7" title="7"><span class="cf">return</span> [value<span class="op">,</span> toggleValue]<span class="op">;</span></a>
<a class="sourceLine" id="cb77-8" title="8"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb78"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb78-1" title="1"></a>
<a class="sourceLine" id="cb78-2" title="2"><span class="kw">const</span> Switch <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb78-3" title="3">  <span class="kw">const</span> [val<span class="op">,</span> toggleVal] <span class="op">=</span> <span class="at">useToggler</span>(<span class="kw">false</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb78-4" title="4">  <span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>button onClick<span class="op">={</span>toggleVal<span class="op">}&amp;</span>gt<span class="op">;{</span>val <span class="op">?</span> <span class="op">&amp;</span>quot<span class="op">;</span>ON<span class="op">&amp;</span>quot<span class="op">;</span> : <span class="op">&amp;</span>quot<span class="op">;</span>OFF<span class="op">&amp;</span>quot<span class="op">;}&amp;</span>lt<span class="op">;</span><span class="ss">/button&amp;gt;;</span></a>
<a class="sourceLine" id="cb78-5" title="5"><span class="ss">};</span></a>
<a class="sourceLine" id="cb78-6" title="6"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;Switch /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
<p>
Handles the <code>beforeunload</code> window event.
</p>
<ul>
<li>
Use the <code>useRef()</code> hook to create a ref for the callback function, <code>fn</code>.
</li>
<li>
Use the <code>useEffect()</code> hook and <code>EventTarget.addEventListener()</code> to handle the <code>‘beforeunload’</code> (when the user is about to close the window).
</li>
<li>
Use <code>EventTarget.removeEventListener()</code> to perform cleanup after the component is unmounted.
</li>
</ul>
<div class="sourceCode" id="cb79"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb79-1" title="1"></a>
<a class="sourceLine" id="cb79-2" title="2"><span class="kw">const</span> useUnload <span class="op">=</span> (fn) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb79-3" title="3">  <span class="kw">const</span> cb <span class="op">=</span> <span class="va">React</span>.<span class="at">useRef</span>(fn)<span class="op">;</span></a>
<a class="sourceLine" id="cb79-4" title="4"></a>
<a class="sourceLine" id="cb79-5" title="5"><span class="va">React</span>.<span class="at">useEffect</span>(() <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb79-6" title="6"><span class="kw">const</span> onUnload <span class="op">=</span> <span class="va">cb</span>.<span class="at">current</span><span class="op">;</span></a>
<a class="sourceLine" id="cb79-7" title="7"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>beforeunload<span class="op">&amp;</span>quot<span class="op">;,</span> onUnload)<span class="op">;</span></a>
<a class="sourceLine" id="cb79-8" title="8"><span class="cf">return</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb79-9" title="9"><span class="va">window</span>.<span class="at">removeEventListener</span>(<span class="op">&amp;</span>quot<span class="op">;</span>beforeunload<span class="op">&amp;</span>quot<span class="op">;,</span> onUnload)<span class="op">;</span></a>
<a class="sourceLine" id="cb79-10" title="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb79-11" title="11"><span class="op">},</span> [cb])<span class="op">;</span></a>
<a class="sourceLine" id="cb79-12" title="12"><span class="op">};</span></a></code></pre></div>
<hr />
<div class="sourceCode" id="cb80"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb80-1" title="1"></a>
<a class="sourceLine" id="cb80-2" title="2"><span class="kw">const</span> App <span class="op">=</span> () <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb80-3" title="3">  <span class="at">useUnload</span>((e) <span class="op">=&amp;</span>gt<span class="op">;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb80-4" title="4">    <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb80-5" title="5">    <span class="kw">const</span> exit <span class="op">=</span> <span class="at">confirm</span>(<span class="op">&amp;</span>quot<span class="op">;</span>Are you sure you want to leave<span class="op">?&amp;</span>quot<span class="op">;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb80-6" title="6">    <span class="cf">if</span> (exit) <span class="va">window</span>.<span class="at">close</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb80-7" title="7">  })<span class="op">;</span></a>
<a class="sourceLine" id="cb80-8" title="8">  <span class="cf">return</span> <span class="op">&amp;</span>lt<span class="op">;</span>div<span class="op">&amp;</span>gt<span class="op">;</span>Try closing the <span class="va">window</span>.<span class="op">&amp;</span>lt<span class="op">;</span><span class="ss">/div&amp;gt;;</span></a>
<a class="sourceLine" id="cb80-9" title="9"><span class="ss">};</span></a>
<a class="sourceLine" id="cb80-10" title="10"><span class="ss">ReactDOM.render</span><span class="sc">(</span><span class="ss">&amp;lt;App /</span><span class="op">&amp;</span>gt<span class="op">;,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="op">&amp;</span>quot<span class="op">;</span>root<span class="op">&amp;</span>quot<span class="op">;</span>))<span class="op">;</span></a></code></pre></div>
<hr />
</body>
</html>
